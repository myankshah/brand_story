        try {
window.advBidxc = window.advBidxc || {};
window.advBidxc.isLoaded = true;
var configSettings = {"defaultBidderSetting":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"openxbidder":{"jstag_url":"http:\/\/medianet-d.openx.net\/w\/1.0\/jstag?oxns=mNHB","oxLogUrl":"http:\/\/medianet-d.openx.net\/w\/1.0\/ri?ee=mul&"},"rtbsbidder":{"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php"},"ybncabidder":{"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php"},"appnexusprivatebidder":{"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","sid":7460},"rvSh":0,"dsSh":0,"fp":0,"APPNEXUS":{"fp":0},"CPXI":{"dsSh":10},"ADREADY":{"dsSh":10}},"hbInfo":{"timeout":100,"ovGptFun":true,"fcsync":"1","version":"1"},"linfo":{"ld":"aplog, gptlog, prflog","noCode":true,"prlog":{"freq":2},"slogFreq":1000,"slotLog":{"ceCPM":0.5,"freq":10},"prBc":11,"clper":10},"bidder":[{"code":"top-ad-article-0","slotsLike":"top-ad-article","custTargs":{"pos":"top"},"mnet_id":"867969797","sizes":[[728,90]],"bids":[{"bidder":"openxbidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"jstag_url":"http:\/\/medianet-d.openx.net\/w\/1.0\/jstag?oxns=mNHB","oxLogUrl":"http:\/\/medianet-d.openx.net\/w\/1.0\/ri?ee=mul&","unit":"538122509","code":"top-ad-article-0","sizes":[[728,90]],"mnet_id":"867969797","custTargs":{"pos":"top"}}},{"bidder":"ybncabidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","YBNCA":{"mnet_cid":"8CUQ33R4V","mnet_crid":"254867187","size":"728x90"},"YBNCA-AUTO":{"mnet_cid":"8CUQ33R4V","mnet_crid":"254867187","size":"728x90"},"auto":100,"code":"top-ad-article-0","sizes":[[728,90]],"mnet_id":"867969797","custTargs":{"pos":"top"}}},{"bidder":"rtbsbidder","cbidders":["OPENXS2S"],"params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","OPENXS2S":{"size":"728x90","cid":"537144445","epc":538655566},"code":"top-ad-article-0","sizes":[[728,90]],"mnet_id":"867969797","custTargs":{"pos":"top"}}},{"bidder":"appnexusprivatebidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","sid":7460,"size":"728x90","epbc":"2599690","epc":"10256861","csizes":["728x90"],"code":"top-ad-article-0","sizes":[[728,90]],"mnet_id":"867969797","custTargs":{"pos":"top"}}},{"bidder":"testbidder","test":1,"params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"size":"728x90","cpm":"15.00","code":"top-ad-article-0","sizes":[[728,90]],"mnet_id":"867969797","custTargs":{"pos":"top"}}}],"timeout":0},{"code":"rec-ad-article-0","slotsLike":"rec-ad-article","custTargs":{"pos":"rec"},"mnet_id":"547351504","sizes":[[300,250]],"mnAdx":{"path":"\/45361917\/8CUX956JU-547351504-hb","adtagId":"158068517","increment":40,"prediction":{"seed":5,"increment":40,"decrement":25}},"bids":[{"bidder":"openxbidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"jstag_url":"http:\/\/medianet-d.openx.net\/w\/1.0\/jstag?oxns=mNHB","oxLogUrl":"http:\/\/medianet-d.openx.net\/w\/1.0\/ri?ee=mul&","unit":"538122510","code":"rec-ad-article-0","sizes":[[300,250]],"mnet_id":"547351504","custTargs":{"pos":"rec"}}},{"bidder":"ybncabidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","YBNCA":{"mnet_cid":"8CUQ33R4V","mnet_crid":"879207974","size":"300x250"},"YBNCA-AUTO":{"mnet_cid":"8CUQ33R4V","mnet_crid":"879207974","size":"300x250"},"auto":100,"code":"rec-ad-article-0","sizes":[[300,250]],"mnet_id":"547351504","custTargs":{"pos":"rec"}}},{"bidder":"appnexusprivatebidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","sid":7460,"size":"300x250","epbc":"2599690","epc":"10256874","csizes":["300x250"],"code":"rec-ad-article-0","sizes":[[300,250]],"mnet_id":"547351504","custTargs":{"pos":"rec"}}},{"bidder":"testbidder","test":1,"params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"size":"300x250","cpm":"15.00","code":"rec-ad-article-0","sizes":[[300,250]],"mnet_id":"547351504","custTargs":{"pos":"rec"}}}],"timeout":0},{"code":"recx-ad-article-0-0","slotsLike":"recx-ad-article-[0-9]-0","custTargs":{"pos":"recx"},"mnet_id":"466811878","sizes":[[300,250]],"mnAdx":{"path":"\/45361917\/8CUX956JU-466811878-HB","adtagId":"156361037","increment":40,"prediction":{"seed":5,"increment":40,"decrement":25}},"bids":[{"bidder":"openxbidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"jstag_url":"http:\/\/medianet-d.openx.net\/w\/1.0\/jstag?oxns=mNHB","oxLogUrl":"http:\/\/medianet-d.openx.net\/w\/1.0\/ri?ee=mul&","unit":"538122511","code":"recx-ad-article-0-0","sizes":[[300,250]],"mnet_id":"466811878","custTargs":{"pos":"recx"}}},{"bidder":"ybncabidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","YBNCA":{"mnet_cid":"8CUQ33R4V","mnet_crid":"820347573","size":"300x250"},"YBNCA-AUTO":{"mnet_cid":"8CUQ33R4V","mnet_crid":"820347573","size":"300x250"},"auto":90,"code":"recx-ad-article-0-0","sizes":[[300,250]],"mnet_id":"466811878","custTargs":{"pos":"recx"}}},{"bidder":"appnexusprivatebidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","sid":7460,"size":"300x250","epbc":"2599690","epc":"10256875","csizes":["300x250"],"code":"recx-ad-article-0-0","sizes":[[300,250]],"mnet_id":"466811878","custTargs":{"pos":"recx"}}},{"bidder":"testbidder","test":1,"params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"size":"300x250","cpm":"15.00","code":"recx-ad-article-0-0","sizes":[[300,250]],"mnet_id":"466811878","custTargs":{"pos":"recx"}}}],"timeout":0},{"code":"recx-ad-article-0-1","slotsLike":"recx-ad-article-[0-9]-1","ng":true,"custTargs":{"pos":"recx"},"mnet_id":"941664466","sizes":[[300,250]],"mnAdx":{"path":"\/45361917\/8CUX956JU-941664466-hb","adtagId":"158068637","increment":40,"prediction":{"seed":5,"increment":40,"decrement":25}},"bids":[{"bidder":"openxbidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"jstag_url":"http:\/\/medianet-d.openx.net\/w\/1.0\/jstag?oxns=mNHB","oxLogUrl":"http:\/\/medianet-d.openx.net\/w\/1.0\/ri?ee=mul&","unit":"538378058","code":"recx-ad-article-0-1","sizes":[[300,250]],"mnet_id":"941664466","custTargs":{"pos":"recx"}}},{"bidder":"ybncabidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","YBNCA":{"mnet_cid":"8CUQ33R4V","mnet_crid":"801172713","size":"300x250"},"YBNCA-AUTO":{"mnet_cid":"8CUQ33R4V","mnet_crid":"801172713","size":"300x250"},"auto":100,"code":"recx-ad-article-0-1","sizes":[[300,250]],"mnet_id":"941664466","custTargs":{"pos":"recx"}}},{"bidder":"appnexusprivatebidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","sid":7460,"size":"300x250","epbc":"2599690","epc":"10256876","csizes":["300x250"],"code":"recx-ad-article-0-1","sizes":[[300,250]],"mnet_id":"941664466","custTargs":{"pos":"recx"}}},{"bidder":"testbidder","test":1,"params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"size":"300x250","cpm":"15.00","code":"recx-ad-article-0-1","sizes":[[300,250]],"mnet_id":"941664466","custTargs":{"pos":"recx"}}}],"timeout":0},{"code":"loge-ad-article-0","slotsLike":"loge-ad-article","custTargs":{"pos":"loge"},"mnet_id":"562746473","sizes":[[300,250]],"mnAdx":{"path":"\/45361917\/8CUX956JU-562746473-hb","adtagId":"158068397","increment":40,"prediction":{"seed":5,"increment":40,"decrement":25}},"bids":[{"bidder":"openxbidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"jstag_url":"http:\/\/medianet-d.openx.net\/w\/1.0\/jstag?oxns=mNHB","oxLogUrl":"http:\/\/medianet-d.openx.net\/w\/1.0\/ri?ee=mul&","unit":"538122512","code":"loge-ad-article-0","sizes":[[300,250]],"mnet_id":"562746473","custTargs":{"pos":"loge"}}},{"bidder":"ybncabidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","YBNCA":{"mnet_cid":"8CUQ33R4V","mnet_crid":"400427123","size":"300x250"},"YBNCA-AUTO":{"mnet_cid":"8CUQ33R4V","mnet_crid":"400427123","size":"300x250"},"auto":100,"code":"loge-ad-article-0","sizes":[[300,250]],"mnet_id":"562746473","custTargs":{"pos":"loge"}}},{"bidder":"appnexusprivatebidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","sid":7460,"size":"300x250","epbc":"2599690","epc":"10256877","csizes":["300x250"],"code":"loge-ad-article-0","sizes":[[300,250]],"mnet_id":"562746473","custTargs":{"pos":"loge"}}},{"bidder":"testbidder","test":1,"params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"size":"300x250","cpm":"15.00","code":"loge-ad-article-0","sizes":[[300,250]],"mnet_id":"562746473","custTargs":{"pos":"loge"}}}],"timeout":0},{"code":"bottom","custTargs":{"pos":"bottom"},"mnet_id":"256589311","sizes":[[728,90]],"bids":[{"bidder":"openxbidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"jstag_url":"http:\/\/medianet-d.openx.net\/w\/1.0\/jstag?oxns=mNHB","oxLogUrl":"http:\/\/medianet-d.openx.net\/w\/1.0\/ri?ee=mul&","unit":"538167425","code":"bottom","sizes":[[728,90]],"mnet_id":"256589311","custTargs":{"pos":"bottom"}}},{"bidder":"ybncabidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","YBNCA":{"mnet_cid":"8CUQ33R4V","mnet_crid":"514725378","size":"728x90"},"YBNCA-AUTO":{"mnet_cid":"8CUQ33R4V","mnet_crid":"514725378","size":"728x90"},"auto":100,"code":"bottom","sizes":[[728,90]],"mnet_id":"256589311","custTargs":{"pos":"bottom"}}},{"bidder":"appnexusprivatebidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","sid":7460,"size":"728x90","epbc":"2599690","epc":"10256878","csizes":["728x90"],"code":"bottom","sizes":[[728,90]],"mnet_id":"256589311","custTargs":{"pos":"bottom"}}},{"bidder":"testbidder","test":1,"params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"size":"728x90","cpm":"15.00","code":"bottom","sizes":[[728,90]],"mnet_id":"256589311","custTargs":{"pos":"bottom"}}}],"timeout":0},{"code":"text","custTargs":{"pos":"text"},"mnet_id":"231281379","sizes":[[300,250]],"bids":[{"bidder":"openxbidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"jstag_url":"http:\/\/medianet-d.openx.net\/w\/1.0\/jstag?oxns=mNHB","oxLogUrl":"http:\/\/medianet-d.openx.net\/w\/1.0\/ri?ee=mul&","unit":"538180122","code":"text","sizes":[[300,250]],"mnet_id":"231281379","custTargs":{"pos":"text"}}},{"bidder":"ybncabidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","YBNCA":{"mnet_cid":"8CUQ33R4V","mnet_crid":"922672175","size":"300x250"},"YBNCA-AUTO":{"mnet_cid":"8CUQ33R4V","mnet_crid":"922672175","size":"300x250"},"auto":100,"code":"text","sizes":[[300,250]],"mnet_id":"231281379","custTargs":{"pos":"text"}}},{"bidder":"appnexusprivatebidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","sid":7460,"size":"300x250","epbc":"2599690","epc":"10256879","csizes":["300x250"],"code":"text","sizes":[[300,250]],"mnet_id":"231281379","custTargs":{"pos":"text"}}},{"bidder":"testbidder","test":1,"params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"size":"300x250","cpm":"15.00","code":"text","sizes":[[300,250]],"mnet_id":"231281379","custTargs":{"pos":"text"}}}],"timeout":0},{"code":"topx","mnet_id":"528273667","custTargs":{"pos":"topx"},"sizes":[[728,90]],"bids":[{"bidder":"openxbidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"jstag_url":"http:\/\/medianet-d.openx.net\/w\/1.0\/jstag?oxns=mNHB","oxLogUrl":"http:\/\/medianet-d.openx.net\/w\/1.0\/ri?ee=mul&","unit":"538167427","code":"topx","sizes":[[728,90]],"mnet_id":"528273667","custTargs":{"pos":"topx"}}},{"bidder":"ybncabidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","YBNCA":{"mnet_cid":"8CUQ33R4V","mnet_crid":"254670992","size":"728x90"},"YBNCA-AUTO":{"mnet_cid":"8CUQ33R4V","mnet_crid":"254670992","size":"728x90"},"auto":100,"code":"topx","sizes":[[728,90]],"mnet_id":"528273667","custTargs":{"pos":"topx"}}},{"bidder":"appnexusprivatebidder","params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"bidApiUrl":"http:\/\/contextual.media.net\/rtbsapub.php","sid":7460,"size":"728x90","epbc":"2599690","epc":"10256880","csizes":["728x90"],"code":"topx","sizes":[[728,90]],"mnet_id":"528273667","custTargs":{"pos":"topx"}}},{"bidder":"testbidder","test":1,"params":{"cid":"8CUX956JU","pid":"8POHX2768","hdhome":"","isAmp":false,"rvSh":0,"dsSh":0,"fp":0,"size":"728x90","cpm":"15.00","code":"topx","sizes":[[728,90]],"mnet_id":"528273667","custTargs":{"pos":"topx"}}}],"timeout":0}],"log":{"providerRequestPath":"http:\/\/qsearch.media.net\/log?logid=prlog","auctionParticipantPath":"http:\/\/qsearch.media.net\/log?logid=aplog","auctionDecisionPath":"http:\/\/qsearch.media.net\/log?logid=adlog","providerFetchRequestPath":"http:\/\/qsearch.media.net\/log?logid=prflog","auctionWinnerPath":"http:\/\/qsearch.media.net\/log?logid=awlog","gptRequestPath":"http:\/\/qsearch.media.net\/log?logid=gptrlog","casaleDebugUrl":"http:\/\/qsearch.media.net\/log?logid=kfk&evtid=cslog","amazonDebugUrl":"http:\/\/qsearch.media.net\/log?logid=kfk&evtid=amzlog","gptSlotPath":"http:\/\/qsearch.media.net\/log?logid=kfk&evtid=gptslog","errorLogUrl":"http:\/\/qsearch.media.net\/log?logid=kfk&evtid=errorBidLog","tpUrl":"http:\/\/qsearch.media.net\/log?logid=kfk&evtid=rtbstl","casaleLoggingPixel":"http:\/\/as.casalemedia.com\/headerstats","slotLoggingPixel":"http:\/\/qsearch.media.net\/log?logid=kfk&evtid=slotlog","expiredBidsPath":"http:\/\/qsearch.media.net\/log?logid=kfk&evtid=explog"},"hmInfo":{"masterScriptSrc":"http:\/\/contextual.media.net\/hmmaster.js?v=4"},"_mNVsid":"1263759964826155000V10","_dataCk":"833341368757271264*104|||||","_apnCk":"1","viewid":"1484734614","_mNVisitIdData":"59.94.33.238","_ip2c":"IN"};
var _mNRequire,_mNDefine;!function(){"use strict";function n(n){return"[object Array]"===Object.prototype.toString.call(n)}function e(n){return void 0!==n&&""!==n&&null!==n}function t(n){return"function"==typeof n}function r(r,i,o){return t(i)&&(o=i,i=[]),e(r)&&n(i)&&t(o)?void(u[r]={deps:i,callback:o}):!1}function i(n,e){var r,c=[];for(var f in n)if(n.hasOwnProperty(f)){if(r=n[f],"object"==typeof r||"undefined"==typeof r){c.push(r);continue}void 0!==o[r]?c.push(o[r]):(o[r]=i(u[r].deps,u[r].callback),c.push(o[r]))}return t(e)?e.apply(this,c):c}var o={},u={};_mNRequire=i,_mNDefine=r}();_mNDefine("_mNRP",[window,document,{}],function(e,t){"use strict";function r(t,r,n){return n=n||e,function(){arguments.length>0&&Array.prototype.push.apply(r,Array.prototype.slice.call(arguments)),t.apply(n,r)}}var n={},o="";if("function"!=typeof n.pushError){var i;for(n.noOfLogLevels=3,n.useragent=encodeURIComponent(navigator.userAgent),n.errQ=[],i=0;i<n.noOfLogLevels;i++)n.errQ[i]=[];n.setType=function(e){o=e},n.pushError=function(e){"undefined"==typeof e.logLevel&&(e={logLevel:3,errorVal:e}),e.logLevel>=3&&n.errQ[e.logLevel-1].push(e)},n.printErrors=function(){var r,i=0;for(r=0;r<n.noOfLogLevels;r++)i+=n.errQ[r].length;if(0!==i){var s,a,l,c,f=new Image,u="https:"===t.location.protocol?"https://qsearch-a.akamaihd.net/nerrping.php":"http://qsearch.media.net/nerrping.php",p="",g=0;for(r=n.noOfLogLevels-1;r>=0;r--){for(i=n.errQ[r].length,s=0;i>s;){if(c=1===r?n.errQ[r][s]:{logLevel:n.errQ[r][s].logLevel,errorVal:{name:n.errQ[r][s].errorVal.name,type:o,message:n.errQ[r][s].errorVal.message,line:n.errQ[r][s].errorVal.lineNumber,description:n.errQ[r][s].errorVal.description,stack:n.errQ[r][s].errorVal.stack}},l=n.stringify(c),!(l.length+p.length<=1200)&&p.length){g=1;break}0!==p.length&&(p+=","),p+=l,n.errQ[r].shift(),i--}if(g)break}p=encodeURIComponent("["+p+"]"),a=u+"?d="+p+"&userAgent="+n.useragent+"&requrl="+encodeURIComponent(e.location.href)+"&img=logo.gif",f.src=a}},n.tostring=function(e){return null===e?"null":e.toString()},n.quote=function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},n.stringify=function(e){return"object"==typeof JSON&&"undefined"!=typeof JSON.stringify?JSON.stringify(e):n.altStringify(e)},n.altStringify=function(e){var t,r,o=typeof e,i=e&&e.constructor===Array,s=[];switch(o){case"string":return n.quote(e);case"number":return isFinite(e)?n.tostring(e):"null";case"boolean":case"null":return n.tostring(e);case"object":for(t in e)"undefined"!=typeof e[t]&&(r=e[t],"string"==typeof r?r=n.quote(r):"object"==typeof r&&null!==r&&(r=n.altStringify(r)),s.push((i?"":'"'+t+'":')+n.tostring(r)));return(i?"[":"{")+n.tostring(s)+(i?"]":"}")}},n.errorObject=function(e,t,r){this.name=e,this.message=t,this.logLevel=r},n.execSafe=function(){var e,t,r=Array.prototype.slice.call(arguments),o=[],i=r.length,s=null,a=null;"object"==typeof r[i-1]&&r[i-1].constructor===n.errorObject&&(e=r[i-1],i--),"function"==typeof r[0]?(t=r.shift(),i--):(s=r.shift(),t=r.shift(),i-=2),o=r.slice(0,i);try{return t.apply(s,o)}catch(l){return e&&(l.name=e.name+" ("+l.name+")",l.message=e.message+" ("+l.message+")",a=e.logLevel),n.pushError({logLevel:a||3,errorVal:l}),new n.errorObject}},n.execSafeHandler=function(){var t,r,o=Array.prototype.slice.call(arguments),i=e,s=o.length-1,a=null;"object"==typeof o[s]&&o[s].constructor===n.errorObject&&(t=o[s]),"function"==typeof o[0]?r=o.shift():(i=o.shift(),r=o.shift());try{return r.apply(i)}catch(l){t&&(l.name=t.name+" ("+l.name+")",l.message=t.message+" ("+l.message+")",a=t.logLevel),n.pushError({logLevel:a||3,errorVal:l})}},n.setInterval=function(){var e,t=Array.prototype.slice.call(arguments);e=4===t.length?n.execSafeHandler(t[0],t[1],t[3]):n.execSafeHandler(t[0],t[1]),e!==!1&&setTimeout(r(n.setInterval,t),t[2])},n.setTimeout=function(){var t,r=Array.prototype.slice.call(arguments);t=4===r.length?function(){n.execSafeHandler(r[0],r[1],r[3])}:function(){n.execSafeHandler(r[0],r[1])},e.setTimeout(t,r[2])},n.eventObject=function(){var e=Array.prototype.slice.call(arguments);this.elem=e[0],this.type=e[1],this.listener=4===e.length?function(){n.execSafe(e[0],e[2],e[3])}:function(){n.execSafe(e[0],e[2])}},n.eventObject.prototype.addEvent=function(){var e=function(){this.elem.addEventListener?this.elem.addEventListener(this.type,this.listener,!1):this.elem.attachEvent&&this.elem.attachEvent("on"+this.type,this.listener)};n.execSafe(this,e)},n.eventObject.prototype.removeEvent=function(){var e=function(){this.elem.removeEventListener?this.elem.removeEventListener(this.type,this.listener):this.elem.detachEvent&&this.elem.detachEvent("on"+this.type,this.listener)};n.execSafe(this,e)};var s=function(){n.setInterval(e,n.printErrors,2500)},a=new n.eventObject(e,"load",s);return a.addEvent(),{execSafe:n.execSafe,pushError:n.pushError,setType:n.setType}}});_mNDefine("util",["_mNRP",window,document,{}],function(e,t,n){"use strict";function r(){var e,t,n={},r=!1;this.start=function(){e=(new Date).getTime(),r=!0},this.stop=function(){t=(new Date).getTime(),r=!1},this.diff=function(){return(new Date).getTime()-e},this.tick=function(e){n[e]={},n[e].startTime=r?this.diff():-1},this.tock=function(e){n.hasOwnProperty(e)&&(n[e].endTime=-1===n[e].startTime?-1:this.diff())},this.time=function(e){return n.hasOwnProperty(e)?(n[e].endTime||this.tock(e),n[e].endTime-n[e].startTime):-1},this.getTime=function(e){return n.hasOwnProperty(e)?this.diff()-n[e].startTime:-1},this.getAllTime=function(){return n}}function o(e,t,n){var r="evt_"+(t||"gbl");Ie[r]=Ie[r]||{},Ie[r][e]=Ie[r][e]||[],Ie[r][e].push(n)}function i(e,t){var n="evt_"+(t||"gbl");Ie[n]&&Ie[n][e]&&Ie[n][e].length>0&&(Ie[n][e]=[])}function a(){for(var e in Ie)Ie.hasOwnProperty(e)&&-1!==e.indexOf("evt_")&&-1===e.indexOf("command")&&(Ie[e]={})}function u(t,n,r,o){o=o||("object"==typeof r?r:{}),r="boolean"==typeof r?r:!1;var i="evt_"+(n||"gbl");if(void 0!==Ie[i]){var a,u,c=Ie[i][t]||[],s={src:n};for(Ie.evt_gbl&&Ie.evt_gbl.gblEvt&&e.execSafe(Ie.evt_gbl.gblEvt[0],s,o),u=0,a=c.length;a>u;u++)m(c[u])&&e.execSafe(c[u],s,o);!r&&c.length>0&&(Ie[i][t]=[])}}function c(e,t,n,r){u("before:"+e,t,n),u(e,t,n,r),u("after:"+e,t,n)}function s(e,t){return h(e)?h(t)&&-1!==e.indexOf(t):!1}function l(e,t){return v(e)?de(e,function(e){return e===t?!0:void 0})||!1:!1}function f(e,t,n){var r=!1;v(e)&&p(t)&&p(n)&&(le(e,function(o,i,a){new RegExp(t).test(o)===!0&&(r=!0,e[i]=n)}),r===!1&&e.push(n))}function d(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function p(e){switch(typeof e){case"string":return void 0!==e&&""!==e&&null!==e;case"object":return null!==e;case"number":case"boolean":return!0;default:return!1}}function h(e){return p(e)}function m(e){return"function"==typeof e}function v(e){return"[object Array]"===Object.prototype.toString.call(e)}function g(e){return b(e)!==e}function y(e){return h(e)?encodeURIComponent(e):""}function b(e){if(!h(e))return"";try{return decodeURIComponent(e)}catch(t){return e}}function w(e){return h(e)?-1!==e.search("^(http(s)?%253A%252F%252F)")?b(e):-1!==e.search("^(http(s)?://)")?y(e):e:""}function E(e){if(!h(e))return{};var t,n,r,o,i={};if(t=e.indexOf("?"),-1===t)return i;for(n=e.substring(t+1).split("&"),r=n.length;r--;)o=n[r].split("="),i[o[0]]=o[1];return i}function S(e){this.url=e,this.map=E(this.url)}function O(){var e=!1;try{"object"==typeof t.top&&"object"==typeof t&&(e=t.top!=t)}catch(n){e=!0}return e}function x(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function I(e,t,n){return n=n||null,t=t||[],function(){var r=t.slice(0);arguments.length>0&&Array.prototype.push.apply(r,Array.prototype.slice.call(arguments)),e.apply(n,r)}}function C(){return p(t.location.href)?t.location.href:""}function T(e){e=b(e);var t=new RegExp("^http(?:s)?://([^/]+)","im"),n=e.match(t);return n?n[1].toString():""}function N(e){try{var t=e.contentWindow||e.contentDocument,n=t&&(t.document||t)||!1;return[n,t,null]}catch(r){return[!1,null,"Access Denied"]}}function P(e){var t;if(e=e.match(/^([1-9]\d*|0[0-7]*|0x[\da-f]+)(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?$/i),!e)return!1;for(e[0]=0,t=1;5>t;t+=1)e[0]+=!!(e[t]||"").length,e[t]=parseInt(e[t],10)||0;return e.push(256,256,256,256),e[4+e[0]]*=Math.pow(256,4-e[0]),e[1]>=e[5]||e[2]>=e[6]||e[3]>=e[7]||e[4]>=e[8]?!1:e[1]*(1===e[0]||16777216)+e[2]*(e[0]<=2||65536)+e[3]*(e[0]<=3||256)+1*e[4]}function B(){return""+x(0,254)+"."+x(0,254)+"."+x(0,254)+"."+x(0,254)}function D(e){v(e)||(e=[e]);var n=t._mNRequire(["entitymanager"])[0];n&&m(n.isAmpRequest)&&n.isAmpRequest()?L(e):k(e)}function R(e,t,n,r,o){var i;if(n=n||Y("@body:0"),!n)return K("@body:0",100,I(R,[e,t,null,r,o]),!1),null;if(i=(new G).set("marginWidth",0).set("marginHeight",0).set("scrolling","no").set("frameBorder",0).set("height",0).set("width",0).set("id",e).overrideStyle("display:none !important;").done(),r)for(var a in r)i[a]=r[a];return n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),t&&_(i,t),m(o)&&(i.onload=o),i}function M(e,t){return e.length>t?e.substr(0,t):e}function j(e){var t=e.contentWindow||e.contentDocument;t.logBeacons()}function L(e){le(e,function(e){e=M(e,8e3),(new Image).src=e})}function k(e){void 0===Ie.beaconsQueue&&(Ie.beaconsQueue=[]);var t="_advBidxc_beacons",n=Y(t),r='<!DOCTYPE html><html><head><script type="text/javascript">function logBeacons(){if(window.parent&&window.parent._mNRequire){window.parent._mNRequire(["util"],function(util){var beaconsQueue=util.getBeaconUrlList();if(beaconsQueue.length>0){var i,j;for(i=0,j=beaconsQueue.length;i<j;i++){(new Image()).src=beaconsQueue.shift();}}});}};<\/script></head><body></body></html>',o=0===Ie.beaconsQueue.length&&null===n;if(v(e)){var i,a;for(i=0,a=e.length;a>i;i++)Ie.beaconsQueue.push(M(e[i],8e3))}else h(e)&&Ie.beaconsQueue.push(M(e,8e3));if(o){var u=R(t,r);K(t,100,I(j,[u]),!0)}else if(null!==n){var c=n.contentWindow||n.contentDocument;try{Pe.getInstance().onDOMLoad(c.logBeacons)}catch(s){}}}function A(){return void 0===Ie.beaconsQueue&&(Ie.beaconsQueue=[]),Ie.beaconsQueue}function _(t,r){if(t){var o,i=N(t);try{if(null!==i[2])throw i[2];o=i[0],o&&(o.open(),o.write(r),o.close())}catch(a){var u="javascript:var d=document.open();d.domain='"+n.domain+"';";t.src=u+"void(0);";try{var c=t.contentWindow.document;c.write(r),c.close()}catch(s){t.src=u+'d.write("'+r.replace(/"/g,'\\"')+'");d.close();',e.pushError(s)}}}}function Q(e,t){return h(e)?"&"+e+"="+t:""}function q(e){if(m(Object.keys))return Object.keys(e);var t=[];return le(e,function(e,n){t.push(n)}),t}function F(e,t){function n(e){return"object"!=typeof e||e.isUrlEntity!==!1}var r,o,i="",a=!!t,u=a?t:e;for(r in u)if(u.hasOwnProperty(r)&&(a&&(r=t[r]),h(e[r])&&n(e[r]))){if(v(e[r])){for(var c in e[r])i+=Q(r+"[]",e[r][c]);continue}o="object"==typeof e[r]?e[r].value:e[r],i+=Q(r,o)}return i}function U(e,t){t=60*t*1e3;var n=be();return n-e>t?!1:!0}function W(){return/msie|rv:11\.0/.test(Ce.toLowerCase())}function V(e){var t="";return le(e,function(e,n){t+=Q(n+"[]",e)}),t}function J(e,t){var n,r,o,i,a=[],u=[],c=e.length;if(0===c)return[""];for(n in e[0])e[0].hasOwnProperty(n)&&a.push(n);var s="",l=W();for(n=0,r=e.length;r>n;n++){var f="";for(o=0,i=a.length;i>o;o++)f+=Q(a[o]+"[]",e[n][a[o]]);l&&p(t)?f.length>t?u.push(f):(s+f).length>t?(u.push(s),s=f):s+=f:s+=f}return u.push(s),u}function H(e){switch(typeof e){case"string":return h(e)&&("1"===e||"true"===e);case"number":return 0!==e;case"boolean":return e;default:return!1}}function X(e,t){return void 0===e||void 0===t||void 0===e[t]?void 0:e[t]}function $(e,r){if(/complete|loaded/.test(n.readyState))return void e();if(r||Ne.addEvent(t,"load",e),!r&&n.addEventListener)return void Ne.addEvent(n,"DOMContentLoaded",e);var o=n.documentElement;if(o&&o.doScroll)try{o.doScroll("left"),e()}catch(i){setTimeout(I($,[e,!0]),50)}}function G(e){return e?void(this.frame=e.document.createElement("iframe")):void(this.frame=n.createElement("iframe"))}function Y(e){try{var t,r=e.charAt(0),o=e.substr(1).split(":"),i=o[0],a=h(o[1])&&parseInt(o[1],10);switch(r){case"@":t=n.getElementsByTagName(i);break;case"#":t=n.getElementById(i);break;case"$":t=n.getElementsByName(i);break;case".":t=Z(n,i);break;default:t=n.getElementById(e)}return a===!1?t:t[a]}catch(u){return null}}function K(e,t,n,r){try{var o=Y(e),i=Pe.getInstance().hasDOMLoaded();if(o||!r&&i)return void n.call(null,o||!1);setTimeout(I(K,[e,t,n,r]),t)}catch(a){setTimeout(I(K,[e,t,n,r]),t)}}function Z(e,t,r){if(m(n.getElementsByClassName))return e.getElementsByClassName(t);r=r||"*";var o,i,a=new RegExp("(^|\\s)"+t+"(\\s|$)"),u=e||n,c="*"===r&&u.all?u.all:u.getElementsByTagName(r),s=[],l=c.length;for(i=0;l>i;i++)o=c[i],a.test(o.className)&&s.push(o);return s}function z(){return h(Ce)&&/ip(hone|od|ad)|android|blackberry|kindle|symbian|wap|windows (ce|phone)|palm( os)|iemobile|nokia|mobile/i.test(Ce)}function ee(){var e;return!s(Ce,"Gecko")||s(Ce,"Trident")||s(Ce,"MSIE")?s(Ce,"webkit")?!0:(s(Ce,"Trident")||s(Ce,"MSIE"))&&(e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ce),p(e)&&parseFloat(e[1])>=11)?!0:!1:!0}function te(){var e;return(s(Ce,"Trident")||s(Ce,"MSIE"))&&(e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ce),p(e)&&p(e[1]))?parseFloat(e[1]):-1}function ne(t,r,o,i){if(h(t)){if("http"!==t.substr(0,4)&&o===!0){var a="https:"===n.location.protocol;t=(a?"https:":"http:")+t}var u=n.createElement("script"),c=n.getElementsByTagName("script")[0],s=!1;u.type="text/javascript",u.async=!0,i&&i.crossOrigin&&(u.crossOrigin="anonymous"),r&&"function"==typeof r&&(u.onload=u.onreadystatechange=function(){s||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(s=!0,e.execSafe(r))}),u.src=t,c.parentNode.insertBefore(u,c)}}function re(e){if(h(e)){var t=n.createElement("script"),r=n.getElementsByTagName("script")[0];t.type="text/javascript",t.appendChild(n.createTextNode(e)),r.parentNode.insertBefore(t,r)}}function oe(){try{return/loaded|complete/.test(n.readyState)}catch(e){return!1}}function ie(e,t,r){var i;if(h(e)){if("http"!==e.substr(0,4)){var a="https:"===n.location.protocol;e=(a?"https:":"http:")+e}i="_mN_advBid_"+r,o("prvReq",r,t);var u='<!DOCTYPE html><html><head><script type="text/javascript">function makeCall(){var scriptElement = document.createElement(\'script\'), tag = document.getElementsByTagName("script")[0], status = false; scriptElement.type = \'text/javascript\'; scriptElement.async = true; scriptElement.onload = scriptElement.onreadystatechange = function () { if (!status && (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")) { status = true; window.parent._mNRequire([\'util\'], function(util){util.triggerEvent("prvReq", "'+r+'", false, window);});}};scriptElement.src = "'+e+'"; tag.parentNode.insertBefore(scriptElement, tag);}<\/script></head><body onload="makeCall()"></body></html>',c=R(i,u);return N(c)[1]}}function ae(e){var t=e.toString(),n=t.indexOf(".");return-1!==n?parseFloat(t.substr(0,Math.min(n+3,t.length))).toFixed(2):parseFloat(e).toFixed(2)}function ue(){Te&&t.console&&t.console.log(Array.prototype.slice.call(arguments))}function ce(e,t){e.super_=t;for(var n in t.prototype)e.prototype[n]=t.prototype[n];e.prototype.constructor=e}function se(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function le(e,t){if(p(e)){var n=0,r=e.length;if(v(e))for(;r>n;n++)t.call(e[n],e[n],n,r);else for(n in e)e.hasOwnProperty(n)&&t.call(e[n],e[n],n,0)}}function fe(e,t){if(!p(e))return[];var n;m(t)||(t=function(e,t){return!!e});var r=0,o=e.length;if(v(e))for(n=[];o>r;r++)t.call(e[r],e[r],r)&&n.push(e[r]);else{n={};for(r in e)e.hasOwnProperty(r)&&t.call(e[r],e[r],r)&&(n[r]=e[r])}return n}function de(e,t){if(p(e)){m(t)||(t=function(e,t){return!!e});var n,r=0,o=e.length;if(v(e)){for(;o>r;r++)if(n=t.call(e[r],e[r],r),p(n))return n}else for(r in e)if(e.hasOwnProperty(r)&&(n=t.call(e[r],e[r],r),p(n)))return n}}function pe(e,t){if(!p(e))return[];var n;m(t)||(t=function(e,t){return!!e});var r=0,o=e.length;if(v(e))for(n=[];o>r;r++)n.push(t.call(e[r],e[r],r));else{n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=t.call(e[r],e[r],r))}return n}function he(e,t,n){if(m(t)){var r,o,i;if(v(e)){if(o=0,i=e.length,"undefined"!=typeof n)r=n;else{for(;i>o&&!(o in e);)o++;if(o>=i)return;r=e[o++]}for(;i>o;o++)o in e&&(r=t(r,e[o],o,e));return r}n=n||"",r=n;for(o in e)e.hasOwnProperty(o)&&(r=t(r,e[o],o,e));return r}}function me(e){return"CSS1Compat"==e.compatMode?e.documentElement:e.body}function ve(e){var t,r,o=e.document,i=void 0,a=void 0,u="_mNTemp";try{t=me(o),t||(o.write('<div id="'+u+'" style="display:none;"></div>'),t=me(e.document),r=n.getElementById(u),r.parentNode.removeChild(r)),t&&(i=t.clientWidth||void 0,a=t.clientHeight||void 0)}catch(c){}return{width:i,height:a}}function ge(e,t){e=e||20,t=t||"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var n="",r=e;r>0;--r)n+=t[Math.round(Math.random()*(t.length-1))];return n}function ye(){return!!(t.JSON&&t.JSON.parse&&"function"==typeof JSON.parse&&t.JSON.stringify&&"function"==typeof JSON.stringify)}function be(){return(new Date).getTime()}function we(e,t){if("object"!=typeof e||"string"!=typeof t)return!1;if("string"==typeof e.className){var n=new RegExp("(^|\\s)"+t+"(\\s|$)");return n.test(e.className)}}function Ee(e,t){if(e.style[t])return e.style[t];if(e.currentStyle)return e.currentStyle[t];if(n.defaultView&&n.defaultView.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1"),t=t.toLowerCase();var r=n.defaultView.getComputedStyle(e,"");return r&&r.getPropertyValue(t)}return null}function Se(e,t){if(!p(e)&&p(t))return null;var n=new RegExp("[?&]"+t+"=([^&#]*)","i"),r=n.exec(e);return r?r[1]:null}function Oe(n,r,o,i){if(!t.XMLHttpRequest)return null;var a=new XMLHttpRequest,u=!1,c=function(){},s=function(){var e=o.onload||c;e(a.response||a.responseText)},l=function(){var e=o.onerror||c;e()};if("withCredentials"in a)a.open(n,r,!0),a.withCredentials=!0;else{if(!t.XDomainRequest)return null;a=new XDomainRequest;try{a.open(n,r)}catch(f){return null}}return a.onload=a.onreadystatechange=function(){u||4==a.readyState&&(200==a.status?e.execSafe(s):l(),u=!0)},a.onerror=l,a.onabort=l,a.send(i),!0}function xe(e){var t;try{e&&e.data&&"string"==typeof e.data&&ye()&&(t=JSON.parse(e.data))}catch(n){}return t}var Ie={},Ce=navigator.userAgent,Te=-1!==t.location.href.indexOf("mnet_test="),Ne={addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),e=null},removeEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n),e=null}};S.prototype.getParam=function(e){return this.map[e]||""},S.prototype.getDecodedParam=function(e){var t=this.map[e];return t&&b(t)||""};var Pe=function(){function e(){function e(){var e;for(r=!0;t.length>0;)e=t.shift(),e.call(null);t=[]}var t=[];this.onDOMLoad=function(n){return t.push(n),1!==t.length||r?void(r&&e()):void $(e)},this.hasDOMLoaded=function(){return r},this.isDOMInteractive=function(){return r||/interactive/.test(n.readyState)}}var t=null,r=!1;return{getInstance:function(){return null===t&&(t=new e),t}}}();return G.prototype.set=function(e,t){return this.frame[e]=t,this},G.prototype.setStyle=function(e){var t;for(t in e)e.hasOwnProperty(t)&&(this.frame.style[t]=e[t]);return this},G.prototype.overrideStyle=function(e){return this.frame.style.cssText=e,this},G.prototype.done=function(){return this.frame},{encodeParam:y,decodeParam:b,isEncoded:g,generateRandomString:ge,getQueryStringParameterValue:Se,getHostname:T,getPublisherUrl:C,isStringSet:h,inIframe:O(),isInIFrameCall:O,getRandom:x,getParamValueFromUrlAsArray:E,GetParamValueFromUrl:S,checkUrlDecodingEncoding:w,eventLib:Ne,isFunction:m,isArray:v,ua:t.navigator.userAgent.toLowerCase(),isDocumentWritable:ee(),buildUrlParameters:F,getQueryParamString:Q,logBeacons:D,getBeaconUrlList:A,isOptionSet:H,checkItemExistsInArray:l,getIframeDoc:N,getProxy:I,CreateFrame:G,callWhenAvailable:K,getChildElemByClass:Z,ip2long:P,checkItemExists:s,queryDOM:Y,writeContentInIframe:_,safeReturn:X,DOMLoadObserver:Pe,isMobile:z,createNonBlockingFrame:R,loadScript:ne,insertScript:re,loadScriptInIframe:ie,triggerEvent:u,triggerEventWithBeforeAfter:c,addToEventQueue:o,insertOrReplaceIntoArray:f,decimalLimit:ae,consoleLog:ue,getRandomIp:B,buildUrlCollectionParams:J,buildCollectionUrlItem:V,inherits:ce,isTimestampValid:U,clock:new r,extend:se,hasWindowLoaded:oe,detachEvents:i,resetEvents:a,isSet:p,isEmptyObject:d,map:pe,reduce:he,filter:fe,any:de,each:le,fromIE:W,getWindowDimension:ve,isJSONSupported:ye,getCurrentTime:be,getObjectKeys:q,nodeHasClass:we,getElementStyle:Ee,createCORSRequest:Oe,getIEVersion:te,getPostmessageData:xe}});_mNDefine("uadetector",[],function(){"use strict";function e(){return g.detectDeviceType().getId()}function t(){return g.detectDeviceType().getName()}var d=function(e,t,d){this.id=e,this.name=t,this.regexp=d};d.prototype.getName=function(){return this.name},d.prototype.getId=function(){return this.id},d.prototype.getRegexp=function(){return this.regexp};var s="spreadtrum[ ;]|oppo( |)[a-z][\\d]|neozenrevo|trend\\smicro\\swtp|dorado\\swap-browser|huawei(\\shg520v|(/|_|)[a-z][\\d][\\d][\\d][\\d])|(alcatel[-_](ot-|ot|one_touch_|)[\\d][\\d][\\d])|deweb60|gionee|(gt-[a-z][\\d][\\d][\\d][\\d])|(huawei-u[\\d][\\d][\\d][\\d])|(htc_touch|htc_smart|htc[_-][a-z]+[\\d][\\d][\\d][\\d])|(karbonn\\swap-browser\\sk[\\d][\\d]|karbonn(/|[ _|]k[\\d][\\d]))|(kddi-[a-z][a-z][\\d][a-z0-9])|kkt50|lava.discover|lava.kkt|lava.spar|(lemon[ _]((s|t|gc)[\\d][\\d][\\d]|duo))|(samsung-([a-z]|sgh-[a-z])([\\d]|v)[\\d][\\d])|(lg[-/]([a-z]+|)[\\d][\\d][\\d](([a-z]|)/v|[ -]))|(micromax([ |]|)[a-z]+[\\d][\\d])|(mot-ex[\\d]|mot-v[\\d]|mot-razrv3|mot-l9/)|(nexian( |)nx(-|)[a-z][\\d])|pantechp|s8500|(sagetel[\\d]+([a-z]|)_)|softbank/|sonyd2105|(spice\\s(m([ -]|)([\\d]|i-)[\\d]|qt(-|))[\\d][\\d])|tianyu-ktouch|zen\\sp8|(zte[ -/][a-z](|[- ][a-z])[\\d][\\d][\\d])|videocon-A45",o="200pleasebot|alexabot|adsbot-google|appengine-google;|ask\\sjeeves/teoma|baiduspider|bingbot|caliperbot/|ccbot/[\\d]|commons-httpclient|crawler|facebookexternalhit|linkedinbot/|twitterbot/|google[.]com/[+]/web/snippet|feedfetcher-google|googlebot|ia_archiver|kishimobot|luasocket|magpierss|moodlebot|msnbot|nuhk|openbot|pingdom[.]com_bot_version|simplepie|site\\sscanner\\sbot|slurp|smtbot/[\\d]|spbot/[\\d]|spinn3r|startmebot/|statdom[.]ru/bot|uptimerobot|web\\sspider|spider/|webspider|wget/|yammybot|yodaobot|yandexmetrika/|yandexbot|yacybot|google-http-java-client/|musobot/|yabrowser/",i=new d(0,"UNKNOWN_DEVICE",new RegExp("")),a=new d(1,"SMART_TV",new RegExp("smart-tv|smarttv|googletv|appletv|hbbtv|pov_tv|netcast.tv?|espial/[\\d]+|hbbtv/|tv\\store|sonydtv|pov_tv-hdmi|nettv/|kylo/|viera;|vap430")),n=new d(2,"TABLET",new RegExp("hudl ht7s3 build|kindle( |/)|ipad|tablet|playbook|smart\\stab|gt-n8000|gt-n8013|gt-p[\\d][\\d][\\d][\\d]|me371mg|nexus\\s(7|8|9|[\\d][\\d])\\sbuild/|sm-t[\\d][\\d][\\d]|\\ssgp[\\d][\\d][\\d] build/|touchpad build|venue7\\s[\\d][\\d][\\d][\\d]\\s|gt-n5100 build|lenovoa3300[-]hv|kfjwi\\sbuild/|shw-m\\d\\d\\d[a-z]\\sbuild/|smarttab10-|sony\\stablet\\s(s|p)\\s|huawei\\smediapad\\sbuild|thinkpad\\stablet\\s|vodafone\\ssmarttab|(kfapwa|kfapwi|kfarwi|kfaswi|kfjwa|kfjwi|kfot|kfsawa|kfsawi|kfsowi|kfthwa|kfthwi|kftt)\\sbuild|ideatab\\s|mediapad\\s[\\d]+\\slite\\sbuild|mid\\d\\d\\d\\d\\sbuild/")),r=new d(3,"MOBILE",new RegExp("fennec/|mobile|phone|iphone|ipod|blackberry|playbook|bb10|android|palm|windows\\s+ce|s60;\\ssymbos|series\\s60|series40|samsung-gt-|sonyericsson|nokia|samsung\\sgt|nokia|maui\\sruntime|j2me/midp|brew|docomo/[\\d]+.[\\d]+|mi\\s3w\\smiui|maui\\swap\\sbrowser|(\\d|)\\d\\d\\d[*]\\d\\d\\d(\\d|)(|;)[)]|"+s)),p=new d(4,"DESKTOP",new RegExp("windows|win([\\d][\\d]|nt)(\\s|;|[)])|windows\\snt\\s\\d[.]\\d|cros;|cros\\s|linux|os\\s+[x9]|solaris|bsd|x11|mac_powerpc|macintosh|"+o)),b=new d(5,"GAME_CONSOLE",new RegExp("playstation\\s[\\d]|playstation\\sportable|nintendo")),c=function(e){this.deviceType=i,e&&(this.userAgent=e.toLowerCase(),this.deviceType=this.detectDeviceType(),this.deviceType.getId()===n.getId()&&this.userAgent.indexOf("tablet pc")>-1&&(this.deviceType=p),this.userAgent.indexOf("android")>-1&&this.userAgent.indexOf("mobile")>-1&&this.deviceType.getId()!==n.getId()&&(this.deviceType=r))};c.deviceListPriority=[a,n,r,p,b,i],c.prototype.detectDeviceType=function(){for(var e=c.deviceListPriority,t=0;t<e.length;t++)if(e[t].getRegexp().test(this.userAgent))return e[t];return i},c.prototype.getDeviceType=function(){return this.deviceType};var g=new c(navigator.userAgent);return{getClientDeviceId:e,getClientDeviceName:t}});_mNDefine("cookieutil",[document],function(e){"use strict";function i(i){var n=e.cookie.indexOf(i+"="),t=n+i.length+1;if(!n&&i!==e.cookie.substring(0,i.length))return null;if(-1===n)return null;var o=e.cookie.indexOf(";",t);return-1===o&&(o=e.cookie.length),unescape(e.cookie.substring(t,o))}function n(i,n,t,o,r,u,c){var s=new Date;s.setTime(s.getTime()),t&&(t=1e3*t*60*60*24),c&&(t=1e3*c*60);var a=new Date(s.getTime()+t);e.cookie=i+"="+escape(n)+(t?";expires="+a.toGMTString():"")+(o?";path="+o:"")+(r?";domain="+r:"")+(u?";secure":"")}return{getCookie:i,setCookie:n}});_mNDefine("entitymanager",["util","config","_mNRP","uadetector","cookieutil","bid"],function(e,t,n,r,i,o){"use strict";function u(){var n=e.getRandom(1e8,999999999),r=t.viewid||Math.round((new Date).getTime()/1e3),i=r.concat(n);return i}function d(){var n;if(!we.VISITOR_ID)if(n=t._mNVsid,e.isStringSet(n)&&-1===n.indexOf("VID")&&n.length>10){var r=-1===n.indexOf("V")?3:6;we.VISITOR_ID=n.substr(0,n.length-r)}else we.VISITOR_ID="";return we.VISITOR_ID}function a(){return t._mNVisitIdData}function s(){if(!we.COUNTRY_CODE){var e=t._ip2c||"";we.COUNTRY_CODE=e}return we.COUNTRY_CODE}function c(){var n,r;return we.VISIT_ID||(r=t._mNVisitIdData,e.isStringSet(r)||(r=e.getRandomIp()),n=(new Date).getTime(),we.VISIT_ID=("000000"+n+("00"+e.ip2long(r)).slice(-11)+e.getRandom(1e3,9999)).slice(-32)),we.VISIT_ID}function f(){return we.VIEW_ID||(we.VIEW_ID=u()),we.VIEW_ID}function I(t,n){return we.AUCTIONID=we.AUCTIONID||{},we.AUCTIONID[t]=we.AUCTIONID[t]||{},we.AUCTIONID[t][n]||(we.AUCTIONID[t][n]=e.ip2long(e.getRandomIp())+""+e.getRandom(1e6,9999999)+(new Date).getTime().toString()),we.AUCTIONID[t][n]}function g(t,n,r){var i=t+"-"+n+"-"+r;return we.PROVIDER_REQUESTID=we.PROVIDER_REQUESTID||{},we.PROVIDER_REQUESTID[i]||(we.PROVIDER_REQUESTID[i]=e.ip2long(e.getRandomIp())+""+e.getRandom(1e6,9999999)+(new Date).getTime().toString()),we.PROVIDER_REQUESTID[i]}function S(n,r){return e.isSet(t.defaultBidderSetting[n])?t.defaultBidderSetting[n]:r}function l(e){return-1!==S("hbdl","").toLowerCase().indexOf(e.toLowerCase())}function E(e){return-1!==S("cbdl","").toLowerCase().indexOf(e.toLowerCase())}function D(){return"https"===Ee()?!0:!1}function m(e){var n;for(n=0;n<t.bidder.length;n++)if(t.bidder[n].code===e)return t.bidder[n];return{}}function R(e){var n;for(n=0;n<t.bidder.length;n++)if(t.bidder[n].mnet_id===e)return t.bidder[n];return{}}function _(n){return e.any(t.bidder,function(e){return e.mnet_id===n?e.code:void 0})||""}function p(){return t.bidder||[]}function b(n,r){return e.isSet(t.hbaInfo)?t.hbaInfo[n]:r}function T(){return b("actTime",We)}function h(){return 1===b("bidReq","")}function v(){return b("mNCallback","")}function P(){return parseFloat(b("version",1))}function B(e){var t=R(e);return t.sizes[0].join("x")}function O(t,n){if(e.isSet(Me[t]))return Me[t];if(e.isSet(n.mnAdx.revExp)){if(!(e.getRandom(1,100)<=n.mnAdx.revExp))return Me[t]=!1,!1;Me[t]=!0,e.consoleLog(t)}return L(t,"adx=1"),!0}function C(t,n){var r=m(t).mnAdx;return qe[t]=qe[t]||{},e.isSet(qe[t][n])?qe[t][n]:e.isSet(r.extProviderMap)&&e.isSet(r.extProviderMap[n])&&e.getRandom(1,100)<=r.extProviderMap[n]?(qe[t][n]=!0,!0):(qe[t][n]=!1,!1)}function U(e,t){return x(e)?C(e,t):!1}function A(e,t){return U(e,t)&&N(e)}function F(){var t=X(),n=["@","%40","%2540","phone","zip","email","mobile="];return e.any(n,function(e){return-1!==t.indexOf(e)})||!1}function x(e){var t=m(e);return!F()&&t.mnAdx&&O(e,t)?!0:!1}function w(t){var n=m(t);return e.isSet(n)&&e.isSet(n.art)?n.art:null}function H(t){e.isArray(t)&&t.length>0&&(ke=t)}function V(){var t=[];return e.each(ke,function(n){var r=m(n);e.isEmptyObject(r)||t.push(r)}),t}function N(e){return x(e)&&Ve[e]!==!0?(Ve[e]=!0,!0):!1}function L(e,t){ye[e]=ye[e]||"",-1===ye[e].indexOf(t)&&(ye[e]+=t+"|")}function M(e){return ye[e]||""}function y(){return 3===oe()||1==t.hbInfo.sandbox}function k(){return"1"===S("hdhome","")}function Y(){return S("prfDisHome",!1)}function q(){return e.isSet(t.hmInfo)&&e.isSet(t.hmInfo.enable)&&t.hmInfo.enable===!0?!0:!1}function W(n,r){var i,o=3;return e.isStringSet(r)&&t.prvTimeout[r]&&(o=t.prvTimeout[r]||o),e.isSet(n)?(i=60*o*1e3,e.getCurrentTime()-n>i):!0}function Q(){return e.isSet(t.cbInfo.prefWLoad)&&t.cbInfo.prefWLoad===!0}function G(n){return e.checkItemExists(t.cbInfo.disCk,n+",")}function j(){return we.CID||(we.CID=S("cid","")),we.CID}function z(){return we.HOSTNAME||(we.HOSTNAME=e.getHostname(X())),we.HOSTNAME}function K(){return we.REFERRER||(we.REFERRER=Z(),e.isEncoded(we.REFERRER)===!0&&(we.REFERRER=e.decodeParam(we.REFERRER)),X()===we.REFERRER&&(we.REFERRER="")),we.REFERRER}function Z(){var t,n=e.isStringSet(document.referrer)?document.referrer:"",r=e.inIframe;if(!r)return n;try{return t=window.parent.document.referrer,e.isStringSet(t)?t:""}catch(i){}}function J(){var e=X();return e.split("?")[0]}function X(){return we.PUBLISHER||(we.PUBLISHER=ie(re())),we.PUBLISHER}function $(){return we.PUBLISHER_FD||(we.PUBLISHER_FD=X(),e.isSet(t.hbInfo.fd)&&(we.PUBLISHER_FD=Ee()+"://"+t.hbInfo.fd)),we.PUBLISHER_FD}function ee(){var e="";return e=pe()?window.context&&window.context.location&&window.context.location.href:X(),-1!==e.indexOf("force_hbtest=1")||-1!==e.indexOf("force_inimagetest=1")}function te(){return-1!==X().indexOf("force_atest=1")}function ne(){return-1!==X().indexOf("force_fbtest=1")}function re(){var e="";if(window.advBidxc_requrl)e=window.advBidxc_requrl;else{e=window.location.href;try{window.top.location.href&&(e=window.top.location.href)}catch(t){}}return e}function ie(t){if(!e.isStringSet(t))return"";var n,r=/fb_|utm_|bcmt|action_object_map|action_type_map|action_ref_map|action_action_map/;t=e.decodeParam(e.checkUrlDecodingEncoding(t)),n=t.indexOf("?");var i=t.indexOf("#");if(i>0&&(t=t.substring(0,i)),n>0&&r.test(t)){var o=t.substring(n+1).split("&"),u=-1,d=o.length;for(t=t.substring(0,n+1);++u<d;)""!==o[u]&&"action_object_map="!==o[u].substring(0,18)&&"action_type_map="!==o[u].substring(0,16)&&"action_ref_map="!==o[u].substring(0,15)&&"action_action_map="!==o[u].substring(0,18)&&"fb_"!==o[u].substring(0,3)&&"utm_"!==o[u].substring(0,4)&&"code="!==o[u].substring(0,5)&&"bcmt"!==o[u].substring(0,4)&&(t+="&"+o[u]);"?"===t.substr(-1,1)&&(t=t.substr(0,t.length-1))}if(-1!==t.indexOf("mnet_rand=r")){var a=(new Date).getTime();t=t.replace("mnet_rand=r","mnet_rand="+a)}return t}function oe(){return we.DEVICE_TYPE||(we.DEVICE_TYPE=r.getClientDeviceId()),we.DEVICE_TYPE}function ue(){var e=X().split("/");return e[0]+"//"+e[2]}function de(){var e=$().split("/");return e[0]+"//"+e[2]}function ae(){return se("customutil")}function se(e){if(void 0!==Ye[e])return Ye[e];try{Ye[e]=window._mNRequire([e])[0]}catch(t){Ye[e]=null}return Ye[e]}function ce(t){var n=ae();return e.isSet(n)&&e.isFunction(n.getUrlForPrefetch)&&e.isSet(t)?n.getUrlForPrefetch(t):ue()}function fe(t){var n=ae();return e.isSet(n)&&e.isFunction(n.getUrlForHeaderBidding)&&e.isSet(t)?n.getUrlForHeaderBidding(t):ue()}function Ie(){var t;return we.SESSION_DEPTH||(t=i.getCookie(Ne),we.SESSION_DEPTH=e.isStringSet(t)&&parseInt(t.split("|")[0])||-1),we.SESSION_DEPTH}function ge(){var t,n,r,o;n=i.getCookie(Ne),r=e.isStringSet(n)&&parseInt(n.split("|")[1]),e.isSet(r)&&e.isTimestampValid(r,Le)?t=n.split("|")[0]:(t="0",r=e.getCurrentTime()),o=parseInt(t)+1,o=o+"|"+r,i.setCookie(Ne,o,null,"/")}function Se(){return e.getHostname(X())}function le(t){return e.isStringSet(t)&&(we.AB_TESTS=t.toString()),we.AB_TESTS||""}function Ee(){var e="https:"==document.location.protocol;return 1===S("isHttps",0)&&(e=!0),e?"https":"http"}function De(){var e="https"==Ee();return e?"https=1":""}function me(){var e=oe();return 2!==e&&3!==e||!t.hbInfo.mdeDp&&!t.hbInfo.mdegpt?t.hbInfo.deDp||t.hbInfo.degpt||0:t.hbInfo.mdeDp||t.hbInfo.mdegpt}function Re(){return t.hbInfo.timeout||0}function _e(t){return e.isSet(t)&&(we.AD_BLOCK_DETECTED=t),we.AD_BLOCK_DETECTED||0}function pe(){return t.defaultBidderSetting.isAmp?1:0}function be(){return e.isStringSet(t.hbInfo.version)?t.hbInfo.version:"1"}function Te(t,n){var r=/%%([A-Za-z_]+)%%/g;return t.replace(r,function(t,r){var i,o;return i=He[r],i?(o=i(),n&&(o=e.encodeParam(o)),o):""})}function he(t,n){return e.isStringSet(t)?t=e.isArray(t)?e.map(t,function(e){return he(e,n)}):Te(t,n):void 0}function ve(t,n,r){return we.SUB_BIDDER_ID=we.SUB_BIDDER_ID||{},we.SUB_BIDDER_ID[t]=we.SUB_BIDDER_ID[t]||{},e.isSet(r)&&(we.SUB_BIDDER_ID[t][n]=r),we.SUB_BIDDER_ID[t][n]||""}function Pe(t,n){var r=n&&n.placements;we={},e.isArray(r)&&r.length>0&&e.each(r,function(e){Ve[e]=!1,ye[e]=""})}function Be(){return t.defaultBidderSetting.cid}function Oe(){return t.defaultBidderSetting.fp}function Ce(n){return e.isSet(t.defaultBidderSetting[n])?t.defaultBidderSetting[n].fp:void 0}function Ue(n){return e.isSet(t.defaultBidderSetting[n])?t.defaultBidderSetting[n].dsSh:void 0}function Ae(n){return e.isSet(t.defaultBidderSetting[n])?t.defaultBidderSetting[n].rvSh:void 0}function Fe(){try{if(e.isSet(t.hbInfo)&&e.isArray(t.hbInfo.hbUrlBlockRegex))return e.any(t.hbInfo.hbUrlBlockRegex,function(e){return new RegExp(e).test(X())?!0:void 0})||!1}catch(r){n.pushError("Error while parsing url regex, to disable url for header bidding: "+r.message)}return!1}function xe(){return"1"==t.hbInfo.errTrack}var we={},He={},Ve={},Ne="mnet_session_depth",Le=15,Me={},ye={},ke=[],Ye={},qe={},We=2e3;return He={PUBLISHER:X,PUBLISHER_HOST:Se,REFERRER:K,DOMAIN:ue,CID:j,HOSTNAME:z,VIEW_ID:f,VISIT_ID:c,VISITOR_ID:d,DEVICE_TYPE:oe,SESSION_DEPTH:Ie,COUNTRY_CODE:s,AB_TESTS:le,PROTOCOL:Ee,GPT_TAG_DELAY:Re,GPT_FUNCTION_DELAY:me,HTTPS_FLAG:De,AD_BLOCK_DETECTED:_e,IS_AMP_REQUEST:pe,VERSION:be},e.addToEventQueue("all:reset","command",Pe),t.defaultBidderSetting.pageURL=X(),t.defaultBidderSetting.referrerURL=K(),{resolveMacros:he,getPublisherUrl:X,getPublisherUrlFD:$,getReferrerUrl:K,getPublisherUrlWithoutParameters:J,getDomainForPrefetch:ue,getDomainForPrefetchFD:de,getHeaderBiddingUrl:fe,getPrefetchUrl:ce,getVisitorId:d,getProviderRequestID:g,getAuctionTimeForMnetBidderRequest:T,getAuctionId:I,getSlotNameForCrid:_,setPlacementsForMnetAdapterRefresh:H,getConfigForAllPlacements:p,isMnetBidderRequest:h,getSizeForPlacementId:B,getMnetBidderCallback:v,getMnetAdapterVersion:P,getUserIP:a,isCBDisabled:E,needsHttpsSupport:D,getDeviceType:oe,getCountryCode:s,getFromConfig:S,getAutoRefreshTimeout:w,isHBDisabled:l,getVisitId:c,isCookieSyncDisabled:G,incrementSessionDepth:ge,getSessionDepth:Ie,enabledABTests:le,refresh:Pe,isHdHome:k,isPrefetchDisabledForHomePage:Y,isHeatmapEnabled:q,doPrefetchOnWindowLoad:Q,isTimeStampExpired:W,isMnetAdxEnabled:x,isAdxPostBidToBeDone:N,isSandboxEnabled:y,getDomainFromPublisherURL:ue,getConfigSettingsForPlacementId:m,getConfigsForPlacementsForMnetAdapterRefresh:V,setGetSubBidderId:ve,getTestDataForPlacement:M,setTestDataForPlacement:L,getViewId:f,getRequireModule:se,setGetIsAdBlockDetected:_e,getCustomerId:Be,isTestMode:ee,getCustomUtilityWrapper:ae,isMnetAdxEnabledForExternalBidder:U,isAdxPostBidToBeDoneForExternalProvider:A,isTestModeForApnnexusPrivate:te,isFacebookTestMode:ne,getDefaultFloorPrice:Oe,getFloorPriceByProvider:Ce,getRevenueShareForProvider:Ae,getDiscrepancyShareForProvider:Ue,isDisableUrlRegex:Fe,isAmpRequest:pe,isErrorTrackEnabled:xe,getHostname:z}});_mNDefine("config",[window,document,window.configSettings,"util","uadetector"],function(e,i,t,n,r){"use strict";function d(){function e(){return 3===t||2===t?b.hbInfo.mtimeout||b.hbInfo.timeout:b.hbInfo.timeout}function i(e){n.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)if(n.isStringSet(e[i])&&-1!==n.getPublisherUrl().indexOf(e[i]))return!0;return!1}b.bidderExTargetParams={CREATIVE_ID:"mnetCrid",BIDDER_ID:"mnetbidID",BIDDER_TYPE:"mnetbidderID",DFP_BID:"mnetbidPrice",PLACEMENT_ID:"mnet_placement",CUSTOMER_ID:"mnetCID",AUCTION_TYPE:"mnetAct",SECOND_PROVIDER_ID:"mnetScpvid",TEST_DATA:"mnetTd",DFP_SIZE:"mnetSize"},b.defaultExTargetParams={PAGE_ID:"mnetPageID",NO_BID:"mnetDNB",WINNER:"mnetDW",CC:"mnetCC",UGD:"mnetUGD",DOMAIN_NAME:"mnet_dn"},b.mnetAdxTargetParams={CREATIVE_ID:"crid",CPM:"mnet_segment",VARIANT:"mnet_variant"},b.amznTargetingParams=b.amznTargetingParams||{},b.amznTargetingParams.AMZNSLOTS=b.amznTargetingParams.AMZNSLOTS||"mnet_amznslots",b.defaultBidderSetting.rtbsbidder&&(b.defaultBidderSetting.rtbsbidder.useAppData=1),"undefined"==typeof b.defaultBidderSetting.rvCode&&(b.defaultBidderSetting.rvCode=1),void 0===b.linfo&&(b.linfo={ld:"",noCode:!1,clper:0}),b.hbInfo=b.hbInfo||{},b.cbInfo=b.cbInfo||{},b.linfo.ld=b.linfo.ld||"",b.cbInfo.disCk=b.cbInfo.disCk||"",b.prvTimeout=b.prvTimeout||{},b.prvTimeout.OPENX=b.prvTimeout.OPENX||5,b.prvTimeout.APPNEXUS=b.prvTimeout.APPNEXUS||4,b.prvTimeout.CASALE=b.prvTimeout.CASALE||2,b.defaultBidderSetting&&"1"===b.defaultBidderSetting.hdhome&&(b.hbInfo.cDFP=!1,b.cbInfo.prefTime=0);var t=r.getClientDeviceId();b.headerBidder={timeout:e()||1e3,cDFP:b.hbInfo.cDFP!==!1,disable:1===b.hbInfo.disable||b.hbInfo.disable&&i(b.hbInfo.disable),frlen:1===b.hbInfo.frlen,status:{NOOP:0,INIT:1,BIDDING:2,DONE:3,FAILED:4}}}function o(e,i){return i>e?1:e>i?-1:0}function a(e,i){var t=o(e[0][0],i[0][0]);return 0!==t?t:o(e[0][1],i[0][1])}function f(e,i){var t,n,r=i.width||-1,d=i.height||-1;for(t=0;t<e.length;t++)if(n=e[t],o(n[0][0],r)>=0&&o(n[0][1],d)>=0)return n[1];return[]}function m(){for(var i,t,d,o,m,s,u=n.getWindowDimension(e),c=b.bidder.length-1,I=r.getClientDeviceId(),l=3===I,D=2===I;c>=0;c--)if(i=b.bidder[c],i.deviceType&&-1===i.deviceType.indexOf("default")&&(l?-1===i.deviceType.indexOf("mobile")&&b.bidder.splice(c,1):D?-1===i.deviceType.indexOf("tablet")&&b.bidder.splice(c,1):-1===i.deviceType.indexOf("desktop")&&b.bidder.splice(c,1)),t=i.viewportSizeMap,t&&n.isArray(t))if(t.sort(a),d=f(t,u),0!==d.length)for(n.isArray(d[0])||(d=[d]),i.sizes=d,s=d[0][0]+"x"+d[0][1],o=0,m=i.bids.length;m>o;o++)i.bids[o].params.sizes=d,n.isSet(i.bids[o].params.size)||(i.bids[o].params.size=s);else b.bidder.splice(c,1)}function s(){var e=(r.getClientDeviceName()||"").toLowerCase();return e}function u(){var e=b.inImageProd;if(n.isSet(e)){var i,t=s();for(i in e)e.hasOwnProperty(i)&&e[i].deviceType&&-1===e[i].deviceType.indexOf(t)&&delete e[i]}}function c(e){var i,t,n;for(i=0;i<b.bidder.length;i++)for(t=b.bidder[i].bids,n=t.length-1;n>=0;n--)t[n].bidder===e&&t.splice(n,1)}function I(){var e=["KP","KR","PH","TW","VN","IN","AU","SG","JP","MY","PK","NZ"];n.each(e,function(e){return e===b._ip2c?void c("openxbidder"):void 0})}var b=t||{};return d(),m(),I(),u(),b});_mNDefine("bid",function(){"use strict";function t(){var e={},r={};this.get=function(t){return e[t]},this.set=function(t,r){return e[t]=r,this},this.getCustom=function(t){return r[t]},this.getAny=function(i){return t.Properties[i]?e[t.Properties[i]]:r[t.CustomProperties[i]]},this.setCustom=function(t,e){return r[t]=e,this},this.status=function(i){return void 0!==i?(e[t.Properties.STATUS]=i,r[t.CustomProperties.STATUS_NAME]=t.StatusNames[i],this):e[t.Properties.STATUS]},this.id=function(r){return void 0!==r?(e[t.Properties.BIDDER_ID]=r,this):e[t.Properties.BIDDER_ID]},this.name=function(r){return void 0!==r?(e[t.Properties.BIDDER_NAME]=r,this):e[t.Properties.BIDDER_NAME]},this.provider=function(e){return void 0!==e?(r[t.CustomProperties.PROVIDER_NAME]=e,this):r[t.CustomProperties.PROVIDER_NAME]},this.serialize=function(){var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);for(t in r)r.hasOwnProperty(t)&&(i[t]=r[t]);return i},this.deserialize=function(e){var r;for(r in t.Properties)t.Properties.hasOwnProperty(r)&&this.set(t.Properties[r],e[t.Properties[r]]);for(r in t.CustomProperties)t.CustomProperties.hasOwnProperty(r)&&this.setCustom(t.CustomProperties[r],e[t.CustomProperties[r]]);return this}}return t.Properties={BIDDER_ID:"bidderId",BIDDER_NAME:"bidderName",ADCODE:"adcode",SIZE:"size",CPM:"cpm",CUSTOMER_BID_PRICE:"cbdp",DFP_BID:"dfpBd",PLACEMENT_ID:"placementId",STATUS:"status",CREATIVE_ID:"creative_id",THIRD_PARTY_TARGETS:"third_party_targets",THIRD_PARTY_TARGETS_GLOBAL:"third_party_targets_global",DOMINANT_BID_FLAG:"dominant_bid_flag",NUMBER_MULTI_SIZES:"number_multi_sizes"},t.CustomProperties={PROVIDER_REQUEST_ID:"prvReqId",PAGE_ID:"pageId",DFP_SIZE:"dfpSize",DFP_DIV_ID:"dfpDivId",DFP_DIV_POSITION:"dfpPos",AUCTION_ID:"acid",ORIGINAL_CPM:"ogCPM",FIRST_ADJUSTMENT:"adj1",SECOND_ADJUSTMENT:"adj2",NETWORK_FETCH_TIME:"nft",TIMESTAMP:"ts",COOKIE_ID:"ckid",NOBID_REASON:"nbr",TEST_DATA:"td",LOGGING_PIXELS:"loggingPixels",TIMELINE_PIXEL:"timelinePixel",LOAD_TIME:"loadTime",AUCTION_TYPE:"actType",BID_REUSED_FLAG:"brf",REFERRING_VISIT_ID:"visitID",STATUS_NAME:"sname",PROVIDER_NAME:"providerName",FINAL_BID:"fb",EXTERNAL_UID:"uid",RENDER_STATUS:"render",RENDER_TRY_STATUS:"tryRender",RENDER_START_STATUS:"startRender",BID_LOG_STATUS:"bigLog",MNET_CRID:"mnet_crid",EXTERNAL_BIDDER_TYPE:"extBidType",EXTERNAL_TOKEN:"extToken",RESPONSE_TIME:"rtime",DATA_CENTER:"dtc",BIDDER_INFO_BIDDER_ID:"binfobid",CATEGORY:"cat",BUYER_ID:"bId",CAMPAIGN_ID:"cmpid",ADVERTISER_ID:"advId",ADVERTISER_NAME:"advNm",ADVERTISER_URL:"advUrl",PROVIDER_ACCOUNT_ID:"paId",PROVIDER_API_ID:"pApiId",EXTERNAL_PLACEMENT_CODE:"epc",DEAL_ID:"di",DEAL_TYPE:"dt",GOOGLE_BID:"gbid",BASE_BIDDER_ID:"bbdrid",COOKIE_FLAG:"ckfl",PROVIDER_COOKIE_ID:"pcId"},t.AuctionType={CACHE:"cache",HEADER_BID:"headerBid"},t.Status={PENDING:0,SUCCESS:1,NOBID:2,TIMEOUT:3,CANCELLED_NOT_IN_CACHE:4,RESPONSE_AFTER_AUCTION:5,NOBID_AFTER_AUCTION:6,ERROR:7},t.StatusNames=["pending","success","nobid","timeout","bid_not_in_cache","response_after_auction","nobid_after_auction","error"],t});_mNDefine("bidder",[window,"util","entitymanager","storagemanager","bid","logmanager","config","bidmanager","_mNRP","abtestmanager","mnetHbConsole"],function(e,t,r,o,s,i,n,a,u,C,c){"use strict";function P(){function e(e){a.storeBidsForReuse(P(),e)}function n(e,t){return e.setCustom(s.CustomProperties.PAGE_ID,t.pageId)}function u(t,r){0!==l.length&&(r.cache||i.hbRequests.addArray(A),e(A),i.auctionParticipants.addArray(A),A=[])}function C(e,t){0!==_.length&&(t.cache||i.hbRequests.addArray(f),i.auctionParticipants.addArray(f),f=[])}function c(e){return e.status()===s.Status.SUCCESS&&t.isStringSet(e.get(s.Properties.CPM))&&"0"!==e.get(s.Properties.CPM)}function P(){return r.getPrefetchUrl(d.bidderName)}function m(){0!==h.length&&(o.setInStorage(P(),h),i.cacheRequests.addArray(h),h=[])}var d,p,g,I={},E=null,_=[],h=[],l=[],f=[],A=[],R=this;this.config=function(e){return"object"==typeof e?(d=e,this):d[e]},this.getValidBidsStatusPerPlacement=function(e){g=e||[],E=E||{},t.each(e,function(e){E[e]=!1});var i=r.getHeaderBiddingUrl(d.bidderName);return t.clock.tick("prefetchTime"),p=o.getBids(i,d.name,e),t.clock.tock("prefetchTime"),I.prefetchTime=t.clock.time("prefetchTime"),p&&t.each(p,function(e){E[e.get(s.Properties.PLACEMENT_ID)]=c(e)}),E},this.stats=function(e){return I[e]},this.useBidsFromCache=function(e,r,o,i){var a=i.length;t.each(i,function(o){if(r.hasOwnProperty(o)){a--;var i={};E[o]&&t.isSet(p)&&t.isSet(p[o])?(i=p[o],e(n(i,r[o].params),o,0===a)):e((new s).status(s.Status.CANCELLED_NOT_IN_CACHE).set(s.Properties.PLACEMENT_ID,o).set(s.Properties.BIDDER_NAME,d.bidderName).set(s.Properties.BIDDER_ID,d.id).setCustom(s.CustomProperties.PROVIDER_NAME,d.name).set(s.Properties.CREATIVE_ID,r[o].params.mnet_id).set(s.Properties.CPM,0).setCustom(s.CustomProperties.PAGE_ID,r[o].params.pageId).setCustom(s.CustomProperties.ORIGINAL_CPM,0).setCustom(s.CustomProperties.AUCTION_TYPE,s.AuctionType.CACHE),o,0===a)}})},this.addForwardedResponse=function(e,r,o){0!==_.length||r||t.addToEventQueue("endOfResponse",R.config("name"),C),f.push(e),_.push(e),r&&C("forced",o)},this.addLateResponse=function(e,r,o){0!==l.length||r||t.addToEventQueue("endOfResponse",R.config("name"),u),A.push(e),l.push(e),r&&u("forced",o)},this.addToCache=function(e,r){0!==h.length||r||t.addToEventQueue("pushToCache",R.config("name"),m),h.push(e),r&&m()}}return P.prototype.handlePostAuctionClose=function(e,r){if(r&&r.winner&&r.winner.provider()===this.config("name")){var o=this.getTimeLinePixel(r.winner);r.winner.setCustom(s.CustomProperties.TIMELINE_PIXEL,o.replace(P.ORIGINAL_PRICE_MACRO,r.winner.getCustom(s.CustomProperties.ORIGINAL_CPM))),c.log(r.winner,"winningBid"),t.addToEventQueue("afterRender",r.winner.get(s.Properties.PLACEMENT_ID),t.getProxy(this.handlePostRendering,[],this))}t.consoleLog("Auction Closed for",e.src)},P.prototype.makeLoggingCalls=function(e){var o=e.getCustom(s.CustomProperties.LOGGING_PIXELS)||[];e.getCustom(s.CustomProperties.TIMELINE_PIXEL)&&o.push(e.getCustom(s.CustomProperties.TIMELINE_PIXEL)),o=r.resolveMacros(o,!0),t.logBeacons(o),e.setCustom(s.CustomProperties.BID_LOG_STATUS,!0)},P.prototype.handlePostRendering=function(e,t){c.log(t,"finalWinner");var r=t.getCustom(s.CustomProperties.RENDER_STATUS);return!t||t.provider()!==this.config("name")||r!==!0&&void 0!==r||t.getCustom(s.CustomProperties.BID_LOG_STATUS)===!0?void 0:this.makeLoggingCalls(t)},P.prototype.getTimeLinePixel=function(e){for(var o=a.getAllBidsByAdUnit(e.get(s.Properties.PLACEMENT_ID),e.getCustom(s.CustomProperties.PAGE_ID)),i="",u=0,C=o.length;C>u;u++)i+=["&b",o[u].get(s.Properties.BIDDER_ID),"b","=",o[u].getCustom(s.CustomProperties.ORIGINAL_CPM)].join("");return(n.log.tpUrl+t.buildUrlParameters({url:"%%PUBLISHER%%",domain:"%%PUBLISHER_HOST%%",apid:2,size:e.get(s.Properties.SIZE),at:e.getCustom(s.CustomProperties.AUCTION_TYPE),auction_id:e.getCustom(s.CustomProperties.AUCTION_ID),ip:r.getUserIP(),crid:e.get(s.Properties.CREATIVE_ID),cid:"%%CID%%",dt:P.DEVICE_TYPE_MACRO,bc:P.ORIGINAL_PRICE_MACRO,cc:r.getCountryCode(),ext_user_id:e.getCustom(s.CustomProperties.EXTERNAL_UID),bname:"<cm_win_macro>"})+i).replace("<cm_win_macro>",t.buildUrlParameters({cmw:e.get(s.Properties.BIDDER_ID)}))},P.ORIGINAL_PRICE_MACRO="%%BID_PRICE%%",P.ADJUSTED_PRICE_MACRO="%%ADJUST_PRICE%%",P.DEVICE_TYPE_MACRO="%%DEVICE_TYPE%%",P});_mNDefine("thirdpartymanager",["bid","util","entitymanager","logmanager"],function(e,t,r,n){"use strict";function i(e,t){return p[e]&&p[e][t]?p[e][t]:null}function o(e,r,o){null===i(r,e)&&t.addToEventQueue("afterRenderExternal",e,n.auctionWinner.dispatchExternalWinner),p[r]=p[r]||{},p[r][e]=p[r][e]||[],p[r][e].push(o)}function a(e,t,r){var n,o,a=i(t,e);if(a)for(n=0;n<a.length;n++)if(o=a[n],o.getAny("BIDDER_NAME")===r)return o;return void 0}function u(e,r){if(!t.isSet(T))try{T=window._mNRequire(["dfpmanager"])[0]}catch(n){}T.clearCustomTargeting(e,r)}function s(n){var o,a,s,f,c,m;if(!p.hasOwnProperty(n))return{};for(o in p[n])if(p[n].hasOwnProperty(o)&&(s=i(n,o),null!==s))for(a=0;a<s.length;a++)if(f=s[a],c=f.getAny("THIRD_PARTY_TARGETS_GLOBAL"),t.isSet(c)){r.isTimeStampExpired(f.getCustom(e.CustomProperties.TIMESTAMP),f.getCustom(e.CustomProperties.PROVIDER_NAME))&&u(n,t.getObjectKeys(c));for(m in c)c.hasOwnProperty(m)&&(P[m]=c[m])}return P}function f(t,n){var o,a,u,s,f,c=i(n,t),m=[];if(c)for(o=0;o<c.length;o++)if(a=c[o],u=a.get(e.Properties.THIRD_PARTY_TARGETS),!r.isTimeStampExpired(a.getCustom(e.CustomProperties.TIMESTAMP),a.getCustom(e.CustomProperties.PROVIDER_NAME))){if(s={},u)for(f in u)u.hasOwnProperty(f)&&(s[f]=u[f]||"");m.push(s)}return m}function c(){var n={};return t.each(p,function(i){t.each(i,function(i){t.each(i,function(i){i.get(e.Properties.THIRD_PARTY_TARGETS)&&(r.isTimeStampExpired(i.getCustom(e.CustomProperties.TIMESTAMP),i.getCustom(e.CustomProperties.PROVIDER_NAME))||t.each(i.get(e.Properties.THIRD_PARTY_TARGETS),function(e,t){n[t]=1}))})})}),n}function m(e){var r=c();t.each(r,function(t,r){e[r]=e[r]||""})}function g(e,r){var n=r&&r.pageId,i=r&&r.placements;P={},t.isSet(n)&&t.isArray(i)&&i.length>0&&void 0!==p[n]&&t.each(i,function(e){p[n][e]=[]})}var T,p={},P={};return t.addToEventQueue("all:reset","command",g),{getPlacementMap:i,addBidResponse:o,getTargetingParamsForCode:f,getBidForPlacementIdAndBidder:a,refresh:g,getGlobalTargetingParams:s,fillAllUniqueParams:m}});_mNDefine("logmanager",["util","entitymanager","config","bid","mnetHbConsole"],function(e,t,E,I,s){"use strict";function _(t){return e.isStringSet(t.cc)&&-1!==t.cc.indexOf(E._ip2c)?!0:!1}function r(t){return e.isSet(t.freq)&&1!==e.getRandom(1,parseInt(t.freq,10))?!0:!1}function D(t){var I=E.linfo;return"string"==typeof I.ld&&-1!==I.ld.indexOf(t)?!0:e.isStringSet(t)&&I.hasOwnProperty(t)&&(_(I[t])||r(I[t]))?!0:!1}function i(E){return e.encodeParam((E[I.CustomProperties.TEST_DATA]||"")+"|"+t.getTestDataForPlacement(E[I.Properties.PLACEMENT_ID]))}function o(){function E(E){var I=t.resolveMacros(e.buildUrlParameters(X.start),!0),s=t.resolveMacros(e.buildUrlParameters(X.end),!0);return r.path+I+E+s}function I(){r.reset()}var _="",r=this,D=0;this.path="",this.model=function(){},this.fire=function(){if(0!==_.length){var t=E(_);s.log(t,"logUrl"),e.logBeacons(t),_="",D=0}},this.addNew=function(e,t,E){},this.addArray=function(t){return e.each(t,this.addNew)},this.append=function(t){var I=e.buildCollectionUrlItem(t.getAll()),r=I.length;if(D+r>Y){var i=E(_);s.log(i,"logUrl"),e.logBeacons(i),_=I,D=r}else _+=I,D+=r},this.reset=function(){r.fire()},e.addToEventQueue("all:reset","command",I)}function R(){var e={};this.set=function(t,E){return e[t]=E,this},this.getAll=function(){return e}}function T(){R.call(this)}function P(){function t(e){e.getCustom(I.CustomProperties.AUCTION_TYPE)===I.AuctionType.CACHE?w.record(1):e.getCustom(I.CustomProperties.AUCTION_TYPE)===I.AuctionType.HEADER_BID&&q.record(1)}function s(){r=!0,C.fire()}function _(){e.addToEventQueue("apiCallsSent","global",s),e.addToEventQueue("after:prefetch","global",s)}o.call(this);var r=!0,R="prflog",P=E.linfo[R]&&E.linfo[R].freq||1,A=D(R),C=this;this.path=E.log.providerFetchRequestPath,this.model=T;var n=this.model.props;this.addNew=function(E,s,D){if(t(E),!A){r===!0&&(r=!1,_());var o=new C.model;E=E.serialize(),o.set(n.PROVIDER_ID,E[I.Properties.BIDDER_ID]||"").set(n.PROVIDER_NAME,E[I.CustomProperties.PROVIDER_NAME]||"").set(n.PROVIDER_REQUEST_ID,E[I.CustomProperties.PROVIDER_REQUEST_ID]||"").set(n.CRID,E[I.Properties.CREATIVE_ID]||"").set(n.COOKIE_ID,e.encodeParam(E[I.CustomProperties.COOKIE_ID]||"")).set(n.BATCH_COUNT,D).set(n.LOGGING_PERCENTAGE,P).set(n.AUCTION_TYPE,E[I.CustomProperties.AUCTION_TYPE]||"").set(n.SIZE,E[I.Properties.SIZE]||"").set(n.TEST_DATA,i(E)).set(n.NUMBER_MULTI_SIZES,E[I.Properties.NUMBER_MULTI_SIZES]||"1").set(n.DOMINANT_BID_FLAG,E[I.Properties.DOMINANT_BID_FLAG]||"1"),C.append(o)}}}function A(){R.call(this)}function C(){function t(){P-=1}function s(){return 0===P}o.call(this);var _=this,r="prlog",R=D(r),T=E.linfo[r]&&E.linfo[r].freq||1,P=0;this.path=E.log.providerRequestPath,this.model=A;var C=this.model.props;this.addNew=function(r,D,o){if(!R){var P=new _.model;r=r.serialize();var A=r[I.Properties.ADCODE]||"",n=r[I.CustomProperties.NOBID_REASON],O=r[I.CustomProperties.AUCTION_TYPE];A=e.isStringSet(A)?A.substring(0,99):"",e.isSet(n)||(n=""),A=A.replace(/(\n|\r|\t)/gm,""),P.set(C.PROVIDER_ID,r[I.Properties.BIDDER_ID]||"").set(C.PROVIDER_NAME,r[I.CustomProperties.PROVIDER_NAME]||"").set(C.PROVIDER_REQUEST_ID,r[I.CustomProperties.PROVIDER_REQUEST_ID]||"").set(C.PROVIDER_ACCOUNT_ID,r[I.CustomProperties.PROVIDER_ACCOUNT_ID]||"").set(C.PROVIDER_API_ID,r[I.CustomProperties.PROVIDER_API_ID]||"").set(C.CRID,r[I.Properties.CREATIVE_ID]||"").set(C.COOKIE_ID,e.encodeParam(r[I.CustomProperties.COOKIE_ID]||"")).set(C.LOAD_TIME,r[I.CustomProperties.LOAD_TIME]||"").set(C.BID_PRICE,r[I.Properties.CPM]||"0").set(C.ORIGINAL_BID_PRICE,r[I.CustomProperties.ORIGINAL_CPM]||"0").set(C.CUSTOMER_BID_PRICE,r[I.Properties.CUSTOMER_BID_PRICE]||"0").set(C.DEAL_ID,g(r[I.CustomProperties.DEAL_TYPE])?r[I.CustomProperties.DEAL_ID]:"").set(C.DEAL_TYPE,r[I.CustomProperties.DEAL_TYPE]||"").set(C.STATUS,r[I.Properties.STATUS]||"").set(C.STATUS_NAME,r[I.CustomProperties.STATUS_NAME]||"").set(C.TEST_DATA,i(r)).set(C.BATCH_COUNT,o).set(C.LOGGING_PERCENTAGE,T).set(C.AUCTION_TYPE,O||"").set(C.RESPONSE_TIME,r[I.CustomProperties.RESPONSE_TIME]||"").set(C.DATA_CENTER,e.encodeParam(r[I.CustomProperties.DATA_CENTER]||"")).set(C.BIDDER_INFO_BIDDER_ID,e.encodeParam(r[I.CustomProperties.BIDDER_INFO_BIDDER_ID]||"")).set(C.CATEGORY,e.encodeParam(r[I.CustomProperties.CATEGORY]||"")).set(C.BUYER_ID,r[I.CustomProperties.BUYER_ID]||"").set(C.CAMPAIGN_ID,r[I.CustomProperties.CAMPAIGN_ID]||"").set(C.NOBID_REASON,n).set(C.ADVERTISER_ID,e.encodeParam(r[I.CustomProperties.ADVERTISER_ID]||"")).set(C.ADVERTISER_NAME,e.encodeParam(r[I.CustomProperties.ADVERTISER_NAME]||"")).set(C.ADVERTISER_URL,e.encodeParam(r[I.CustomProperties.ADVERTISER_URL]||"")).set(C.SIZE,r[I.Properties.SIZE]||"").set(C.PROVIDER_COOKIE_ID,e.encodeParam(r[I.CustomProperties.PROVIDER_COOKIE_ID]||"")).set(C.COOKIE_FLAG,r[I.CustomProperties.COOKIE_FLAG]||"").set(C.NUMBER_MULTI_SIZES,r[I.Properties.NUMBER_MULTI_SIZES]||"1").set(C.DOMINANT_BID_FLAG,r[I.Properties.DOMINANT_BID_FLAG]||"1"),E.linfo.noCode||P.set(C.RAW_ADTAG,e.encodeParam(A)),_.append(P),t(),s()&&_.fire()}},this.record=function(e){P+=e},e.addToEventQueue("log:trigger","command",_.fire)}function n(){R.call(this)}function O(){o.call(this);var t=this,s="aplog",_=E.linfo[s]&&E.linfo[s].freq||1,r=D(s);this.model=n,this.path=E.log.auctionParticipantPath;var i=this.model.props;this.addNew=function(s,D,o){if(!r){var R=new t.model;s=s.serialize();var T=s[I.Properties.ADCODE]||"",P=void 0!==E.bidderGrp&&-1!==E.bidderGrp.indexOf("|"+s[I.Properties.BIDDER_ID]+"|");T=e.isStringSet(T)?T.substring(0,99):"",T=T.replace(/(\n|\r|\t)/gm,""),R.set(i.PROVIDER_ID,s[I.Properties.BIDDER_ID]||"").set(i.PROVIDER_NAME,s[I.CustomProperties.PROVIDER_NAME]||"").set(i.PROVIDER_REQUEST_ID,s[I.CustomProperties.PROVIDER_REQUEST_ID]||"").set(i.IS_AUCTION_PARTICIPANT,P?1:0).set(i.REFERRING_VISIT_ID,s[I.CustomProperties.REFERRING_VISIT_ID]||"").set(i.CRID,s[I.Properties.CREATIVE_ID]||"").set(i.BID_PRICE,s[I.Properties.CPM]||"0").set(i.CUSTOMER_BID_PRICE,s[I.Properties.CUSTOMER_BID_PRICE]||"0").set(i.ORIGINAL_BID_PRICE,s[I.CustomProperties.ORIGINAL_CPM]||"0").set(i.STATUS,s[I.Properties.STATUS]||"").set(i.STATUS_NAME,s[I.CustomProperties.STATUS_NAME]||"").set(i.COOKIE_ID,e.encodeParam(s[I.CustomProperties.COOKIE_ID]||"")).set(i.AUCTION_TYPE,s[I.CustomProperties.AUCTION_TYPE]||"").set(i.AUCTION_ID,s[I.CustomProperties.AUCTION_ID]||"").set(i.BUYER_ID,s[I.CustomProperties.BUYER_ID]||"").set(i.CAMPAIGN_ID,s[I.CustomProperties.CAMPAIGN_ID]||"").set(i.LOGGING_PERCENTAGE,_).set(i.ADVERTISER_ID,e.encodeParam(s[I.CustomProperties.ADVERTISER_ID]||"")).set(i.ADVERTISER_NAME,e.encodeParam(s[I.CustomProperties.ADVERTISER_NAME]||"")).set(i.ADVERTISER_URL,e.encodeParam(s[I.CustomProperties.ADVERTISER_URL]||"")).set(i.RAW_ADTAG,e.encodeParam(T)).set(i.LOAD_TIME,s[I.CustomProperties.LOAD_TIME]).set(i.BID_REUSED_FLAG,s[I.CustomProperties.BID_REUSED_FLAG]||0).set(i.NUMBER_MULTI_SIZES,s[I.Properties.NUMBER_MULTI_SIZES]||"1").set(i.DOMINANT_BID_FLAG,s[I.Properties.DOMINANT_BID_FLAG]||"1"),t.append(R)}},e.addToEventQueue("log:trigger","command",t.fire)}function S(){R.call(this)}function N(){o.call(this);var t=this,s="explog",_=E.linfo[s]&&E.linfo[s].freq||1,r=D(s);this.model=S,this.path=E.log.expiredBidsPath;var i=this.model.props;this.addNew=function(E,s,D){if(!r){var o=new t.model,R=0;E=E.serialize(),e.isSet(E[I.CustomProperties.TIMESTAMP])&&(R=e.getCurrentTime()-E[I.CustomProperties.TIMESTAMP]),o.set(i.PROVIDER_ID,E[I.Properties.BIDDER_ID]||"").set(i.PROVIDER_NAME,E[I.CustomProperties.PROVIDER_NAME]||"").set(i.PROVIDER_REQUEST_ID,E[I.CustomProperties.PROVIDER_REQUEST_ID]||"").set(i.REFERRING_VISIT_ID,E[I.CustomProperties.REFERRING_VISIT_ID]||"").set(i.CRID,E[I.Properties.CREATIVE_ID]||"").set(i.BID_PRICE,E[I.Properties.CPM]||"0").set(i.CUSTOMER_BID_PRICE,E[I.Properties.CUSTOMER_BID_PRICE]||"0").set(i.ORIGINAL_BID_PRICE,E[I.CustomProperties.ORIGINAL_CPM]||"0").set(i.STATUS,E[I.Properties.STATUS]||"").set(i.STATUS_NAME,E[I.CustomProperties.STATUS_NAME]||"").set(i.AUCTION_TYPE,E[I.CustomProperties.AUCTION_TYPE]||"").set(i.AUCTION_ID,E[I.CustomProperties.AUCTION_ID]||"").set(i.LOGGING_PERCENTAGE,_).set(i.LOAD_TIME,E[I.CustomProperties.LOAD_TIME]).set(i.BID_REUSED_FLAG,E[I.CustomProperties.BID_REUSED_FLAG]||0).set(i.TIME_DIFFERENCE,R),t.append(o)}},e.addToEventQueue("log:trigger","command",t.fire)}function a(){R.call(this)}function p(e){return-1!==e.indexOf("P")}function d(){function t(t){return D(I)?!1:p(t)||e.isSet(E.linfo.cslogFreq)&&1===e.getRandom(1,parseInt(E.linfo.cslogFreq,10))}o.call(this);var I="cslog",s=this,_=E.linfo[I]&&E.linfo[I].freq||E.linfo.cslogFreq||1;this.path=E.log.casaleDebugUrl,this.model=a;var r=this.model.props;this.addNew=function(e,E,I){if(t(e)){var D=new this.model;D.set(r.LOAD_TIME,E).set(r.INDEX_SLOTS_LIST,e).set(r.LOGGING_PERCENTAGE,_).set(r.PROVIDER_REQUEST_ID,I),s.append(D),s.fire()}}}function u(){R.call(this)}function m(){function t(){return D(I)?!1:e.isSet(E.linfo.amzlogFreq)&&1===e.getRandom(1,parseInt(E.linfo.amzlogFreq,10))}o.call(this);var I="amzlog",s=this,_=E.linfo[I]&&E.linfo[I].freq||E.linfo.amzlogFreq||1,r=t();this.path=E.log.amazonDebugUrl,this.model=u;var i=this.model.props;this.addNew=function(t,E,I){if(r){var D=new this.model;D.set(i.LOAD_TIME,E).set(i.AMAZON_SLOTS_LIST,e.encodeParam(t)).set(i.LOGGING_PERCENTAGE,_).set(i.PROVIDER_REQUEST_ID,I),s.append(D),s.fire()}}}function M(){R.call(this)}function l(){function t(e){if(!e||!e[E.bidderExTargetParams.DFP_BID])return!1;if(i)return!0;var t=parseFloat(e[E.bidderExTargetParams.DFP_BID][0]);return _&&isFinite(t)?t>=_:!1}o.call(this);var I=this,s="slotLog",_=E.linfo[s]&&E.linfo[s].ceCPM&&parseFloat(E.linfo[s].ceCPM)||null,r=E.linfo[s]&&E.linfo[s].freq||1,i=!D(s);this.path=E.log.slotLoggingPixel,this.model=M;var R=this.model.props,T=new I.model;this.addDFPSlotData=function(e){t(e)&&(T.set(R.ADVERTISER_ID,e.advertiserId).set(R.CAMPAIGN_ID,e.campaignId).set(R.CREATIVE_ID,e.creativeId).set(R.LINE_ITEM_ID,e.lineItemId).set(R.SLOT_ELEMENT_ID,e.slotElementId).set(R.DFP_DIV_SIZE,e.dfpDivSize).set(R.LOGGING_PERCENTAGE,r).set(R.CPM,e[E.bidderExTargetParams.DFP_BID][0]).set(R.LABEL_ID,e.labelIds.join("|")).set(R.BIDDER_ID,e[E.bidderExTargetParams.BIDDER_ID]||"").set(R.ORIGINAL_BID_PRICE,e.originalBidPrice),this.append(T))},e.addToEventQueue("log:trigger","command",I.fire)}function c(){R.call(this)}function U(){o.call(this);var e=this,t="gptlog";this.path=E.log.gptRequestPath,this.model=c;var I=this.model.props;this.addNew=function(s,_,r,i){if(!D(t)){var o=new e.model;o.set(I.CUSTOMER_ID,s).set(I.LOAD_TIME,_).set(I.LOGGING_PERCENTAGE,E.linfo[t]&&E.linfo[t].freq||1).set(I.WAIT_TIME,r).set(I.TOTAL_WAIT_TIME,i),e.append(o),e.fire()}}}function f(){R.call(this)}function L(){function t(){return D(I)?!1:e.isSet(E.linfo.slogFreq)&&1===e.getRandom(1,parseInt(E.linfo.slogFreq,10))}o.call(this);var I="gptslog",s=this,_=E.linfo[I]&&E.linfo[I].freq||E.linfo.slogFreq||1,r=t();this.path=E.log.gptSlotPath,this.model=f;var i=this.model.props;this.addSlotLogData=function(t){if(r){var I=new s.model;I.set(i.SLOT_ELEMENT_ID,e.encodeParam(t.elementId||"")).set(i.SLOT_SIZES,e.encodeParam(t.sizes||"")).set(i.SLOT_TARGETING_PARAMS,e.encodeParam(t.customCriteria||"")).set(i.LOGGING_PERCENTAGE,_).set(i.FREQUENCY_MULTIPLIER,E.linfo.slogFreq||"").set(i.SLOT_RENDER_TIME,e.encodeParam(t.slotRenderTime||"")),s.append(I)}},this.addNew=function(){if(r){var t;try{t=window._mNRequire(["dfpmanager"])[0]}catch(E){return}var I=t.getAllDFPSlotsInfo();e.each(I,s.addSlotLogData)}},e.addToEventQueue("log:trigger","command",s.fire)}function G(){R.call(this)}function V(){function t(t){var I,s,_=E.log.casaleLoggingPixel;I=e.buildUrlParameters(t,["type","s","u","r"]),s=_+"?"+I.substr(1),(new Image).src=s}o.call(this);var I="errorBidLog";this.model=G;var s=this,_=E.linfo[I]&&E.linfo[I].freq||1,r=this.model.props;this.path=E.log.errorLogUrl,this.addNew=function(e){if(!D(I)){var E=new s.model;E.set(r.PROVIDER_REQUEST_ID,e[r.PROVIDER_REQUEST_ID]).set(r.LOGGING_PERCENTAGE,_).set(r.HEADER_TAG_URL,e[r.HEADER_TAG_URL]),s.append(E),s.fire(),t(e)}}}function B(){R.call(this)}function h(){function s(t,E){return e.each(E,function(e,E){t.set(E,e)}),t}function _(e,t){return"99"===t[I.Properties.BIDDER_ID]&&e.set(a.MAX_BID_PRICE,"0").set(a.MAX_NETTED_BID_PRICE,"0").set(a.MAX_NETTED_CUSTOMER_BID_PRICE,"0").set(a.DFP_BID,"0"),e}function r(E,r,D,o,R){return E.set(a.AUCTION_ID,r[I.CustomProperties.AUCTION_ID]||"").set(a.CRID,r[I.Properties.CREATIVE_ID]||"").set(a.DFP_DIV_ID,r[I.CustomProperties.DFP_DIV_ID]||"").set(a.AUCTION_TIME,o||0).set(a.DFP_POSITION_NAME,r[I.CustomProperties.DFP_DIV_POSITION]||"").set(a.MAX_PROVIDER_ID,r[I.Properties.BIDDER_ID]||"").set(a.MAX_PROVIDER_NAME,r[I.CustomProperties.PROVIDER_NAME]||"").set(a.MAX_PROVIDER_RESPONSE_TYPE,r[I.CustomProperties.AUCTION_TYPE]||"").set(a.MAX_PROVIDER_REQUEST_ID,r[I.CustomProperties.PROVIDER_REQUEST_ID]||"").set(a.MAX_PROVIDER_ACCOUNT_ID,r[I.CustomProperties.PROVIDER_ACCOUNT_ID]||"").set(a.MAX_PROVIDER_API_ID,r[I.CustomProperties.PROVIDER_API_ID]||"").set(a.MAX_BID_PRICE,r[I.CustomProperties.ORIGINAL_CPM]||"0").set(a.MAX_FIRST_ADJUSTMENT,r[I.CustomProperties.FIRST_ADJUSTMENT]||0).set(a.MAX_SECOND_ADJUSTMENT,r[I.CustomProperties.SECOND_ADJUSTMENT]||0).set(a.MAX_NETTED_BID_PRICE,r[I.Properties.CPM]||"0").set(a.MAX_NETTED_CUSTOMER_BID_PRICE,r[I.Properties.CUSTOMER_BID_PRICE]||"0").set(a.MAX_BUYER_ID,r[I.CustomProperties.BUYER_ID]||"").set(a.MAX_CAMPAIGN_ID,r[I.CustomProperties.CAMPAIGN_ID]||"").set(a.MAX_ADVERTISER_ID,e.encodeParam(r[I.CustomProperties.ADVERTISER_ID]||"")).set(a.MAX_ADVERTISER_NAME,e.encodeParam(r[I.CustomProperties.ADVERTISER_NAME]||"")).set(a.MAX_ADVERTISER_URL,e.encodeParam(r[I.CustomProperties.ADVERTISER_URL]||"")).set(a.MAX_AUCTION_TYPE,r[I.CustomProperties.AUCTION_TYPE]||"").set(a.SECOND_PROVIDER_ID,D[I.Properties.BIDDER_ID]||"").set(a.SECOND_PROVIDER_NAME,D[I.CustomProperties.PROVIDER_NAME]||"").set(a.SECOND_BID_PRICE,D[I.CustomProperties.ORIGINAL_CPM]||"0").set(a.SECOND_FIRST_ADJUSTMENT,D[I.CustomProperties.FIRST_ADJUSTMENT]||0).set(a.SECOND_SECOND_ADJUSTMENT,D[I.CustomProperties.SECOND_ADJUSTMENT]||0).set(a.SECOND_AUCTION_TYPE,D[I.CustomProperties.AUCTION_TYPE]||"").set(a.SECOND_NETTED_BID_PRICE,D[I.Properties.CPM]||"0").set(a.SECOND_NETTED_CUSTOMER_BID_PRICE,D[I.Properties.CUSTOMER_BID_PRICE]||"0").set(a.SECOND_BUYER_ID,D[I.CustomProperties.BUYER_ID]||"").set(a.SECOND_CAMPAIGN_ID,D[I.CustomProperties.CAMPAIGN_ID]||"").set(a.SECOND_ADVERTISER_ID,e.encodeParam(D[I.CustomProperties.ADVERTISER_ID]||"")).set(a.SECOND_ADVERTISER_NAME,e.encodeParam(D[I.CustomProperties.ADVERTISER_NAME]||"")).set(a.SECOND_ADVERTISER_URL,e.encodeParam(D[I.CustomProperties.ADVERTISER_URL]||"")).set(a.CLOSING_PRICE,r[I.Properties.DFP_BID]||"0").set(a.DFP_BID,r[I.Properties.DFP_BID]||"0").set(a.LOGGING_PERCENTAGE,S).set(a.BID_REUSED_FLAG,r[I.CustomProperties.BID_REUSED_FLAG]||0).set(a.LOAD_TIME,r[I.CustomProperties.LOAD_TIME]||"").set(a.COOKIE_FLAG,r[I.CustomProperties.COOKIE_FLAG]||"").set(a.PROVIDER_COOKIE_ID,e.encodeParam(r[I.CustomProperties.PROVIDER_COOKIE_ID]||"")).set(a.TEST_DATA,i(r)).set(a.SUB_BIDDER_ID,t.setGetSubBidderId(r[I.CustomProperties.PAGE_ID],r[I.Properties.CREATIVE_ID])||"").set(a.NUMBER_MULTI_SIZES,r[I.Properties.NUMBER_MULTI_SIZES]||"1"),s(E,R),_(E,r)}function R(t,E,_,r){return t.set(a.AUCTION_ID,E[I.CustomProperties.AUCTION_ID]||"").set(a.CRID,E[I.Properties.CREATIVE_ID]).set(a.DFP_DIV_ID,E[I.CustomProperties.DFP_DIV_ID]||"").set(a.COOKIE_FLAG,E[I.CustomProperties.COOKIE_FLAG]||"").set(a.PROVIDER_COOKIE_ID,e.encodeParam(E[I.CustomProperties.PROVIDER_COOKIE_ID]||"")).set(a.AUCTION_TIME,_||0).set(a.DFP_POSITION_NAME,E[I.CustomProperties.DFP_DIV_POSITION]||"").set(a.MAX_PROVIDER_ID,"0").set(a.MAX_PROVIDER_NAME,"NO_BID").set(a.MAX_PROVIDER_RESPONSE_TYPE,"").set(a.MAX_PROVIDER_REQUEST_ID,"").set(a.MAX_PROVIDER_ACCOUNT_ID,"").set(a.MAX_PROVIDER_API_ID,"").set(a.MAX_BID_PRICE,"0").set(a.MAX_FIRST_ADJUSTMENT,0).set(a.MAX_SECOND_ADJUSTMENT,0).set(a.MAX_NETTED_BID_PRICE,"0").set(a.MAX_NETTED_CUSTOMER_BID_PRICE,"0").set(a.SECOND_PROVIDER_ID,"").set(a.SECOND_PROVIDER_NAME,"").set(a.SECOND_BID_PRICE,"0").set(a.SECOND_FIRST_ADJUSTMENT,0).set(a.SECOND_SECOND_ADJUSTMENT,0).set(a.SECOND_NETTED_BID_PRICE,"0").set(a.SECOND_NETTED_CUSTOMER_BID_PRICE,"0").set(a.CLOSING_PRICE,"0").set(a.DFP_BID,"0").set(a.LOGGING_PERCENTAGE,S).set(a.TEST_DATA,i(E)).set(a.LOAD_TIME,"").set(a.SUB_BIDDER_ID,"").set(a.NUMBER_MULTI_SIZES,"1"),s(t,r)}function T(){C.fire(),e.isSet(A)&&(clearTimeout(A),A=void 0)}function P(){var t;(t=e.isSet(E.linfo[n])&&e.isSet(E.linfo[n].bt)?function(){e.isSet(A)||(A=setTimeout(T,E.linfo[n].bt))}:T)()}o.call(this);var A,C=this,n="adlog",O=D(n),S=E.linfo[n]&&E.linfo[n].freq||1,N={};this.path=E.log.auctionDecisionPath,this.model=B;var a=this.model.props;this.buildLog=r,this.addNew=function(e){var t,E=e.winningBid.serialize(),s=E[I.CustomProperties.PAGE_ID],_=e.auctionTime,D=E[I.Properties.PLACEMENT_ID];if(N[s]=N[s]||{},!O&&!N[s][D]){var i=new C.model;if(e.minimal)t=R(i,E,_,e.tp);else{var o=e.secondWinner?e.secondWinner.serialize():{};t=r(i,E,o,_,e.tp),z.addToAuctionWinnerMap(E[I.Properties.PLACEMENT_ID],t)}N[s][D]=!0,C.append(t)}},this.reset=function(){C.fire(),N={}},E.linfo.adlogSt!==!0||t.isMnetBidderRequest()?e.addToEventQueue("log:trigger","command",C.fire):e.addToEventQueue("adlog:trigger","command",P)}function g(e){return"P"===e}function v(){o.call(this);var s=this,_={},r={};this.model=B;var D=this.model.props;this.path=E.log.auctionWinnerPath,this.addToAuctionWinnerMap=function(t,E){r[t]=E,e.addToEventQueue("afterRender",t,z.dispatchWinner)},this.dispatchDirectWinner=function(e){e=e.serialize();var t=new s.model;K.buildLog(t,e,{},"",{}),t.set(D.SIZE,e[I.Properties.SIZE]||"").set(D.STATUS,e[I.Properties.STATUS]||"").set(D.AUCTION_TYPE,e[I.CustomProperties.AUCTION_TYPE]||"").set(D.TEST_DATA,i(e)),s.append(t),s.fire()},this.dispatchWinner=function(t,E){E=E.serialize();var o=E[I.Properties.PLACEMENT_ID];void 0===_[o]&&(r[o].set(D.SIZE,e.encodeParam(E[I.Properties.SIZE]||"")),r[o].set(D.STATUS,E[I.Properties.STATUS]||""),r[o].set(D.AUCTION_TYPE,E[I.CustomProperties.AUCTION_TYPE]||""),r[o].set(D.TEST_DATA,i(E)),s.append(r[o]),s.fire(),_[o]=!0)},this.setNewWinnerForPlacement=function(e,t){var E=new s.model,I=t?t.serialize():{},_=K.buildLog(E,I,{},"",I.tp);r[e]=_},this.dispatchExternalWinner=function(E,_){var r=_.winningBid,o=_.secondBid,R=r.serialize(),T=new s.model,P=R[I.Properties.PLACEMENT_ID];T.set(D.AUCTION_ID,R[I.CustomProperties.AUCTION_ID]||"").set(D.CRID,R[I.Properties.CREATIVE_ID]||"").set(D.DFP_DIV_ID,R[I.CustomProperties.DFP_DIV_ID]||"").set(D.DFP_POSITION_NAME,R[I.CustomProperties.DFP_DIV_POSITION]||"").set(D.MAX_PROVIDER_ID,R[I.Properties.BIDDER_ID]||"").set(D.MAX_PROVIDER_NAME,R[I.CustomProperties.PROVIDER_NAME]||"").set(D.MAX_PROVIDER_RESPONSE_TYPE,R[I.CustomProperties.AUCTION_TYPE]||"").set(D.MAX_PROVIDER_REQUEST_ID,R[I.CustomProperties.PROVIDER_REQUEST_ID]||"").set(D.MAX_PROVIDER_ACCOUNT_ID,R[I.CustomProperties.PROVIDER_ACCOUNT_ID]||"").set(D.MAX_PROVIDER_API_ID,R[I.CustomProperties.PROVIDER_API_ID]||"").set(D.MAX_BID_PRICE,R[I.CustomProperties.ORIGINAL_CPM]||"0").set(D.MAX_FIRST_ADJUSTMENT,R[I.CustomProperties.FIRST_ADJUSTMENT]||0).set(D.MAX_SECOND_ADJUSTMENT,R[I.CustomProperties.SECOND_ADJUSTMENT]||0).set(D.MAX_NETTED_BID_PRICE,R[I.Properties.CPM]||"0").set(D.MAX_NETTED_CUSTOMER_BID_PRICE,R[I.Properties.CUSTOMER_BID_PRICE]||"0").set(D.CLOSING_PRICE,R[I.Properties.CPM]||"0").set(D.DFP_BID,R[I.Properties.CPM]||"0").set(D.MAX_ADVERTISER_ID,e.encodeParam(R[I.CustomProperties.ADVERTISER_ID]||"")).set(D.MAX_ADVERTISER_NAME,e.encodeParam(R[I.CustomProperties.ADVERTISER_NAME]||"")).set(D.MAX_ADVERTISER_URL,e.encodeParam(R[I.CustomProperties.ADVERTISER_URL]||"")).set(D.SIZE,R[I.Properties.SIZE]||"").set(D.STATUS,R[I.Properties.STATUS]||"").set(D.AUCTION_TYPE,R[I.CustomProperties.AUCTION_TYPE]||"").set(D.DEAL_ID,g(R[I.CustomProperties.DEAL_TYPE])?R[I.CustomProperties.DEAL_ID]:"").set(D.DEAL_TYPE,R[I.CustomProperties.DEAL_TYPE]||"").set(D.EXTERNAL_PLACEMENT_CODE,R[I.CustomProperties.EXTERNAL_PLACEMENT_CODE]||"").set(D.LOAD_TIME,R[I.CustomProperties.LOAD_TIME]||"").set(D.PROVIDER_COOKIE_ID,e.encodeParam(R[I.CustomProperties.PROVIDER_COOKIE_ID]||"")).set(D.COOKIE_FLAG,R[I.CustomProperties.COOKIE_FLAG]||"").set(D.TEST_DATA,i(R)).set(D.NUMBER_MULTI_SIZES,R[I.Properties.NUMBER_MULTI_SIZES]||"1"),e.isSet(o)&&(o=o.serialize(),T.set(D.SECOND_PROVIDER_ID,o[I.Properties.BIDDER_ID]||"").set(D.SECOND_PROVIDER_NAME,o[I.CustomProperties.PROVIDER_NAME]||"").set(D.SECOND_BID_PRICE,o[I.CustomProperties.ORIGINAL_CPM]||"0").set(D.SECOND_FIRST_ADJUSTMENT,o[I.CustomProperties.FIRST_ADJUSTMENT]||0).set(D.SECOND_SECOND_ADJUSTMENT,o[I.CustomProperties.SECOND_ADJUSTMENT]||0).set(D.SECOND_AUCTION_TYPE,o[I.CustomProperties.AUCTION_TYPE]||"").set(D.SECOND_NETTED_BID_PRICE,o[I.Properties.CPM]||"0").set(D.SECOND_NETTED_CUSTOMER_BID_PRICE,o[I.Properties.CUSTOMER_BID_PRICE]||"0").set(D.SECOND_BUYER_ID,o[I.CustomProperties.BUYER_ID]||"").set(D.SECOND_CAMPAIGN_ID,o[I.CustomProperties.CAMPAIGN_ID]||"").set(D.SECOND_ADVERTISER_ID,e.encodeParam(o[I.CustomProperties.ADVERTISER_ID]||"")).set(D.SECOND_ADVERTISER_NAME,e.encodeParam(o[I.CustomProperties.ADVERTISER_NAME]||"")).set(D.SECOND_ADVERTISER_URL,e.encodeParam(o[I.CustomProperties.ADVERTISER_URL]||""))),3===R[I.Properties.BIDDER_ID]&&T.set(D.SUB_BIDDER_ID,t.setGetSubBidderId(R[I.CustomProperties.PAGE_ID],P)).set(D.BASE_BIDDER_ID,R[I.CustomProperties.BASE_BIDDER_ID]),s.append(T),s.fire()},this.reset=function(){_={}}}function F(){e.triggerEvent("log:trigger","command",!0),setTimeout(F,E.linfo.reqTm||2e3)}function b(){t.isAmpRequest()||e.eventLib.addEvent(window,"load",function(){(new L).addNew()}),e.eventLib.addEvent(window,"load",F),e.addToEventQueue("resetAw","command",z.reset)}var X={start:{dn:"%%PUBLISHER_HOST%%",cid:"%%CID%%",ugd:"%%DEVICE_TYPE%%",vid:"%%VISIT_ID%%",vsid:"%%VISITOR_ID%%",sd:"%%SESSION_DEPTH%%",gtd:"%%GPT_TAG_DELAY%%",gfd:"%%GPT_FUNCTION_DELAY%%",cc:"%%COUNTRY_CODE%%",abte:"%%AB_TESTS%%",adbd:"%%AD_BLOCK_DETECTED%%",amp:"%%IS_AMP_REQUEST%%",version:"%%VERSION%%"},end:{requrl:"%%PUBLISHER%%",kwrf:"%%REFERRER%%"}},Y=e.fromIE()?1600:7e3;e.inherits(T,R),T.props={BATCH_COUNT:"bc",PROVIDER_ID:"pvid",PROVIDER_NAME:"pvnm",PROVIDER_REQUEST_ID:"prvReqId",CRID:"crid",COOKIE_ID:"ckid",AUCTION_TYPE:"act",LOGGING_PERCENTAGE:"lper",SIZE:"size",TEST_DATA:"td",NUMBER_MULTI_SIZES:"nms",DOMINANT_BID_FLAG:"dbf"},e.inherits(P,o),e.inherits(A,R),A.props={PROVIDER_ID:"pvid",PROVIDER_NAME:"pvnm",PROVIDER_REQUEST_ID:"prvReqId",PROVIDER_ACCOUNT_ID:"prvAccId",PROVIDER_API_ID:"prvApiId",BATCH_COUNT:"bc",CRID:"crid",LOAD_TIME:"ltime",ORIGINAL_BID_PRICE:"ogbdp",BID_PRICE:"bdp",NOBID_REASON:"nbr",CUSTOMER_BID_PRICE:"cbdp",TEST_DATA:"td",STATUS:"s",STATUS_NAME:"snm",COOKIE_ID:"ckid",AUCTION_TYPE:"act",LOGGING_PERCENTAGE:"lper",RAW_ADTAG:"rawtag",RESPONSE_TIME:"rtime",DATA_CENTER:"dtc",BIDDER_INFO_BIDDER_ID:"binfobid",CATEGORY:"cat",BUYER_ID:"bId",CAMPAIGN_ID:"cmpid",ADVERTISER_ID:"advId",DEAL_ID:"di",DEAL_TYPE:"dt",ADVERTISER_NAME:"advNm",ADVERTISER_URL:"advUrl",SIZE:"size",PROVIDER_COOKIE_ID:"pcId",COOKIE_FLAG:"ckfl",NUMBER_MULTI_SIZES:"nms",DOMINANT_BID_FLAG:"dbf"},e.inherits(C,o);var w=new C,q=new C;e.inherits(n,R),n.props={PROVIDER_ID:"pvid",PROVIDER_NAME:"pvnm",PROVIDER_REQUEST_ID:"prvReqId",IS_AUCTION_PARTICIPANT:"isAuct",REFERRING_VISIT_ID:"refVisId",CRID:"crid",BID_PRICE:"bdp",CUSTOMER_BID_PRICE:"cbdp",ORIGINAL_BID_PRICE:"obdp",STATUS:"s",STATUS_NAME:"snm",COOKIE_ID:"ckid",AUCTION_TYPE:"act",AUCTION_ID:"acid",RAW_ADTAG:"rawtag",LOGGING_PERCENTAGE:"lper",LOAD_TIME:"ltime",BID_REUSED_FLAG:"brf",BUYER_ID:"bId",CAMPAIGN_ID:"cmpid",ADVERTISER_ID:"advId",ADVERTISER_NAME:"advNm",ADVERTISER_URL:"advUrl",NUMBER_MULTI_SIZES:"nms",DOMINANT_BID_FLAG:"dbf"},e.inherits(O,o);var Q=new O;e.inherits(S,R),S.props={PROVIDER_ID:"pvid",PROVIDER_NAME:"pvnm",PROVIDER_REQUEST_ID:"prvReqId",REFERRING_VISIT_ID:"refVisId",CRID:"crid",BID_PRICE:"bdp",CUSTOMER_BID_PRICE:"cbdp",ORIGINAL_BID_PRICE:"obdp",STATUS:"s",STATUS_NAME:"snm",AUCTION_TYPE:"act",AUCTION_ID:"acid",LOGGING_PERCENTAGE:"lper",LOAD_TIME:"ltime",BID_REUSED_FLAG:"brf",TIME_DIFFERENCE:"timd"},e.inherits(N,o);var Z=new N;e.inherits(a,R),a.props={INDEX_SLOTS_LIST:"isl",LOAD_TIME:"lt",LOGGING_PERCENTAGE:"lper",PROVIDER_REQUEST_ID:"prvReqId"},e.inherits(d,o),e.inherits(u,R),u.props={AMAZON_SLOTS_LIST:"asl",LOAD_TIME:"lt",LOGGING_PERCENTAGE:"lper",PROVIDER_REQUEST_ID:"prvReqId"},e.inherits(m,o),e.inherits(M,R),M.props={ADVERTISER_ID:"adid",CAMPAIGN_ID:"cmpid",CREATIVE_ID:"crid",LABEL_ID:"lbid",LINE_ITEM_ID:"lid",SLOT_ELEMENT_ID:"sid",LOGGING_PERCENTAGE:"lper",DFP_DIV_SIZE:"sz",BIDDER_ID:"pvid",CPM:"dfpBd",ORIGINAL_BID_PRICE:"obdp"},e.inherits(c,R),c.props={CUSTOMER_ID:"cid",LOAD_TIME:"lt",LOGGING_PERCENTAGE:"lper",WAIT_TIME:"wt",TOTAL_WAIT_TIME:"twt"},e.inherits(U,o),e.inherits(f,R),f.props={SLOT_ELEMENT_ID:"sid",SLOT_SIZES:"szs",SLOT_TARGETING_PARAMS:"tp",LOGGING_PERCENTAGE:"lper",FREQUENCY_MULTIPLIER:"fm",SLOT_RENDER_TIME:"srt"},e.inherits(L,o),e.inherits(G,R),G.props={PROVIDER_REQUEST_ID:"prvreqid",LOGGING_PERCENTAGE:"lper",HEADER_TAG_URL:"hurl"},e.inherits(V,o),e.inherits(B,R),B.props={AUCTION_ID:"acid",MAX_PROVIDER_ID:"pvid",MAX_PROVIDER_NAME:"pvnm",MAX_PROVIDER_RESPONSE_TYPE:"prspt",MAX_PROVIDER_REQUEST_ID:"prvReqId",MAX_PROVIDER_ACCOUNT_ID:"prvAccId",MAX_PROVIDER_API_ID:"prvApiId",MAX_BID_PRICE:"ogbdp",MAX_FIRST_ADJUSTMENT:"adj1",MAX_SECOND_ADJUSTMENT:"adj2",MAX_NETTED_BID_PRICE:"bdp",MAX_NETTED_CUSTOMER_BID_PRICE:"cbdp",MAX_BUYER_ID:"bId",MAX_CAMPAIGN_ID:"cmpid",MAX_ADVERTISER_ID:"advId",MAX_ADVERTISER_NAME:"advNm",MAX_ADVERTISER_URL:"advUrl",MAX_AUCTION_TYPE:"fact",SECOND_PROVIDER_ID:"sc_pvid",SECOND_PROVIDER_NAME:"sc_pvnm",SECOND_BID_PRICE:"sc_ogbdp",SECOND_FIRST_ADJUSTMENT:"sc_adj1",SECOND_SECOND_ADJUSTMENT:"sc_adj2",SECOND_NETTED_BID_PRICE:"sc_bdp",SECOND_AUCTION_TYPE:"sact",SECOND_NETTED_CUSTOMER_BID_PRICE:"sc_cbdp",SECOND_BUYER_ID:"sc_bId",SECOND_CAMPAIGN_ID:"sc_cmpid",SECOND_ADVERTISER_ID:"sc_advId",SECOND_ADVERTISER_NAME:"sc_advNm",SECOND_ADVERTISER_URL:"sc_advUrl",CLOSING_PRICE:"clsPrc",DFP_BID:"dfpBd",CRID:"crid",AUCTION_TIME:"actltime",DFP_DIV_ID:"dfpDiv",DFP_POSITION_NAME:"dfpPos",BID_REUSED_FLAG:"brf",SIZE:"size",STATUS:"s",AUCTION_TYPE:"act",LOGGING_PERCENTAGE:"lper",DEAL_ID:"di",DEAL_TYPE:"dt",EXTERNAL_PLACEMENT_CODE:"epc",TEST_DATA:"td",LOAD_TIME:"ltime",SUB_BIDDER_ID:"sbdrid",BASE_BIDDER_ID:"bbdrid",PROVIDER_COOKIE_ID:"pcId",COOKIE_FLAG:"ckfl",NUMBER_MULTI_SIZES:"nms"},e.inherits(h,o);var K=new h;e.inherits(v,o);var z=new v;return b(),{fetchRequests:new P,cacheRequests:w,hbRequests:q,auctionParticipants:Q,auctionDecisions:K,auctionWinner:z,expiredBids:Z,CasaleDebug:new d,AmazonDebug:new m,gptSlots:new L,gptRequest:new U,casalenytErrorLog:new V,dfpAdDataLog:new l}});_mNDefine("dfpmanager",[window,"_mNRP","bidmanager","config","util","bid","logmanager","thirdpartymanager","abtestmanager","entitymanager","mnetHbConsole"],function(e,t,r,i,n,a,o,g,s,d,l){"use strict";function u(e,t){q[e]=t}function c(e){return n.isSet(e)?q[e]||"":""}function f(){e.googletag&&e.googletag._loadStarted_||e.advBidxc.isAdServerLoaded||(n.clock.tock("init"),n.clock.tick("gptLoad"),l.event("GPT loaded"),n.loadScript("//www.googletagservices.com/tag/js/gpt.js",m),W=e.advBidxc.startTime?n.getCurrentTime()-e.advBidxc.startTime:-1,e.advBidxc.isAdServerLoaded=!0)}function m(){n.clock.tock("gptLoad")}function p(){return e.googletag&&"function"==typeof e.googletag.pubads&&e.googletag.pubads()&&"function"==typeof e.googletag.pubads().getSlots&&e.googletag.pubads().getSlots()?!0:!1}function T(t){var r,i,a=e;return a.top==a&&(r=n.getWindowDimension(a),i=t.getSizes(r.width,r.height),n.isSet(i))?i:t.getSizes()||[]}function P(){var t,r,i,n=[];if(!p())return n;for(t=e.googletag.pubads().getSlots(),r=0,i=t.length;i>r;r++){var a,o,g=T(t[r]),s=t[r].getTargetingMap(),d=[],l=[],u={};for(a=0;a<g.length;a++)"object"==typeof g[a]&&d.push(g[a].getWidth()+"x"+g[a].getHeight());for(o in s)s.hasOwnProperty(o)&&l.push(o+"="+s[o][0]);u.elementId=t[r].getSlotElementId(),u.sizes=d.join("|"),u.customCriteria=l.join("|"),u.slotRenderTime=c(u.elementId),n.push(u)}return n}function S(t,r){for(var i,n=e.googletag.pubads().getSlots(),a=n.length-1,o=0;a>=o;a--)if(i=n[a]&&n[a].getSlotId()&&n[a].getSlotId().getId(),i===t||w(n[a],t,r))return n[a]}function v(){return n.isSet(z)&&n.isFunction(z.parseSlotID)&&parseInt(r.getCurrentPage())>0}function h(a){if(1!==e.advBidxc.noTarget){var s=void 0!==a;a=!!a;var d,l,u;if(U||(o.gptRequest.addNew(i.defaultBidderSetting.cid,n.clock.time("gptLoad"),n.clock.time("init"),W),U=!0),p()){var c=r.getAllAdUnitCodesArray();if(n.isArray(c)){var f,m,T,P,h="0";for(f=0,m=c.length;m>f;f++)T=c[f],P=S(T,v()||s&&!a),P&&(P&&v()&&(h=z.parseSlotID(P.getSlotElementId())),V[h]=V[h]||{},V[h]&&V[h][T]===!0||I(P,T)&&(r.shutDown(h,T),V[h][T]=!0,t.execSafe(L,T,P,h,a)));n.triggerEvent("adlog:trigger","command",!0),j[h]=j[h]||{},d=g.getGlobalTargetingParams(h),u=e.googletag.pubads();for(l in d)d.hasOwnProperty(l)&&!j[h][l]&&(u.setTargeting(l,d[l]),j[h][l]=!0)}}}}function I(e,t){var r=B(t);if(r.length>0){var i=r[0];if(b(e,i.w,i.h))return!0}return!1}function D(e,t){n.isSet(e)&&n.isSet(t)&&V[e]&&V[e][t]!==!1&&(V[e][t]=!1)}function E(t,r){var a=S(t,!1);if(void 0!==a){var o=a.getTargetingMap(),s=o[i.bidderExTargetParams.BIDDER_ID];delete o[i.defaultExTargetParams.NO_BID],void 0!==s&&(o[i.defaultExTargetParams.WINNER]=s);var d=i.bidderExTargetParams;for(var l in d)d.hasOwnProperty(l)&&o.hasOwnProperty(d[l])&&delete o[d[l]];var u,c,f=g.getTargetingParamsForCode(t,r);for(l=0;l<f.length;l++){u=f[l];for(c in u)u.hasOwnProperty(c)&&o.hasOwnProperty(c)&&delete o[c]}a.clearTargeting();for(c in o)o.hasOwnProperty(c)&&a.setTargeting(c,o[c]);var m=g.getGlobalTargetingParams(r);for(c in m)m.hasOwnProperty(c)&&(e.googletag.pubads().clearTargeting(c),n.isSet(j[r][c])&&delete j[r][c])}}function C(t,r){for(var i=0,a=r.length;a>i;i++)e.googletag.pubads().clearTargeting(r[i]),n.isSet(j[t][r[i]])&&delete j[t][r[i]]}function y(e,t){return{w:e,h:t}}function b(e,t,r){for(var i=T(e),n=0;n<i.length;n++)if("object"==typeof i[n]&&i[n].getWidth()===t&&i[n].getHeight()===r)return!0;return!1}function _(e,t,r){if(e.code===r)return!0;var i=!1;try{n.isSet(z)&&n.isFunction(z.isValidSlotCodeCheckByBidder)&&(i=!0)}catch(a){}return i?z.isValidSlotCodeCheckByBidder(A,e,t,r):n.isSet(e.slotsLike)&&new RegExp(e.slotsLike).test(r)===!0?!0:n.isSet(e.dfpDivIds)&&n.checkItemExists(e.dfpDivIds,r+",")?!0:n.isSet(e.custTargs)&&A(t,e.custTargs)?!0:!1}function w(t,r,a){var o,g=i.bidder,s=!1;if(!n.isFunction(t.getSlotElementId))return!1;o=t.getSlotElementId();for(var d=0,l=g.length;s!==!0&&l>d;d++)s=r===g[d].code&&_(g[d],t,o);if(a===!1)return s;var u=e._mNRequire(["gptmanager"])[0];return s&&!u.isSlotRendered(o)}function A(e,t){var r,i,a,o,g=e.getTargetingMap();for(r in t)if(t.hasOwnProperty(r))for(i=t[r]+"",a=i.split("|"),o=0;o<a.length;o++)if(g[r]&&n.isSet(a[o])&&g[r][0]===a[o])return!0;return!1}function B(e){for(var t=[],r=0;r<i.bidder.length;r++)if(i.bidder[r].code===e&&i.bidder[r].sizes&&i.bidder[r].sizes.length>0)for(var n=0;n<i.bidder[r].sizes.length;n++)t.push(y(i.bidder[r].sizes[n][0],i.bidder[r].sizes[n][1]));return t}function x(e,t,r,o){var g,s=i.bidderExTargetParams,l=t.getTargetingMap(),u=d.resolveMacros("%%CID%%");for(g in s)if(s.hasOwnProperty(g)&&!(l&&s[g]in l)){var c;c=s[g]===s.BIDDER_TYPE?e[0].getCustom(a.CustomProperties.EXTERNAL_BIDDER_TYPE)||"mnet":s[g]===s.CUSTOMER_ID?u:s[g]===s.DFP_SIZE||s[g]===s.AUCTION_TYPE?e[0].getCustom(a.CustomProperties[g]):s[g]===s.SECOND_PROVIDER_ID?n.isSet(e[1])?e[1].get(a.Properties.BIDDER_ID):"":s[g]===s.TEST_DATA?(e[0].getCustom(a.CustomProperties[g])||"")+"|"+d.getTestDataForPlacement(e[0].get(a.Properties.PLACEMENT_ID)):e[0].get(a.Properties[g]),t.setTargeting(s[g],n.encodeParam(c))}O(e,t)}function O(e,t){"testbidder"===e[0].name()&&t.setTargeting("mnTest","1")}function N(e){return n.any(i.bidderExTargetParams,function(t){return e===t?!0:void 0})}function R(e,t,r,i,n){for(var a,o,g=t.getTargetingMap(),s=!1,d=0;d<e.length;d++){a=e[d];for(o in a)!a.hasOwnProperty(o)||g&&o in g||(N(o)||(s=!0,n.tp[o]=a[o]),t.setTargeting(o,a[o]))}return s}function F(e,t){e.setTargeting(i.defaultExTargetParams.PAGE_ID,t.toString()),e.setTargeting(i.defaultExTargetParams.CC,d.getCountryCode()),e.setTargeting(i.defaultExTargetParams.UGD,d.getDeviceType()),"1"==i.hbInfo.targetDn&&e.setTargeting(i.defaultExTargetParams.DOMAIN_NAME,d.getHostname())}function k(e,t,n){r.isAnyBidReceivedForAdUnit(t,n)?e.setTargeting(i.defaultExTargetParams.NO_BID,"1"):e.setTargeting(i.defaultExTargetParams.NO_BID,"2")}function L(e,t,i,a){var s=r.getWinningBidByCode(e,i,!0),d=!0,l={auctionTime:r.getAuctionTime(e,i),tp:{}};null!==s[0]?(d=!1,x(s,t,e,i),M(s[0],t),n.extend(l,{winningBid:s[0],secondWinner:s[1]})):(s=r.getAnyBid(i,e),M(s,t),n.extend(l,{winningBid:s,minimal:!0})),d=!R(g.getTargetingParamsForCode(e,i),t,e,i,l)&&d,g.fillAllUniqueParams(l.tp),o.auctionDecisions.addNew(l),d&&k(t,e,i),F(t,i),M(g.getPlacementMap(i,e),t)}function M(e,t){if(n.isStringSet(e)){var r,i=t.getSlotElementId(),o=t.getTargetingMap();n.isSet(o)&&o.pos&&n.isStringSet(o.pos[0])&&(r=o.pos[0]),n.isArray(e)||(e=[e]);for(var g=0;g<e.length;g++){var s,d=e[g];if(d.setCustom(a.CustomProperties.DFP_DIV_ID,i),n.isStringSet(r)&&d.setCustom(a.CustomProperties.DFP_DIV_POSITION,r),s=d.getCustom(a.CustomProperties.LOGGING_PIXELS),n.isArray(s)&&0!==s.length){for(var l=0;l<s.length;l++)-1!==s[l].indexOf("/rtblog")&&(s[l]=s[l]+"&chnm="+n.encodeParam(i));d.setCustom(a.CustomProperties.LOGGING_PIXELS,s)}}}}function G(){j={}}var z,U=!1,j={},V={},W=-2,q={};try{z=e._mNRequire(["customutil"])[0]}catch(H){}return n.addToEventQueue("all:reset","command",G),{triggerDFP:f,setTargetingForAdUnitsGPTAsync:h,clearTargeting:E,clearCustomTargeting:C,clearSlotsTargetedMap:D,refresh:G,findSlot:S,matchCustomAdunitTargets:A,getAllDFPSlotsInfo:P,hasDFPLoaded:p,needsInfiniteScroll:v,validateDFPSizes:I,setSlotRenderTime:u,isValidSlotCodeCheckByBidder:_}});_mNDefine("mnetHbConsole",[window,"util","config","entitymanager"],function(e,a,r,n){"use strict";function t(e,a){L&&L.hasIframeLoaded()?L.renderDataLoadUrlsAfterIframeLoad(a,e):T[a]=e}function o(e,a){L&&L.hasIframeLoaded()?L.renderAuctionTimeAfterIframeLoad(e,a):B[a]=e}function d(e,a,r){var n=e.serialize();L&&L.hasIframeLoaded()?L.renderBidsAfterIframeLoad(n):(A[r]=A[r]||{},A[r][a]=n)}function i(e){L&&L.hasIframeLoaded()?L.renderPrefetchBidsAfterIframeLoad(e):v.push(e)}function s(e){var a=e.serialize();L&&L.hasIframeLoaded()?L.renderWinnerAfterIframeLoad(a):k.push(a)}function f(e){for(h=0,g=y.length;g>h;h++)-1!==e.indexOf(y[h])&&(L&&L.hasIframeLoaded()?L.renderLogUrlsAfterIframeLoad(e,y[h]):I.push(e))}function c(e){if(e){var a=e.serialize();L&&L.hasIframeLoaded()?L.renderFinalWinnerAfterIframeLoad(a):b.push(a)}}function l(e,a,r,n){switch(a){case"dataLoadUrl":t(e,r);break;case"auctionTime":o(e,n);break;case"bid":d(e,r,n);break;case"prefetchBid":i(e);break;case"winningBid":s(e);break;case"logUrl":f(e);break;case"finalWinner":c(e)}}function m(e){e&&(e=e+" after "+a.clock.diff()+" ms",L&&L.hasIframeLoaded()?L.renderTimelineAfterIframeLoad(e):p.push(e))}function u(){var a=-1!==n.getPublisherUrl().indexOf("hb_console=1");if(a){var t=document.getElementsByTagName("script")[0],o=document.createElement("script"),d=n.resolveMacros("%%PROTOCOL%%://contextual.media.net/hbConsoleController.php?consoleRequest=1&%%HTTPS_FLAG%%"),i=!1;o.type="text/javascript",o.src=d,o.onload=o.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,e._mNRequire(["mnetHbConsoleRenderer"],function(e){L=e.renderer,L.handleTakeOver(r,T,B,v,I,A,k,b,p)}))},t.parentNode.insertBefore(o,t)}}var h,g,L,p=[],I=[],b=[],v=[],A={},k=[],T={},y=["prlog","adlog","awlog","aplog","prflog","gptrlog","gptslog","cslog"],B={};return{log:l,event:m,bootstrap:u}});_mNDefine("mnetadxcontroller",["util","config","_mNRP","bid","mnetHbConsole","entitymanager","logmanager"],function(t,e,i,a,n,s,r){"use strict";function c(e,i,a){function n(e){for(var i=240,a=60*i*60*1e3,n=e.length-1;n>=0;n--)t.getCurrentTime()-e[n].timestamp>a&&e.splice(n,1);return e.length>5&&e.splice(0,e.length-3),e}function r(t,e){return t.cpm*(1+e/100)}function c(e,i,a,n){return t.isSet(n)||(n=a),t.isSet(e)&&t.isSet(i)?e.timestamp>i.timestamp?r(e,a):r(i,-n):t.isSet(e)?r(e,a):r(i,-n)}function o(t){var e=1,i=t.length-1,a=t[i].cpm;for(i-=1;i>=0&&Math.abs(t[i].cpm-a)<.2;i--)e++;return e}function m(t,e,i,a){return Math.abs(t.cpm-e.cpm)<.5||t.cpm>e.cpm?e.timestamp>t.timestamp?e.cpm-.25:o(i)>=2?t.cpm+.25:t.cpm:(t.cpm+e.cpm)/2}this.placementData=_.getPlacementData(e),this.placementId=e,this.predictionSettings=i.mnAdx.prediction,this.lastBid={},this.ceilPrice=a,this.placementData.wb=this.placementData.wb||[],this.placementData.lb=this.placementData.lb||[],this.pushed=!1,this.influenced=!1,this.setTestData=function(){t.isSet(this.placementData.confidence)||(this.placementData.confidence=0),this.placementData.confidence++,s.setTestDataForPlacement(this.placementId,"iter="+this.placementData.confidence),s.setTestDataForPlacement(this.placementId,"adxBid="+t.decimalLimit(this.lastBid.cpm))},this.reportSuccess=function(){this.pushed||(this.pushed=!0,this.lastBid.success=1,this.placementData.wb.push(this.lastBid),this.placementData.lb.length&&this.lastBid.cpm>this.placementData.lb[this.placementData.lb.length-1].cpm&&(this.placementData.lb=[]),_.updateDataForPlacementId(this.placementId,this.placementData))},this.reportFailure=function(){this.pushed||this.influenced||(this.pushed=!0,this.lastBid.success=0,this.placementData.lb.push(this.lastBid),_.updateDataForPlacementId(this.placementId,this.placementData))},this.updateLastCpm=function(t){parseFloat(t)-this.lastBid.cpm>.01&&(this.influenced=!0,this.lastBid.cpm=parseFloat(t))},this.decideLastBid=function(){var e=this.placementData.wb.length,i=this.placementData.lb.length,a=this.placementData.wb[e-1],n=this.placementData.lb[i-1];return t.isSet(n)&&t.isSet(a)&&1==this.predictionSettings.bSearch?m(a,n,this.placementData.wb,this.placementData.lb):t.isSet(a)||t.isSet(n)?c(a,n,this.predictionSettings.increment,this.predictionSettings.decrement):this.predictionSettings.seed},this.getBidPrediction=function(){return n(this.placementData.wb),n(this.placementData.lb),this.lastBid.cpm=this.decideLastBid(),this.lastBid.cpm>this.ceilPrice&&(this.lastBid.cpm=this.ceilPrice+t.getRandom(-25,25)/100),this.lastBid.timestamp=t.getCurrentTime(),this.setTestData(),this.lastBid.cpm}}function o(e,i){var a;if(t.isSet(e.mnAdx.ybncaFo)&&t.isSet(e.mnAdx.ybncaFo.randomize)&&!x[i]){a=e.mnAdx.ybncaFo;var n=a.randomize,s=(n.ybncaMax-n.ybncaMin)/n.ybncaVariance;s=Math.floor(s);var r=t.getRandom(0,s)*n.ybncaVariance,c=n.ybncaMin+r,o=c*(1+(n.minJackup||.25));s=(n.adxMax-o)/n.adxVariance,s=Math.floor(s),r=t.getRandom(0,s)*n.adxVariance;var m=o+r;a.minPrice=c,a.adxCpm=m,x[i]=!0}}function m(e,n,r){var c=s.getConfigSettingsForPlacementId(n),m=c.mnAdx.ybncaFo,d=t.isArray(e)?e[0]:e,p=t.isArray(e)?e[0]:null;if(o(c,n),m&&(!t.isSet(d)||d.get(a.Properties.DFP_BID)<m.minPrice)){try{P=P||window._mNRequire(["ybncaadxfailoverbidder-adapter"])[0],d=P.getDefaultBidForPlacementId(n,r)}catch(l){return i.pushError(l),e}if(!t.isSet(d))return e;t.isArray(e)?(e[0]=d,e[1]=p):e=d}else if(d&&t.isSet(c.mnAdx.pubDfpJackup)&&!E[n]){var u=parseFloat(d.get(a.Properties.DFP_BID)),h=parseFloat(d.get(a.Properties.DFP_BID))*(1+c.mnAdx.pubDfpJackup/100);c.mnAdx.maxPubDfpJackup&&h-u>c.mnAdx.maxPubDfpJackup&&(h=u+c.mnAdx.maxPubDfpJackup),m&&m.pubDfpPrice&&h<m.pubDfpPrice&&(h=m.pubDfpPrice),d.set(a.Properties.DFP_BID,t.decimalLimit(h)),E[n]=!0}return e}function d(t,e){t.googletag=t.googletag||{},t.googletag.cmd=t.googletag.cmd||[],t.document.write('<script src="//www.googletagservices.com/tag/js/gpt.js"> <\/script>');var i=t.document.createElement("div");i.id=e,t.document.body.appendChild(i);var a=t.googletag;a.cmd.push(function(){a.pubads().set("page_url",s.getPublisherUrl()),a.enableServices()})}function p(){return e.defaultBidderSetting.rvCode}function l(t,i){var n={};return n[e.mnetAdxTargetParams.CREATIVE_ID]=t.get(a.Properties.CREATIVE_ID),n[e.mnetAdxTargetParams.CPM]=i,n[e.mnetAdxTargetParams.VARIANT]="0",n}function u(t,e,i,a){t._mNDetails=function(){function t(t,n){e&&e.reportFailure(),a[0]=n,i.apply(null,a)}return{show:t}}()}function h(e,i,a,n,r,c,o){var m,d=parseFloat(e);return d*=1+i/100,n>d&&(d=n+t.getRandom(-n*r,n*r)/100,t.isSet(o)&&s.setTestDataForPlacement(o,"inflBid="+t.decimalLimit(d))),d>c&&(d=c+t.getRandom(-25,25)/100,t.isSet(o)&&s.setTestDataForPlacement(o,"cappedBid="+t.decimalLimit(d))),m=d*(1-a/100),d=1===p()?m:d,t.map([d,m],t.decimalLimit)}function g(e){return t.isSet(e.mnAdx.prediction)&&_.getPlacementData?!0:!1}function D(e){var i=e.getCustom(a.CustomProperties.GOOGLE_BID);return t.isSet(i)&&!isNaN(Number(i))?parseFloat(e.getCustom(a.CustomProperties.GOOGLE_BID)||0):0}function f(e,i,n,o){var m=i.get(a.Properties.PLACEMENT_ID),p=s.getConfigSettingsForPlacementId(m),f=b+m+t.getRandom(1,1e5),P=p.mnAdx.ceilP||9.9,x=p.mnAdx.rvSh||0,E=parseFloat(i.get(a.Properties.DFP_BID))/(1-x/100);if(E>P||"CASALE"===i.getCustom(a.CustomProperties.PROVIDER_NAME))return void n.apply(null,o);d(e,f);var _,R,F,v=p.mnAdx.path,T=p.mnAdx.adtagId,y=p.mnAdx.increment||0,N=p.mnAdx.minPrice||0,w=p.mnAdx.deviation||0,L=e.googletag,M=i.get(a.Properties.SIZE).split("x"),O="";M[0]=parseInt(M[0]),M[1]=parseInt(M[1]),26===i.get(a.Properties.BIDDER_ID)&&(N=p.mnAdx.ybncaFo.adxCpm,v=p.mnAdx.ybncaFo.path||v,T=p.mnAdx.ybncaFo.adtagId||T,y=0,t.isSet(p.mnAdx.ybncaFo.randomize)&&(w=0,O="_RANDOMIZED"),s.setGetSubBidderId(i.getCustom(a.CustomProperties.PAGE_ID),m,C+O)),F=D(i),g(p)?(R=new c(m,p,P),F>E?(N=F,s.setTestDataForPlacement(m,"gBid="+t.decimalLimit(F))):N=E,_=h(R.getBidPrediction(),0,x,N,0,P,m),R.updateLastCpm(_[0])):(F>N?(N=F,s.setTestDataForPlacement(m,"gBid="+t.decimalLimit(F))):N=parseFloat(N)||0,_=h(E,y,x,N,w,P)),u(e,R,n,o),L.cmd.push(function(){var e=L.defineSlot(v,M,f).addService(L.pubads()),n=l(i,_[0]);t.each(n,function(t,i){e.setTargeting(i,t)}),L.pubads().addEventListener("slotRenderEnded",function(){setTimeout(function(){if(!i.getCustom(a.CustomProperties.RENDER_TRY_STATUS)){t.isSet(R)&&R.reportSuccess();var e=i.get(a.Properties.BIDDER_ID),n=(new a).deserialize(i.serialize());n.set(a.Properties.BIDDER_ID,S).set(a.Properties.BIDDER_NAME,I).set(a.Properties.CUSTOMER_BID_PRICE,_[1]).set(a.Properties.CPM,_[0]).setCustom(a.CustomProperties.PROVIDER_NAME,A).setCustom(a.CustomProperties.PROVIDER_ACCOUNT_ID,T).setCustom(a.CustomProperties.FIRST_ADJUSTMENT,y).setCustom(a.CustomProperties.SECOND_ADJUSTMENT,x).setCustom(a.CustomProperties.RENDER_STATUS,!0).setCustom(a.CustomProperties.BASE_BIDDER_ID,e).setCustom(a.CustomProperties.ADVERTISER_URL,B),r.auctionWinner.dispatchExternalWinner("afterRenderExternal",{winningBid:n,secondBid:i})}},500)}),L.display(f)})}var P,b="mnet_div",S=3,I="adxbidder",A="ADX",C="ADX_FAILOVER",B="google-adx-advertiser.com",x={},E={},_=function(){function e(t,e){c[t]=e,a()}function i(t){return c[t]||{}}function a(){r.setInfo(o,JSON.stringify(c))}function n(){var e=r.getInfo(o);return t.isSet(e)?(c=JSON.parse(e),c.version!==s&&(c={},c.version=s),c):null}var s="1.0",r=window._mNRequire(["storagemanager"])[0];if(!r||!r.supportStorage())return{};var c={},o="__loginfo";return n(),{updateDataForPlacementId:e,getPlacementData:i,setInStorage:a}}();return{postBid:f,manipulateWinningBid:m}});_mNDefine("openxbidder-adapter",[window,"util","bidmanager","bid","config","bidder","entitymanager","storagemanager","abtestmanager","logmanager","mnetHbConsole","_mNRP","mnetcookiesyncmanager"],function(e,t,s,o,r,i,u,n,a,p,m,d,C){"use strict";function c(){i.call(this)}function P(){return r.defaultBidderSetting.rvCode}function E(e){return"<div style='position:absolute;left:0px;top:0px;visibility:hidden;'><img src='"+e+"'/></div>"}function I(e,s,o){t.isSet(s)&&(e-=e*s/100);var r=e;return t.isSet(o)&&(r-=r*o/100),1===P()&&(e=r),[e,r]}function _(e){return e=parseInt(e,10),e=!isFinite(e)||isNaN(e)?0:e/1e3,e-=22*e/100}function D(){return C.getCookieData(k)}function g(e,s,r,i,n){t.clock.tock("openxDataLoadTime");var a,p,m,d,C,c,P,g,A=e[0].params.oxLogUrl+"ts={txn_state}",l=A,T=D(),O="0";t.isFunction(n.getRecordTemplate)&&r.OX_mNHB&&(l=n.getRecordTemplate().replace("{rtype}",r.OX_mNHB.Resources.RI||"ri").replace("{medium}",r.OX_mNHB.utils.getMedium()||"w")),t.isSet(T)&&(O="1");for(var S=0,f=e.length;f>S;S++){a=e[S].params,t.isFunction(n.getOrCreateAdUnit)?(p=n.getOrCreateAdUnit(a.unit),m=_(p.get("pub_rev")),C=p.get("html"),d=p.get("width")+"x"+p.get("height"),g=u.getAuctionId(a.pageId,a.code)):C=null;for(var v=R(a),N=0,B=v.length;B>N;N++){var h=v[N].join("x");if(t.isSet(d)&&h===d&&t.isStringSet(C)){var x=m,y=a.rvSh||0,H=a.dsSh||0,L=t.map(I(m,H,y),t.decimalLimit);P=a.recordTemp===!0?l:A,C+=E(P.replace("{txn_state}",p.get("ts"))),c=[],i((new o).status(o.Status.SUCCESS).set(o.Properties.BIDDER_ID,Q).set(o.Properties.BIDDER_NAME,G).set(o.Properties.ADCODE,C).set(o.Properties.SIZE,h).set(o.Properties.CPM,L[0]).set(o.Properties.DFP_BID,L[0]).set(o.Properties.CUSTOMER_BID_PRICE,L[1]).set(o.Properties.PLACEMENT_ID,a.code).set(o.Properties.CREATIVE_ID,a.mnet_id).setCustom(o.CustomProperties.PAGE_ID,a.pageId).setCustom(o.CustomProperties.DFP_SIZE,a.sizes[N].join("x")).setCustom(o.CustomProperties.PROVIDER_NAME,k).setCustom(o.CustomProperties.PROVIDER_ACCOUNT_ID,a.unit).setCustom(o.CustomProperties.COOKIE_ID,T).setCustom(o.CustomProperties.COOKIE_FLAG,O).setCustom(o.CustomProperties.ORIGINAL_CPM,x).setCustom(o.CustomProperties.FIRST_ADJUSTMENT,H).setCustom(o.CustomProperties.SECOND_ADJUSTMENT,y).setCustom(o.CustomProperties.LOGGING_PIXELS,c).setCustom(o.CustomProperties.ADVERTISER_ID,p.get("brand_id")||"").setCustom(o.CustomProperties.ADVERTISER_URL,X).setCustom(o.CustomProperties.TIMESTAMP,t.getCurrentTime()).setCustom(o.CustomProperties.LOAD_TIME,t.clock.time("openxDataLoadTime")).setCustom(o.CustomProperties.DEAL_TYPE,"O"),a.code,f-S===1&&B-N===1)}else i((new o).status(o.Status.NOBID).set(o.Properties.PLACEMENT_ID,a.code).set(o.Properties.BIDDER_ID,Q).set(o.Properties.BIDDER_NAME,G).set(o.Properties.SIZE,h).set(o.Properties.CPM,0).set(o.Properties.DFP_BID,0).set(o.Properties.CUSTOMER_BID_PRICE,0).set(o.Properties.CREATIVE_ID,a.mnet_id).setCustom(o.CustomProperties.PAGE_ID,a.pageId).setCustom(o.CustomProperties.COOKIE_ID,T).setCustom(o.CustomProperties.COOKIE_FLAG,O).setCustom(o.CustomProperties.PROVIDER_NAME,k).setCustom(o.CustomProperties.ORIGINAL_CPM,m>0?m:0).setCustom(o.CustomProperties.LOAD_TIME,t.clock.time("openxDataLoadTime")),a.code,f-S===1&&B-N===1)}}}function A(e,t){for(var s=[],r=0,i=e.length;i>r;r++){var n=e[r].params,a="";t===o.AuctionType.HEADER_BID&&(a=u.getAuctionId(n.pageId,n.code));for(var m=R(n),d=0;d<m.length;d++)s.push((new o).set(o.Properties.PLACEMENT_ID,n.code).set(o.Properties.BIDDER_NAME,G).set(o.Properties.BIDDER_ID,Q).set(o.Properties.SIZE,m[d].join("x")).set(o.Properties.CREATIVE_ID,n.mnet_id).setCustom(o.CustomProperties.PAGE_ID,n.pageId).setCustom(o.CustomProperties.AUCTION_ID,a).setCustom(o.CustomProperties.COOKIE_ID,D()).setCustom(o.CustomProperties.PROVIDER_NAME,k).setCustom(o.CustomProperties.AUCTION_TYPE,t).setCustom(o.CustomProperties.PROVIDER_REQUEST_ID,u.getProviderRequestID(n.pageId,G,t)))}p.fetchRequests.addArray(s)}function l(e){t.isSet(e.utils)&&(e.utils.detectProtocol=function(){return"https:"})}function T(e,s,r,i,n){if(!n.OX_mNHB||!t.isFunction(n.OX_mNHB))return void g(e,s,n,r,{});s===o.AuctionType.CACHE&&t.isSet(n)&&(U=n),u.needsHttpsSupport()&&l(n.OX_mNHB),t.consoleLog("openx request "+e[0].params.pageURL);var a=e[0].params.pageURL,p=n.OX_mNHB();m.log(a,"dataLoadUrl","openx"),p.setPageURL(a);for(var d=0;d<e.length;d++){p.addAdUnit(e[d].params.unit);var C=R(e[d].params);if(t.isSet(C)&&t.isArray(C)){for(var c=[],P=0;P<C.length;P++)c.push(C[P].join("x"));p.setAdSizes(c)}}p.addHook(t.getProxy(g,[e,s,n,r]),n.OX_mNHB.Hooks.ON_AD_RESPONSE),p.load()}function R(e){var s;return t.isSet(e.csizes)?s=e.csizes:t.isSet(e.sizes)&&(s=e.sizes),!w&&t.isArray(s)&&(s=s.slice(0,1)),s||[]}function O(e,r,i){m.event("Bid rcv for '"+r+"' from "+e.provider());var n=e.getCustom(o.CustomProperties.AUCTION_TYPE)===o.AuctionType.CACHE,a=e.getCustom(o.CustomProperties.PAGE_ID);t.addToEventQueue("auctionEnd",r,t.getProxy(b.handlePostAuctionClose,[],b)),t.addToEventQueue("secondWinner",r,t.getProxy(b.handlePostAuctionClose,[],b)),e.setCustom(o.CustomProperties.AUCTION_ID,u.getAuctionId(a,r)),n?e.setCustom(o.CustomProperties.LOAD_TIME,b.stats("prefetchTime")):(e.setCustom(o.CustomProperties.AUCTION_TYPE,o.AuctionType.HEADER_BID),e.setCustom(o.CustomProperties.PROVIDER_REQUEST_ID,u.getProviderRequestID(a,G,o.AuctionType.HEADER_BID))),s.isAuctionClosedForAdUnitCode(r,a)?(e.status(e.status()===o.Status.SUCCESS?o.Status.RESPONSE_AFTER_AUCTION:o.Status.NOBID_AFTER_AUCTION),b.addLateResponse(e)):(s.addBidResponse(r,a,e),b.addForwardedResponse(e)),m.log(e,"bid",e.provider(),r),i&&t.triggerEvent("endOfResponse",e.provider(),!0,{cache:n})}function S(){return function(e,s,r){e.setCustom(o.CustomProperties.AUCTION_TYPE,o.AuctionType.CACHE),e.setCustom(o.CustomProperties.PROVIDER_REQUEST_ID,u.getProviderRequestID(e.getCustom(o.CustomProperties.PAGE_ID),G,o.AuctionType.CACHE)),e.setCustom(o.CustomProperties.REFERRING_VISIT_ID,u.resolveMacros("%%VISIT_ID%%")),m.log(e,"prefetchBid"),b.addToCache(e),r&&t.triggerEvent("pushToCache",e.provider())}}function f(e){F!==!0&&(F=!0,B(e))}function v(t,s){T(t,s,O,null,e)}function N(e){t.loadScriptInIframe(e[0].params.jstag_url,t.getProxy(T,[e,o.AuctionType.CACHE,S()]),"openxCache"),A(e,o.AuctionType.CACHE)}function B(e){t.consoleLog("Openx prefetch called"),m.event("Openx PF"),t.clock.tick("openxDataLoadTime"),t.isSet(U)&&t.isFunction(U.OX_mNHB)?(T(e,o.AuctionType.CACHE,S(),null,U),A(e,o.AuctionType.CACHE)):N(e)}function h(e,s){var o={};o.bidderCode=M,o.bids=[],t.each(s,function(e){V[e]&&o.bids.push(V[e])}),H(o)}function x(e){return t.filter(e,function(e){return e.params.ng===!0?!1:u.isHdHome()&&e.params.hdcd===!0?!1:0!==e.params.pf})}function y(e,s){var o=e.bids;M=e.bidderCode,F=!1;var r=x(o);t.isArray(r)&&r.length>0&&t.addToEventQueue("prefetch","global",t.getProxy(f,[r]));var i,n={};return i=t.map(o,function(e){return e.params.pageURL=u.getDomainForPrefetchFD(),V[e.params.code]=e,e.params.code}),b=(new c).config(j),s?(t.addToEventQueue("getBidsFromApi","global",t.getProxy(H,[e])),n[k]=b.getValidBidsStatusPerPlacement(i)||{},n):(n[k]=b.getValidBidsStatusPerPlacement(i)||{},u.isHBDisabled(k)?t.addToEventQueue("getBidsFromApi","global",t.getProxy(b.useBidsFromCache,[O,V])):t.addToEventQueue("getBidsFromApi","global",h),t.addToEventQueue("getBidsFromCache","global",t.getProxy(b.useBidsFromCache,[O,V])),n)}function H(s){L=s.bids,0!==L.length&&(t.clock.tick("openxDataLoadTime"),e.OX_mNHB&&t.isFunction(e.OX_mNHB)?v(L,o.AuctionType.HEADER_BID):t.loadScript(L[0].params.jstag_url,t.getProxy(v,[L,o.AuctionType.HEADER_BID])),A(L,o.AuctionType.HEADER_BID))}var L,U,F,b,M="",V={},G="openxbidder",X="openx.com",k="OPENX",Q=11,w=!1,j={name:k,id:Q,bidderName:G};return t.inherits(c,i),{getBidsStatus:y}});_mNDefine("ybncabidder-adapter",[window,"util","bidmanager","bid","config","entitymanager","storagemanager","logmanager","bidder","adaptermanager","mnetHbConsole"],function(e,t,r,s,i,o,n,d,a,u,m){"use strict";function C(){a.call(this),this.getAdcode=function(e,r,s,i,n,d,a){d=d||e.size;var u=d.split("x")[0],m=d.split("x")[1],C=e.mnet_crid,c=e.mnet_cid,p="",P=t.isSet(a)&&a.matchString||"",_=o.needsHttpsSupport();t.isSet(n)&&(p=o.getAuctionId(n.pageId,n.code));var I='<!DOCTYPE html><HTML><HEAD></HEAD><BODY><script id="mNCC" language="javascript">medianet_versionId = \'111299\';medianet_width = \''+u+"';medianet_height = '"+m+"';medianet_crid = '"+C+"';medianet_requrl= '"+t.encodeParam(o.getPublisherUrl())+"';medianet_chnm2= '"+r+"';medianet_chnm3= '"+s+"';medianet_bdrId= '"+this.config("id")+"';medianet_sbdrId= '"+i+"';medianet_auctionid= '"+p+"';medianet_misc= {};medianet_misc.matchString= '"+P+"';(function() {var isSSL = "+_+";var mnSrc = (isSSL ? 'https:' : 'http:') + '//contextual.media.net/nmedianet.js?cid="+c+"' + (isSSL ? '&https=1' : '');document.write('<scr' + 'ipt type=\"text/javascript\" id=\"mNSC\" src=\"' + mnSrc + '\"></scr' + 'ipt>');})();<\/script></BODY></HTML>";return I}}function c(e){for(var t in z)if(z.hasOwnProperty(t)&&z[t].id===e.toString())return t;return""}function p(e){return z[e]||{}}function P(e,i,n,d){if(null!==e){m.event("Bid rcv for '"+i+"' from "+e.provider());var a=e.getCustom(s.CustomProperties.AUCTION_TYPE)===s.AuctionType.CACHE,u=e.getCustom(s.CustomProperties.PAGE_ID),C=x[e.provider()];if(t.addToEventQueue("auctionEnd",i,t.getProxy(C.handlePostAuctionClose,[],C)),t.addToEventQueue("secondWinner",i,t.getProxy(C.handlePostAuctionClose,[],C)),e.setCustom(s.CustomProperties.AUCTION_ID,o.getAuctionId(u,i)),a?e.setCustom(s.CustomProperties.LOAD_TIME,C.stats("prefetchTime")):(e.setCustom(s.CustomProperties.AUCTION_TYPE,s.AuctionType.HEADER_BID),e.setCustom(s.CustomProperties.PROVIDER_REQUEST_ID,o.getProviderRequestID(u,e.name(),s.AuctionType.HEADER_BID))),r.isAuctionClosedForAdUnitCode(i,u)?(e.status(e.status()===s.Status.SUCCESS?s.Status.RESPONSE_AFTER_AUCTION:s.Status.NOBID_AFTER_AUCTION),C.addLateResponse(e)):(V.push(e),C.addForwardedResponse(e),d&&(r.addBidResponse(i,u,V.sort(function(e,r){return t.decimalLimit(r.get(s.Properties.CPM))-t.decimalLimit(e.get(s.Properties.CPM))})[0]),V=[])),m.log(e,"bid",e.provider(),!0,i),n)for(var c in x)x.hasOwnProperty(c)&&t.triggerEvent("endOfResponse",c,{cache:a})}}function _(){return i.defaultBidderSetting.cid}function I(){return i.defaultBidderSetting.rvCode}function E(){return i.defaultBidderSetting.ybncabidder.bidApiUrl}function D(){return i.defaultBidderSetting.ybncabidder.cTimeout}function A(){return i.defaultBidderSetting.ybncabidder.hbTimeout}function g(e,r,s){t.isSet(r)&&(e-=e*r/100);var i=e;return t.isSet(s)&&(i-=i*s/100),1===I()&&(e=i),[e,i]}function R(e){return e.no_bid===!1&&e.og_bid&&e.og_bid>L}function l(e,r,i,n,d){var a="",u=w,m=e.uid||"",C="0";t.isSet(d)&&(a+=d),t.isSet(e.nbc)&&(u=e.nbc),t.isSet(m)&&(C="1");var p=e.bidderInfoBean||{},P=c(e.bidder_id);if(R(e)){var I=t.decimalLimit(e.og_bid),E=(_(),i.dsSh||0),D=i.rvSh||0,A=e.sub_bidder_id||"",l={};o.setGetSubBidderId(i.pageId,i.mnet_id,A);var S=t.map(g(I,E,D),t.decimalLimit),T=x[P],f=e.logging_pixels||[],b=p.category||"";t.isSet(b)&&t.isArray(b)&&(b=b.join("|")),l.matchString=p.matchString||"";var O=T.getAdcode(i[P],_(),i.mnet_id,A,i,e.size,l);return(new s).status(s.Status.SUCCESS).set(s.Properties.PLACEMENT_ID,i.code).set(s.Properties.BIDDER_ID,e.bidder_id).set(s.Properties.BIDDER_NAME,y).set(s.Properties.SIZE,e.size).set(s.Properties.CPM,S[0]).set(s.Properties.DFP_BID,S[0]).set(s.Properties.CUSTOMER_BID_PRICE,S[1]).set(s.Properties.CREATIVE_ID,i.mnet_id).set(s.Properties.ADCODE,O).setCustom(s.CustomProperties.PAGE_ID,i.pageId).setCustom(s.CustomProperties.DFP_SIZE,e.size).setCustom(s.CustomProperties.MNET_CRID,i[P].mnet_crid).setCustom(s.CustomProperties.ORIGINAL_CPM,I).setCustom(s.CustomProperties.PROVIDER_NAME,P).setCustom(s.CustomProperties.TEST_DATA,a).setCustom(s.CustomProperties.FIRST_ADJUSTMENT,E).setCustom(s.CustomProperties.SECOND_ADJUSTMENT,D).setCustom(s.CustomProperties.LOGGING_PIXELS,f).setCustom(s.CustomProperties.LOAD_TIME,n).setCustom(s.CustomProperties.NOBID_REASON,u).setCustom(s.CustomProperties.FINAL_BID,e.fb).setCustom(s.CustomProperties.CAMPAIGN_ID,p.cmpId||"").setCustom(s.CustomProperties.PROVIDER_COOKIE_ID,m).setCustom(s.CustomProperties.COOKIE_FLAG,C).setCustom(s.CustomProperties.GOOGLE_BID,e.gbid||0).setCustom(s.CustomProperties.PROVIDER_ACCOUNT_ID,i[P].mnet_crid||"").setCustom(s.CustomProperties.PROVIDER_API_ID,i[P].mnet_cid||"").setCustom(s.CustomProperties.RESPONSE_TIME,p.responseTime||"").setCustom(s.CustomProperties.DATA_CENTER,p.dataCenter||"").setCustom(s.CustomProperties.BIDDER_INFO_BIDDER_ID,p.providerBidderId||"").setCustom(s.CustomProperties.CATEGORY,b||"").setCustom(s.CustomProperties.ADVERTISER_ID,p.brandId||"").setCustom(s.CustomProperties.ADVERTISER_URL,p.landingPageUrl||G).setCustom(s.CustomProperties.ADVERTISER_NAME,p.advBrandName||"").setCustom(s.CustomProperties.TIMESTAMP,t.getCurrentTime())}return(new s).status(s.Status.NOBID).set(s.Properties.PLACEMENT_ID,i.code).set(s.Properties.BIDDER_NAME,y).set(s.Properties.SIZE,e.size).set(s.Properties.BIDDER_ID,e.bidder_id).set(s.Properties.CREATIVE_ID,i.mnet_id).set(s.Properties.CPM,0).set(s.Properties.DFP_BID,0).set(s.Properties.CUSTOMER_BID_PRICE,0).setCustom(s.CustomProperties.DATA_CENTER,p.dataCenter||"").setCustom(s.CustomProperties.PAGE_ID,i.pageId).setCustom(s.CustomProperties.TEST_DATA,a).setCustom(s.CustomProperties.NOBID_REASON,u).setCustom(s.CustomProperties.PROVIDER_NAME,c(e.bidder_id)).setCustom(s.CustomProperties.MNET_CRID,i[c(e.bidder_id)].mnet_crid).setCustom(s.CustomProperties.PROVIDER_ACCOUNT_ID,i[P].mnet_crid||"").setCustom(s.CustomProperties.PROVIDER_API_ID,i[P].mnet_cid||"").setCustom(s.CustomProperties.ORIGINAL_CPM,0).setCustom(s.CustomProperties.PROVIDER_COOKIE_ID,m).setCustom(s.CustomProperties.COOKIE_FLAG,C).setCustom(s.CustomProperties.LOAD_TIME,n)}function S(e,t,r){if(e.length!==t.length){var s,i,o,n={};for(s=0,i=e.length;i>s;s++)n[c(e[s].bidder_id)]=!0;for(i=t.length,s=0;i>s;s++)void 0===n[t[s]]&&(o=p(t[s]),o.noBid.size=r.sizes[0].join("x"),e.push(o.noBid))}}function T(e,r,s,i,o){t.clock.tock("ybncaDataLoadTime");for(var n=t.clock.time("ybncaDataLoadTime"),d=0,a=e.length;a>d;d++){var u=e[d].params,m=u.mnet_id;if(o&&o.hasOwnProperty(m)){var C,c=o[m],p=c.bl||[];C=c.winReason||0,S(p,e[d].cbidders,u);for(var P=0,_=p.length;_>P;P++)s(l(p[P],r,u,n,C),u.code,_-P===1&&a-d===1,_-P===1)}else{var I=e[d].cbidders.length;t.each(e[d].cbidders,function(t){if(I-=1,e[d].params.hasOwnProperty(t)&&x.hasOwnProperty(t)){var i=x[t].config("noBid");i.size=u.sizes[0].join("x"),s(l(i,r,u,n,10),u.code,0===I&&a-d===1)}})}}}function f(e,r){var i=[];for(var n in x)if(x.hasOwnProperty(n))for(var a=z[n].id,u=c(a),m=0,C=e.length;C>m;m++){var p=e[m].params,P="";if(p.hasOwnProperty(n)){r===s.AuctionType.HEADER_BID&&(P=o.getAuctionId(p.pageId,p.code));var _=p[u];t.isSet(_.csizes)&&t.isArray(_.csizes)||(_.csizes=[_.size]),t.each(_.csizes,function(e){i.push((new s).set(s.Properties.PLACEMENT_ID,p.code).set(s.Properties.BIDDER_NAME,y).set(s.Properties.SIZE,e).set(s.Properties.BIDDER_ID,a).set(s.Properties.CREATIVE_ID,p.mnet_id).setCustom(s.CustomProperties.PAGE_ID,p.pageId).setCustom(s.CustomProperties.AUCTION_ID,P).setCustom(s.CustomProperties.MNET_CRID,p[u].mnet_crid).setCustom(s.CustomProperties.PROVIDER_NAME,u).setCustom(s.CustomProperties.AUCTION_TYPE,r).setCustom(s.CustomProperties.PROVIDER_REQUEST_ID,o.getProviderRequestID(p.pageId,y,r)))})}}d.fetchRequests.addArray(i)}function b(e,r){for(var s=[],i=0,o=r.length;o>i;i++){var n="{{BID}}|{{SIZE}}|{{PBC}}|{{PC}}",d=r[i];t.isArray(d.SIZE)&&(d.SIZE=d.SIZE.join("~"));for(var a in d)d.hasOwnProperty(a)&&(n=n.replace(new RegExp("{{"+a+"}}"),d[a]));s.push(n)}return e+"*"+s.join(",")}function O(i,n,d){for(var a,u,m=[],C=[],c=[],p=0,P=i.length;P>p;p++){a||(a=i[p].params.pageURL),c.push(i[p].params.mnet_id);for(var I in x)x.hasOwnProperty(I)&&i[p].params.hasOwnProperty(I)&&m.push({BID:x[I].config("id"),BSID:i[p].params[I].mnet_crid,SIZE:i[p].params[I].csizes||i[p].params[I].size,PBC:i[p].params[I].mnet_cid,PC:i[p].params[I].mnet_crid});C.push(b(i[p].params.mnet_id,m)),m=[]}C=C.join("@"),n===s.AuctionType.CACHE?u=D():n===s.AuctionType.HEADER_BID&&(u=A());var g=E()+"?"+(n===s.AuctionType.CACHE?"":"&rt=3&callback=window.advBidxc.ybncaresponse&")+(t.isStringSet(u)?t.buildUrlParameters({tmt:u}):"")+t.buildUrlParameters({cid:_(),apid:2,requestString:t.encodeParam(C),crid:c.join(","),sd:o.getSessionDepth(),hlt:1,act:n,prvReqId:o.getProviderRequestID(r.getCurrentPage(),y,n),https:o.needsHttpsSupport()?1:0,requrl:t.encodeParam(a),kwrf:t.encodeParam(o.getReferrerUrl()),tr:Math.random()});t.clock.tick("ybncaDataLoadTime"),n===s.AuctionType.CACHE?t.loadScriptInIframe(g,t.getProxy(T,[i,n,d]),"ybnca"+n):(e.advBidxc.ybncaresponse=t.getProxy(T,[i,n,d,{}]),t.loadScript(g)),f(i,n)}function h(e){var t=e.bids;0!==t.length&&O(t,s.AuctionType.HEADER_BID,P)}function B(e){var r=[],s={};return t.each(e,function(e){t.each(e.cbidders,function(e){s[e]||(r.push(e),s[e]=!0)})}),r}function N(e){var r=e.bids,s=B(r);return F=e.bidderCode,t.each(r,function(e){e.params.pageURL=o.getPublisherUrl()}),t.each(s,function(e){x[e]=(new C).config(z[e]),u.registerAdapter(e,x[e]),Y+=1}),t.addToEventQueue("getDefaultBiddersFromApi","global",t.getProxy(h,[e])),null}function v(e,i){var o=(new C).config(H),n=o.getAdcode(i,_(),e.mnet_id,"antiAd",e),d=(new s).status(s.Status.NOBID).set(s.Properties.PLACEMENT_ID,e.code).set(s.Properties.BIDDER_ID,H.id).set(s.Properties.BIDDER_NAME,y).set(s.Properties.SIZE,i.size).set(s.Properties.CPM,H.defaultPrice).set(s.Properties.DFP_BID,H.defaultPrice).set(s.Properties.CUSTOMER_BID_PRICE,H.defaultPrice).set(s.Properties.CREATIVE_ID,e.mnet_id).set(s.Properties.ADCODE,n).setCustom(s.CustomProperties.PAGE_ID,r.getCurrentPage()).setCustom(s.CustomProperties.MNET_CRID,i.mnet_crid).setCustom(s.CustomProperties.ORIGINAL_CPM,H.defaultPrice).setCustom(s.CustomProperties.PROVIDER_NAME,H.name).setCustom(s.CustomProperties.PROVIDER_ACCOUNT_ID,i.mnet_crid).setCustom(s.CustomProperties.PROVIDER_API_ID,i.mnet_cid).setCustom(s.CustomProperties.TIMESTAMP,t.getCurrentTime());return d}var M,y="ybncabidder",L=0,U=3,w=99,V=[],G="media.net",z={YBNCA:{name:"YBNCA",id:"9",bidderName:y,defaultPrice:L,noBid:{no_bid:!0,bidder_id:"9",og_bid:0,adcode:null,nbc:U}},"YBNCA-AUTO":{name:"YBNCA-AUTO",id:"4",bidderName:y,defaultPrice:L,noBid:{no_bid:!0,bidder_id:"4",og_bid:0,adcode:null,nbc:U}},YGEMINI:{name:"YGEMINI",id:"22",bidderName:y,defaultPrice:L,noBid:{no_bid:!0,bidder_id:"22",og_bid:0,adcode:null,nbc:U}}},H={name:"YBNCA-ANTI-ADBLOCK",id:"34",bidderName:y,defaultPrice:.2,noBid:{no_bid:!0,bidder_id:"34",og_bid:0,adcode:null,nbc:U}},x={},F="",Y=0;try{M=e._mNRequire(["customutil"])[0]}catch(j){}return t.inherits(C,a),{getBidsStatus:N,getAntiAdBlockBidForPlacement:v}});_mNDefine("rtbsbidder-adapter",[window,"util","bidmanager","bid","config","entitymanager","storagemanager","logmanager","bidder","adaptermanager","mnetHbConsole","mnetcookiesyncmanager"],function(e,t,r,o,i,s,n,d,a,u,c,C){"use strict";function m(e){return te[e]||{}}function P(e){for(var t in te)if(te.hasOwnProperty(t)&&te[t].id===e.toString())return t;return""}function p(e,r,o,i){return t.each(e,function(e){var t=te[r].priceMacro;e=e.replace(a.ORIGINAL_PRICE_MACRO,i).replace(a.ADJUSTED_PRICE_MACRO,o).replace(t,i)}),e}function I(){a.call(this),this.renderAd=function(e,t){var r,i;if(t){r=t.get(o.Properties.ADCODE);try{if(r)return c.event("Ad rendered for "+t.get(o.Properties.PLACEMENT_ID)),i=e.document.createElement("iframe"),i.src=r,i.width="100%",i.height="100%",i.frameBorder=0,i.marginWidth=0,i.marginHeight=0,i.scrolling="no",e.document.body.appendChild(i),!0}catch(s){return!1}}return!1}}function _(){a.call(this),this.setSecondPrice=function(e){var i=e.winner.getCustom(o.CustomProperties.FINAL_BID),s=e.winner.getCustom(o.CustomProperties.LOGGING_PIXELS),n=e.winner.get(o.Properties.ADCODE),d=this.getTimeLinePixel(e.winner);if(i===!1||void 0===i)return e.winner.set(o.Properties.ADCODE,n.replace(this.config("priceMacro"),e.winner.getCustom(o.CustomProperties.ORIGINAL_CPM))),e.winner.setCustom(o.CustomProperties.TIMELINE_PIXEL,d.replace(a.ORIGINAL_PRICE_MACRO,e.winner.getCustom(o.CustomProperties.ORIGINAL_CPM))),void e.winner.setCustom(o.CustomProperties.LOGGING_PIXELS,p(s,this.config("name"),e.winner.get(o.Properties.CPM),e.winner.getCustom(o.CustomProperties.ORIGINAL_CPM)));var u=r.getSecondPriceByCode(e.winner.get(o.Properties.PLACEMENT_ID),e.winner.getCustom(o.CustomProperties.PAGE_ID));(-1===u||u<this.config("defaultPrice"))&&(u=this.config("defaultPrice")),e.winner.set(o.Properties.ADCODE,n.replace(this.config("priceMacro"),u));var c=e.winner.getCustom(o.CustomProperties.FIRST_ADJUSTMENT),C=e.winner.getCustom(o.CustomProperties.SECOND_ADJUSTMENT),m=t.map(f(u,c,C),t.decimalLimit);e.winner.set(o.Properties.CUSTOMER_BID_PRICE,m[1]),e.winner.set(o.Properties.DFP_BID,m[0]),e.winner.setCustom(o.CustomProperties.TIMELINE_PIXEL,d.replace(a.ORIGINAL_PRICE_MACRO,e.winner.getCustom(o.CustomProperties.ORIGINAL_CPM))),e.winner.setCustom(o.CustomProperties.LOGGING_PIXELS,p(s,this.config("name"),m[0],u))},this.handlePostAuctionClose=function(e,r){r&&r.winner&&r.winner.provider()===this.config("name")&&(this.setSecondPrice(r),c.log(r.winner,"winningBid"),t.addToEventQueue("afterRender",r.winner.get(o.Properties.PLACEMENT_ID),t.getProxy(this.handlePostRendering,[],this))),t.consoleLog("Auction Closed for",e.src)}}function E(e,i,n){if(null!==e){c.event("Bid rcv for '"+i+"' from "+e.provider());var d=e.getCustom(o.CustomProperties.AUCTION_TYPE)===o.AuctionType.CACHE,a=e.getCustom(o.CustomProperties.PAGE_ID),u=re[e.provider()];if(t.addToEventQueue("auctionEnd",i,t.getProxy(u.handlePostAuctionClose,[],u)),t.addToEventQueue("secondWinner",i,t.getProxy(u.handlePostAuctionClose,[],u)),e.setCustom(o.CustomProperties.AUCTION_ID,s.getAuctionId(a,i)),d?e.setCustom(o.CustomProperties.LOAD_TIME,u.stats("prefetchTime")):(e.setCustom(o.CustomProperties.AUCTION_TYPE,o.AuctionType.HEADER_BID),e.setCustom(o.CustomProperties.PROVIDER_REQUEST_ID,s.getProviderRequestID(a,e.name(),o.AuctionType.HEADER_BID))),r.isAuctionClosedForAdUnitCode(i,a)?(e.status(e.status()===o.Status.SUCCESS?o.Status.RESPONSE_AFTER_AUCTION:o.Status.NOBID_AFTER_AUCTION),u.addLateResponse(e)):(r.addBidResponse(i,a,e),u.addForwardedResponse(e)),c.log(e,"bid",e.provider(),i),n)for(var C in re)re.hasOwnProperty(C)&&t.triggerEvent("endOfResponse",C,!0,{cache:d})}}function A(){return i.defaultBidderSetting.cid}function l(){return i.defaultBidderSetting.rvCode}function g(){return i.defaultBidderSetting.rtbsbidder.bidApiUrl}function D(){return i.defaultBidderSetting.rtbsbidder.cTimeout}function T(){return i.defaultBidderSetting.rtbsbidder.hbTimeout}function b(e,r){return t.isSet(r)&&(e-=e*r/100),e}function f(e,r,o){t.isSet(r)&&(e-=e*r/100);var i=e;return t.isSet(o)&&(i-=i*o/100),1===l()&&(e=i),[e,i]}function R(e){var r=s.getFloorPriceByProvider(e);return t.isSet(r)?r:te[e].defaultPrice}function S(e,t){return e.no_bid===!1&&e.og_bid&&e.adcode&&e.og_bid>R(t)}function O(e,r){return e.no_bid===!0?t.isSet(e.nbc)?e.nbc:j:e.og_bid<=R(r)?z:j}function h(e,r){var o=te[r]&&te[r].providerAccountId;return t.isSet(o)?e[o]:e.buyer_id||e.ext_placement_code}function N(e,r,i,n,d){var a=P(e.bidder_id),u="",c=j,m=C.getCookieData(a),p=e.uid||"",I="0";if(!t.isStringSet(a))return null;t.isSet(d)&&(u+=d),t.isSet(e.nbc)&&(c=e.nbc),t.isSet(p)&&(I="1");var _=e.bidderInfoBean||{};if(S(e,a)){var E,A=s.getDiscrepancyShareForProvider(a)||r.dsSh||te[a].dsSh||0,l=s.getRevenueShareForProvider(a)||r.rvSh||0,g=te[a].providerShare||0,D=t.decimalLimit(b(e.og_bid,g)),T=t.map(f(D,A,l),t.decimalLimit),R=e.logging_pixels||[],N=_.category||"";return t.isSet(N)&&t.isArray(N)&&(N=N.join("|")),E=h(e,a),(new o).status(o.Status.SUCCESS).set(o.Properties.PLACEMENT_ID,r.code).set(o.Properties.BIDDER_ID,e.bidder_id).set(o.Properties.BIDDER_NAME,W).set(o.Properties.ADCODE,e.adcode).set(o.Properties.SIZE,r.size||r[a].size).set(o.Properties.CPM,T[0]).set(o.Properties.DFP_BID,T[0]).set(o.Properties.CUSTOMER_BID_PRICE,T[1]).set(o.Properties.CREATIVE_ID,r.mnet_id).setCustom(o.CustomProperties.PAGE_ID,r.pageId).setCustom(o.CustomProperties.DFP_SIZE,r.sizes[0].join("x")).setCustom(o.CustomProperties.ORIGINAL_CPM,D).setCustom(o.CustomProperties.COOKIE_ID,m).setCustom(o.CustomProperties.PROVIDER_COOKIE_ID,p).setCustom(o.CustomProperties.NOBID_REASON,c).setCustom(o.CustomProperties.COOKIE_FLAG,I).setCustom(o.CustomProperties.FIRST_ADJUSTMENT,A).setCustom(o.CustomProperties.SECOND_ADJUSTMENT,l).setCustom(o.CustomProperties.PROVIDER_NAME,a).setCustom(o.CustomProperties.TEST_DATA,u).setCustom(o.CustomProperties.PROVIDER_ACCOUNT_ID,E||"").setCustom(o.CustomProperties.PROVIDER_API_ID,e.publisher_id||"").setCustom(o.CustomProperties.LOGGING_PIXELS,R).setCustom(o.CustomProperties.LOAD_TIME,n).setCustom(o.CustomProperties.FINAL_BID,e.fb).setCustom(o.CustomProperties.EXTERNAL_UID,e.uid).setCustom(o.CustomProperties.RESPONSE_TIME,_.responseTime||"").setCustom(o.CustomProperties.DATA_CENTER,_.dataCenter||"").setCustom(o.CustomProperties.BIDDER_INFO_BIDDER_ID,_.providerBidderId||"").setCustom(o.CustomProperties.CATEGORY,N||"").setCustom(o.CustomProperties.BUYER_ID,_.buyerMemberId||"").setCustom(o.CustomProperties.ADVERTISER_ID,_.brandId||"").setCustom(o.CustomProperties.ADVERTISER_URL,_.landingPageUrl||"").setCustom(o.CustomProperties.ADVERTISER_NAME,_.advBrandName||"").setCustom(o.CustomProperties.TIMESTAMP,t.getCurrentTime()).setCustom(o.CustomProperties.DEAL_TYPE,"O")}return c=O(e,a),(new o).status(o.Status.NOBID).set(o.Properties.PLACEMENT_ID,r.code).set(o.Properties.BIDDER_NAME,W).set(o.Properties.SIZE,r.size||r[a].size).set(o.Properties.BIDDER_ID,e.bidder_id).set(o.Properties.CREATIVE_ID,r.mnet_id).set(o.Properties.CPM,0).set(o.Properties.DFP_BID,0).set(o.Properties.CUSTOMER_BID_PRICE,0).setCustom(o.CustomProperties.DATA_CENTER,_.dataCenter||"").setCustom(o.CustomProperties.PAGE_ID,r.pageId).setCustom(o.CustomProperties.TEST_DATA,u).setCustom(o.CustomProperties.COOKIE_ID,m).setCustom(o.CustomProperties.NOBID_REASON,c).setCustom(o.CustomProperties.PROVIDER_COOKIE_ID,p).setCustom(o.CustomProperties.COOKIE_FLAG,I).setCustom(o.CustomProperties.PROVIDER_NAME,P(e.bidder_id)).setCustom(o.CustomProperties.ORIGINAL_CPM,e.no_bid!==!1?e.og_bid:0).setCustom(o.CustomProperties.LOAD_TIME,n)}function v(e,t){if(e.length!==t.length){var r,o,i,s={};for(r=0,o=e.length;o>r;r++)s[P(e[r].bidder_id)]=!0;for(o=t.length,r=0;o>r;r++)void 0===s[t[r]]&&(i=m(t[r]),e.push(i.noBid))}}function B(e,t){for(var r=0,o=e.length;o>r;r++)e[r].bidder_id===J&&(e[r].bidder_id=Z);v(e,t)}function M(e,r,i,s,n){t.clock.tock("rtbsDataLoadTime");for(var d=r===o.AuctionType.CACHE?n.rtbsBidA:n,a=t.clock.time("rtbsDataLoadTime"),u=0,c=e.length;c>u;u++){var C=e[u].params,m=C.mnet_id;if(d&&d.hasOwnProperty(m)){var P,p=d[m],I=p.bl||[];P=p.winReason||0,B(I,e[u].cbidders);for(var _=0,E=I.length;E>_;_++)i(N(I[_],C,r,a,P),C.code,E-_===1&&c-u===1,E-_===1)}else{var A=e[u].cbidders.length;t.each(e[u].cbidders,function(t){A-=1,e[u].params.hasOwnProperty(t)&&re.hasOwnProperty(t)&&i(N(re[t].config("noBid"),C,r,a,10),C.code,0===A&&c-u===1)})}}}function L(e,t){var r=[];for(var i in re)if(re.hasOwnProperty(i))for(var n=te[i].id,a=P(n),u=0,c=e.length;c>u;u++){var m=e[u].params,p=C.getCookieData(a),I="";m.hasOwnProperty(i)&&(t===o.AuctionType.HEADER_BID&&(I=s.getAuctionId(m.pageId,m.code)),r.push((new o).set(o.Properties.PLACEMENT_ID,m.code).set(o.Properties.BIDDER_NAME,W).set(o.Properties.SIZE,m.size||m[a].size).set(o.Properties.BIDDER_ID,n).set(o.Properties.CREATIVE_ID,m.mnet_id).setCustom(o.CustomProperties.PAGE_ID,m.pageId).setCustom(o.CustomProperties.AUCTION_ID,I).setCustom(o.CustomProperties.PROVIDER_NAME,a).setCustom(o.CustomProperties.COOKIE_ID,p).setCustom(o.CustomProperties.AUCTION_TYPE,t).setCustom(o.CustomProperties.PROVIDER_REQUEST_ID,s.getProviderRequestID(m.pageId,W,t))))}d.fetchRequests.addArray(r)}function w(e,t){for(var r=[],o=0,i=t.length;i>o;o++){var s="{{BID}}|{{SIZE}}|{{PBC}}|{{PC}}",n=t[o];for(var d in n)n.hasOwnProperty(d)&&(s=s.replace(new RegExp("{{"+d+"}}"),n[d]));r.push(s)}return e+"*"+r.join(",")}function y(i,n,d){if(t.isArray(i)&&0!==i.length){for(var a,u,C=[],m=[],P=[],p=0,I=i.length;I>p;p++){a||(a=i[p].params.pageURL),P.push(i[p].params.mnet_id);for(var _ in re)re.hasOwnProperty(_)&&i[p].params.hasOwnProperty(_)&&C.push({BID:re[_].config("id"),BSID:i[p].params.mnet_id,SIZE:i[p].params[_].size,PBC:i[p].params[_].cid||"",PC:i[p].params[_].epc||i[p].params.mnet_id});m.push(w(i[p].params.mnet_id,C)),C=[]}m=m.join("@");var E=s.getFromConfig("bjson",0),l=P.join(",");n===o.AuctionType.CACHE?u=D():n===o.AuctionType.HEADER_BID&&(u=T());var b=g()+"?"+(n===o.AuctionType.CACHE?"":"&rt=3&callback=window.advBidxc.rtbsresponse&")+(t.isStringSet(u)?t.buildUrlParameters({tmt:u}):"")+t.buildUrlParameters({cid:A(),requestString:t.encodeParam(m),crid:t.encodeParam(l),bl:1,https:s.needsHttpsSupport()?1:0,json:E,hlt:1,act:n,prvReqId:s.getProviderRequestID(r.getCurrentPage(),W,n),erTr:s.isErrorTrackEnabled()?1:0,requrl:t.encodeParam(a),tr:Math.random()});if(t.clock.tick("rtbsDataLoadTime"),c.log(b,"dataLoadUrl","rtbs"),n===o.AuctionType.CACHE)t.loadScriptInIframe(b,t.getProxy(M,[i,n,d]),"rtbs"+n);else{e.advBidxc.rtbsresponse=t.getProxy(M,[i,n,d,{}]);var f={};s.isErrorTrackEnabled()&&(f.crossOrigin=!0),t.loadScript(b,void 0,void 0,f)}}}function U(e){var t=e.bids;y(t,o.AuctionType.HEADER_BID,E),L(t,o.AuctionType.HEADER_BID)}function G(){return function(e,r,i,n){if(null!==e){var d=re[e.provider()];if(e.setCustom(o.CustomProperties.AUCTION_TYPE,o.AuctionType.CACHE),e.setCustom(o.CustomProperties.PROVIDER_REQUEST_ID,s.getProviderRequestID(e.getCustom(o.CustomProperties.PAGE_ID),e.name(),o.AuctionType.CACHE)),e.setCustom(o.CustomProperties.REFERRING_VISIT_ID,s.resolveMacros("%%VISIT_ID%%")),c.log(e,"prefetchBid"),d.addToCache(e),i)for(var a in re)re.hasOwnProperty(a)&&t.triggerEvent("pushToCache",a)}}}function F(e){c.event("RTBS PF"),y(e,o.AuctionType.CACHE,G()),L(e,o.AuctionType.CACHE),t.consoleLog("RTBS prefetch called")}function x(e){$!==!0&&($=!0,F(e))}function H(e,r){var o={};o.bidderCode=K,o.bids=[],t.each(r,function(e){Y[e]&&o.bids.push(Y[e])}),U(o)}function V(e){var r={};Q=[],t.each(e,function(e){t.each(e.cbidders,function(e){r[e]||(Q.push(e),r[e]=!0)})})}function X(e){return t.filter(e,function(e){return e.params.ng===!0?!1:0!==e.params.pf})}function k(e,r){var o=e.bids;V(o),K=e.bidderCode,$=!1;var i=X(o);!s.isHdHome()&&t.isArray(i)&&i.length>0&&t.addToEventQueue("prefetch","global",t.getProxy(x,[i]));var n,d={},a=!1;return n=t.map(o,function(e){return e.params.pageURL=s.getDomainForPrefetchFD(),Y[e.params.code]=e,e.params.code}),t.each(Q,function(e){re[e]=(new _).config(te[e]),u.registerAdapter(e,re[e])}),r?(t.addToEventQueue("getBidsFromApi","global",t.getProxy(U,[e])),t.each(re,function(e,t){d[t]=e.getValidBidsStatusPerPlacement(n)||{}}),d):(t.each(re,function(e,r){d[r]=e.getValidBidsStatusPerPlacement(n)||{},t.addToEventQueue("getBidsFromCache","global",t.getProxy(e.useBidsFromCache,[E,Y])),s.isHBDisabled(r)&&(a=!0,t.addToEventQueue("getBidsFromApi","global",t.getProxy(e.useBidsFromCache,[E,Y])))}),a||t.addToEventQueue("getBidsFromApi","global",H),d)}var Q,$,Y={},q=8,z=9,j=99,K="",Z="2",J="5",W="rtbsbidder",ee=s.getDefaultFloorPrice()||0,te={APPNEXUS:{name:"APPNEXUS",id:"2",bidderName:W,priceMacro:"%%pricepaid%%",defaultPrice:ee,noBid:{no_bid:!0,bidder_id:"2",og_bid:0,adcode:null,nbc:q}},CASALE:{name:"CASALE",id:"12",bidderName:W,priceMacro:"${AUCTION_PRICE}",defaultPrice:ee,noBid:{no_bid:!0,bidder_id:"12",og_bid:0,adcode:null,nbc:q}},PULSEPOINT:{name:"PULSEPOINT",id:"28",bidderName:W,providerAccountId:"ext_placement_code",priceMacro:"${AUCTION_PRICE}",defaultPrice:ee,noBid:{no_bid:!0,bidder_id:"28",og_bid:0,adcode:null,nbc:q}},CPXI:{name:"CPXI",id:"33",bidderName:W,providerAccountId:"ext_placement_code",priceMacro:"${AUCTION_PRICE}",defaultPrice:ee,noBid:{no_bid:!0,bidder_id:"33",og_bid:0,adcode:null,nbc:q}},SONOBI:{name:"SONOBI",id:"38",bidderName:W,providerAccountId:"ext_placement_code",priceMacro:"${AUCTION_PRICE}",defaultPrice:ee,noBid:{no_bid:!0,bidder_id:"38",og_bid:0,adcode:null,nbc:q}},BIDTELLECT:{name:"BIDTELLECT",id:"41",bidderName:W,priceMacro:"${AUCTION_PRICE}",defaultPrice:ee,noBid:{no_bid:!0,bidder_id:"41",og_bid:0,adcode:null,nbc:q}},OPENXS2S:{name:"OPENXS2S",id:"43",bidderName:W,priceMacro:"${AUCTION_PRICE}",providerAccountId:"ext_placement_code",defaultPrice:ee,noBid:{no_bid:!0,bidder_id:"43",og_bid:0,adcode:null,nbc:q}},DISTRICTM_DIRECT:{name:"DISTRICTM_DIRECT",id:"51",bidderName:W,providerShare:10,priceMacro:"${AUCTION_PRICE}",providerAccountId:"ext_placement_code",defaultPrice:ee,noBid:{no_bid:!0,bidder_id:"51",og_bid:0,adcode:null,nbc:q}},DISTRICTM_MNET:{name:"DISTRICTM_MNET",id:"52",bidderName:W,providerShare:15,priceMacro:"${AUCTION_PRICE}",providerAccountId:"ext_placement_code",defaultPrice:ee,noBid:{no_bid:!0,bidder_id:"52",og_bid:0,adcode:null,nbc:q}},ADREADY:{name:"ADREADY",id:"53",bidderName:W,priceMacro:"${AUCTION_PRICE}",providerAccountId:"ext_placement_code",dsSh:12,defaultPrice:ee,noBid:{no_bid:!0,bidder_id:"53",og_bid:0,adcode:null,nbc:q}},OPENXS2S_MNET:{name:"OPENXS2S_MNET",id:"55",bidderName:W,priceMacro:"${AUCTION_PRICE}",providerAccountId:"ext_placement_code",defaultPrice:ee,noBid:{no_bid:!0,bidder_id:"55",og_bid:0,adcode:null,nbc:q}}},re={};return t.inherits(I,a),t.inherits(_,a),{getBidsStatus:k}});_mNDefine("appnexusprivatebidder-adapter",["util","config","entitymanager","logmanager","bidmanager","thirdpartymanager","bid","mnetHbConsole","mnetcookiesyncmanager"],function(e,t,r,s,o,i,a,u,d){"use strict";function n(){return t.defaultBidderSetting.cid}function m(){return t.defaultBidderSetting.appnexusprivatebidder&&t.defaultBidderSetting.appnexusprivatebidder.sid?t.defaultBidderSetting.appnexusprivatebidder.sid:""}function p(s){var o="";return o+=["&b",s.get(a.Properties.BIDDER_ID),"b","=",s.getCustom(a.CustomProperties.ORIGINAL_CPM)].join(""),(t.log.tpUrl+e.buildUrlParameters({url:"%%PUBLISHER%%",domain:"%%PUBLISHER_HOST%%",apid:2,size:s.get(a.Properties.SIZE),at:s.getCustom(a.CustomProperties.AUCTION_TYPE),auction_id:s.getCustom(a.CustomProperties.AUCTION_ID),ip:r.getUserIP(),crid:s.get(a.Properties.CREATIVE_ID),cid:"%%CID%%",dt:"%%DEVICE_TYPE%%",bc:s.getCustom(a.CustomProperties.ORIGINAL_CPM),cc:r.getCountryCode(),ext_user_id:s.getCustom(a.CustomProperties.EXTERNAL_UID),bname:"<cm_win_macro>"})+o).replace("<cm_win_macro>",e.buildUrlParameters({cmw:s.get(a.Properties.BIDDER_ID)}))}function C(){return t.defaultBidderSetting.appnexusprivatebidder.bidApiUrl}function E(){return t.defaultBidderSetting.appnexusprivatebidder.hbTimeout}function P(e){return e.no_bid===!1&&e.og_bid&&e.adcode}function I(t,r){e.isArray(r.SIZE)&&(r.SIZE=r.SIZE.join("~"));var s="{{BID}}|{{SIZE}}|{{PBC}}|{{PC}}";for(var o in r)r.hasOwnProperty(o)&&(s=s.replace(new RegExp("{{"+o+"}}"),r[o]));return t+"*"+s}function _(s,o,i){var u=d.getCookieData(U.name),n=s.bidderInfoBean||{},m=f,p=s.uid||"",C="0";if(e.isSet(s.nbc)&&(m=s.nbc),e.isSet(p)&&(C="1"),P(s)){var E=e.decimalLimit(s.og_bid),I=e.isSet(s.dealid),_={mnet_aat:s.at||(I?"P":"O"),mnet_abd:E,mnet_apc:s.ext_placement_code,mnet_asz:s.size,mnet_alt:i},D=n.category||"";return e.isSet(D)&&e.isArray(D)&&(D=D.join("|")),r.isTestModeForApnnexusPrivate()&&(_.mnetATest=1),I&&(_.mnet_adi=s.dealid),_[t.bidderExTargetParams.PLACEMENT_ID]=o.code,_[t.bidderExTargetParams.DFP_SIZE]=s.size,_[t.bidderExTargetParams.CUSTOMER_ID]=o.cid,_[t.bidderExTargetParams.CREATIVE_ID]=o.mnet_id,(new a).status(a.Status.SUCCESS).set(a.Properties.BIDDER_ID,s.bidder_id).set(a.Properties.BIDDER_NAME,O).set(a.Properties.ADCODE,s.adcode.replace(U.priceMacro,E)).set(a.Properties.SIZE,s.size).set(a.Properties.CPM,E).set(a.Properties.CUSTOMER_BID_PRICE,E).set(a.Properties.PLACEMENT_ID,o.code).set(a.Properties.CREATIVE_ID,o.mnet_id).set(a.Properties.THIRD_PARTY_TARGETS,_).setCustom(a.CustomProperties.PAGE_ID,o.pageId).setCustom(a.CustomProperties.DFP_SIZE,s.size).setCustom(a.CustomProperties.COOKIE_ID,u).setCustom(a.CustomProperties.PROVIDER_COOKIE_ID,p).setCustom(a.CustomProperties.COOKIE_FLAG,C).setCustom(a.CustomProperties.PROVIDER_NAME,U.name).setCustom(a.CustomProperties.EXTERNAL_UID,s.uid).setCustom(a.CustomProperties.AUCTION_ID,r.getAuctionId(o.pageId,o.code)).setCustom(a.CustomProperties.ORIGINAL_CPM,E).setCustom(a.CustomProperties.NOBID_REASON,m).setCustom(a.CustomProperties.EXTERNAL_BIDDER_TYPE,S).setCustom(a.CustomProperties.RESPONSE_TIME,n.responseTime||"").setCustom(a.CustomProperties.DATA_CENTER,n.dataCenter||"").setCustom(a.CustomProperties.BIDDER_INFO_BIDDER_ID,n.providerBidderId||"").setCustom(a.CustomProperties.CATEGORY,D||"").setCustom(a.CustomProperties.TIMESTAMP,e.getCurrentTime()).setCustom(a.CustomProperties.DEAL_ID,_.mnet_adi||"").setCustom(a.CustomProperties.DEAL_TYPE,_.mnet_aat).setCustom(a.CustomProperties.EXTERNAL_PLACEMENT_CODE,_.mnet_apc).setCustom(a.CustomProperties.LOAD_TIME,i).setCustom(a.CustomProperties.ADVERTISER_ID,n.brandId||"").setCustom(a.CustomProperties.ADVERTISER_URL,n.landingPageUrl||b).setCustom(a.CustomProperties.ADVERTISER_NAME,n.advBrandName||"")}return(new a).status(a.Status.NOBID).set(a.Properties.BIDDER_ID,s.bidder_id).set(a.Properties.BIDDER_NAME,O).set(a.Properties.ADCODE,"NONE").set(a.Properties.SIZE,s.size).set(a.Properties.CPM,"0").set(a.Properties.CUSTOMER_BID_PRICE,"0").set(a.Properties.PLACEMENT_ID,o.code).set(a.Properties.CREATIVE_ID,o.mnet_id).set(a.Properties.THIRD_PARTY_TARGETS,{}).setCustom(a.CustomProperties.DATA_CENTER,n.dataCenter||"").setCustom(a.CustomProperties.PROVIDER_NAME,U.name).setCustom(a.CustomProperties.COOKIE_ID,u).setCustom(a.CustomProperties.PROVIDER_COOKIE_ID,p).setCustom(a.CustomProperties.COOKIE_FLAG,C).setCustom(a.CustomProperties.PAGE_ID,o.pageId).setCustom(a.CustomProperties.NOBID_REASON,m).setCustom(a.CustomProperties.AUCTION_ID,r.getAuctionId(o.pageId,o.code)).setCustom(a.CustomProperties.ORIGINAL_CPM,0).setCustom(a.CustomProperties.DEAL_ID,"").setCustom(a.CustomProperties.DEAL_TYPE,"").setCustom(a.CustomProperties.EXTERNAL_PLACEMENT_CODE,"").setCustom(a.CustomProperties.LOAD_TIME,i)}function D(t,r){e.clock.tock("apppnexusprivateDataLoad");for(var s=window.rtbsBidA,o=e.clock.time("apppnexusprivateDataLoad"),i=0,a=t.length;a>i;i++){var u=t[i].params,d=u.mnet_id;if(s&&s.hasOwnProperty(d))for(var n=s[d],m=n.bl||[],p=0,C=m.length;C>p;p++)r(_(m[p],u,o),u.code,a-i===1,C-p===1);else e.each(u.csizes,function(e,t,s){U.noBid.size=e,r(_(U.noBid,u,o),u.code,a-i===1,s-t===1)})}}function c(e){e.status(e.status()===a.Status.SUCCESS?a.Status.RESPONSE_AFTER_AUCTION:a.Status.NOBID_AFTER_AUCTION),M.push(e),h.push(e)}function A(t,i,d,n){var m=t.getCustom(a.CustomProperties.PAGE_ID);u.event("Bid rcv for '"+i+"' from "+t.provider()),t.setCustom(a.CustomProperties.AUCTION_TYPE,a.AuctionType.HEADER_BID),t.setCustom(a.CustomProperties.PROVIDER_REQUEST_ID,r.getProviderRequestID(m,O,a.AuctionType.HEADER_BID)),L.push(t),n&&(o.addBidResponse(i,m,L.sort(function(t,r){return e.decimalLimit(r.get(a.Properties.CPM))-e.decimalLimit(t.get(a.Properties.CPM))})[0]),L=[]),u.log(t,"bid",t.provider(),i),o.isAuctionClosedForAdUnitCode(i,m)?c(t):(N.push(t),B.push(t)),d&&(s.hbRequests.addArray(B),s.hbRequests.addArray(h),B=[],h=[])}function R(t,o){for(var i=[],u=0,n=t.length;n>u;u++){var m=t[u].params,p=d.getCookieData(U.name),C="";o===a.AuctionType.HEADER_BID&&(C=r.getAuctionId(m.pageId,m.code)),e.isArray(m.csizes)||(m.csizes=[m.csizes]),e.each(m.csizes,function(e){i.push((new a).set(a.Properties.PLACEMENT_ID,m.code).set(a.Properties.BIDDER_NAME,O).set(a.Properties.BIDDER_ID,U.id).set(a.Properties.CREATIVE_ID,m.mnet_id).setCustom(a.CustomProperties.PAGE_ID,m.pageId).setCustom(a.CustomProperties.AUCTION_ID,C).setCustom(a.CustomProperties.COOKIE_ID,p).setCustom(a.CustomProperties.PROVIDER_NAME,U.name).set(a.Properties.SIZE,e).setCustom(a.CustomProperties.AUCTION_TYPE,o).setCustom(a.CustomProperties.PROVIDER_REQUEST_ID,r.getProviderRequestID(m.pageId,O,o)))})}s.fetchRequests.addArray(i)}function T(t){for(var s,i,d,p,P,_=[],c=[],T=0,g=t.length;g>T;T++){i||(i=r.getPublisherUrlFD()),c.push(t[T].params.mnet_id);try{var l=window._mNRequire(["customutil"])[0];e.isSet(l)&&e.isFunction(l.getSlotId)&&(d=l.getSlotId(t[T].params.size))}catch(S){}s={BID:U.id,SIZE:t[T].params.csizes,PBC:t[T].params.epbc,PC:d||t[T].params.epc},_.push(I(t[T].params.mnet_id,s))}_=_.join("@"),p=E(),P=m();var b=c.join(","),N=C()+"?"+(e.isStringSet(p)?e.buildUrlParameters({tmt:p}):"")+(e.isStringSet(P)?e.buildUrlParameters({sid:P}):"")+e.buildUrlParameters({cid:n(),requestString:e.encodeParam(_),crid:e.encodeParam(b),requrl:e.encodeParam(i),bl:1,act:a.AuctionType.HEADER_BID,prvReqId:r.getProviderRequestID(o.getCurrentPage(),O,a.AuctionType.HEADER_BID),https:r.needsHttpsSupport()?1:0,hlt:1,tr:Math.random()});e.clock.tick("apppnexusprivateDataLoad"),u.log(N,"dataLoadUrl","appnexusprivate"),e.loadScript(N,e.getProxy(D,[t,A])),R(t,a.AuctionType.HEADER_BID)}function g(t){var r=t.bids;return e.addToEventQueue("getThirdPartyBiddersFromApi","global",e.getProxy(T,[r])),null}function l(t,s,o,d,n){var m,C,E;if(C=i.getBidForPlacementIdAndBidder(o,n,s)){m=C.get(a.Properties.ADCODE);try{if(m)return u.event("Ad rendered for "+C.get(a.Properties.PLACEMENT_ID)),!r.isSandboxEnabled()||e.isDocumentWritable?(t.document.open(),t.document.write(m),t.document.close()):(t.hbContent="<!DOCTYPE html><html><head></head><body>"+m+"</body></html>",t.location.replace('javascript:window["hbContent"];')),E=r.resolveMacros(p(C)),e.logBeacons(E),!0}catch(P){return!1}}return!1}var S="appnexusprivatebidder",O="appnexusprivatebidder",b="adnxs.com",N=[],B=[],v=3,f=99,h=[],M=[],U={name:"APPNEXUS_PRIVATE",id:"23",priceMacro:"${AUCTION_PRICE}",noBid:{no_bid:!0,bidder_id:"23",og_bid:0,adcode:null,nbc:v}},L=[];return{getBidsStatus:g,renderExternal:l}});_mNDefine("testbidder-adapter",[window,"util","bidmanager","bid","entitymanager","bidder","mnetHbConsole","logmanager"],function(e,t,s,o,r,i,n,a){"use strict";function d(e,i,a){if(null!==e){n.event("Bid rcv for '"+i+"' from "+e.provider());var d=e.getCustom(o.CustomProperties.PAGE_ID);t.addToEventQueue("auctionEnd",i,t.getProxy(I.handlePostAuctionClose,[],I)),t.addToEventQueue("secondWinner",i,t.getProxy(I.handlePostAuctionClose,[],I)),e.setCustom(o.CustomProperties.AUCTION_ID,r.getAuctionId(d,i)),e.setCustom(o.CustomProperties.AUCTION_TYPE,o.AuctionType.HEADER_BID),e.setCustom(o.CustomProperties.PROVIDER_REQUEST_ID,r.getProviderRequestID(e.provider(),o.AuctionType.HEADER_BID)),s.isAuctionClosedForAdUnitCode(i,d)?(e.status(e.status()===o.Status.SUCCESS?o.Status.RESPONSE_AFTER_AUCTION:o.Status.NOBID_AFTER_AUCTION),I.addLateResponse(e)):(s.addBidResponse(i,d,e),I.addForwardedResponse(e)),n.log(e,"bid",e.provider(),i),a&&t.triggerEvent("endOfResponse",e.provider(),!0)}}function u(e){var t=e.split("x");return'<!DOCTYPE html><html><head></head><body><style type="text/css">body { text-size-adjust:none; -webkit-text-size-adjust: none; }*{margin:0;padding:0}a{text-decoration:none;outline:none}a:hover{cursor:pointer; text-indent: 0}img{border:none}ul li{list-style:none}.clearfix:after{visibility: hidden;display:block;font-size: 0;content: " ";clear: both;height:0}* html .clearfix{zoom:1} *:first-child+html .clearfix{zoom:1} h1, h2, h3, h4, h5, h6 {font-weight: normal}body{background:#f4f4f4}h3{ font-family: arial; color: #000; font-size: 35px; text-align: center; height: '+t[1]+"px; line-height: "+t[1]+"px;}</style><h3>Media.net Creative</h3></body></html>"}function m(e,s){for(var i=0,n=e.length;n>i;i++){var a=e[i].params.cpm||"5.00";a=t.decimalLimit(a),s((new o).status(o.Status.SUCCESS).set(o.Properties.BIDDER_ID,I.config("id")).set(o.Properties.BIDDER_NAME,D).set(o.Properties.ADCODE,u(e[i].params.size)).set(o.Properties.SIZE,e[i].params.size).set(o.Properties.CPM,a).set(o.Properties.DFP_BID,a).set(o.Properties.CUSTOMER_BID_PRICE,"0").set(o.Properties.PLACEMENT_ID,e[i].params.code).set(o.Properties.CREATIVE_ID,e[i].params.mnet_id).setCustom(o.CustomProperties.PAGE_ID,e[i].params.pageId).setCustom(o.CustomProperties.DFP_SIZE,e[i].params.sizes[0].join("x")).setCustom(o.CustomProperties.PROVIDER_NAME,I.config("name")).setCustom(o.CustomProperties.ORIGINAL_CPM,a).setCustom(o.CustomProperties.FIRST_ADJUSTMENT,0).setCustom(o.CustomProperties.SECOND_ADJUSTMENT,0).setCustom(o.CustomProperties.LOGGING_PIXELS,[]).setCustom(o.CustomProperties.PROVIDER_REQUEST_ID,r.getProviderRequestID(e[i].params.pageId,D,o.AuctionType.HEADER_BID)).setCustom(o.CustomProperties.TIMESTAMP,t.getCurrentTime()).setCustom(o.CustomProperties.LOAD_TIME,0),e[i].params.code,n-i===1)}}function p(e){for(var t=[],s=0,i=e.length;i>s;s++){var n=e[s].params,d=r.getAuctionId(n.pageId,n.code);t.push((new o).set(o.Properties.PLACEMENT_ID,n.code).set(o.Properties.BIDDER_NAME,D).set(o.Properties.BIDDER_ID,l).set(o.Properties.size,n.size).set(o.Properties.CREATIVE_ID,n.mnet_id).setCustom(o.CustomProperties.PAGE_ID,n.pageId).setCustom(o.CustomProperties.AUCTION_ID,d).setCustom(o.CustomProperties.PROVIDER_NAME,c).setCustom(o.CustomProperties.AUCTION_TYPE,o.AuctionType.HEADER_BID).setCustom(o.CustomProperties.PROVIDER_REQUEST_ID,r.getProviderRequestID(n.pageId,D,o.AuctionType.HEADER_BID)))}a.fetchRequests.addArray(t)}function C(e){var t=e.bids;p(t),m(t,d)}function E(e,s){var o={};o.bidderCode=_,o.bids=[],t.each(e,function(e){A[e]&&o.bids.push(A[e])}),C(o)}function P(e){var s=e.bids,o=[];if(0!==s.length)return I=(new i).config(g),_=e.bidderCode,t.each(s,function(e){var t=e.params.code;o.push(t),A[t]=e}),t.addToEventQueue("getDefaultBiddersFromApi","global",t.getProxy(E,[o])),null}var I,D="testbidder",c="testbidder",l="99",_="",A={},g={name:c,id:l,bidderName:D};return{getBidsStatus:P}});_mNDefine("customutil",["util","entitymanager","config","cookieutil"],function(e,t,i,r){"use strict";function n(t){for(var r=i.bidder,n=!1,o=0,s=r.length;s>o;o++)e.isSet(r[o].slotsLike)&&new RegExp(r[o].slotsLike).test(t)===!0&&(n=!0);if(!n)return"0";var a=t.split("-");return a.length<2?"0":(a=a.slice(-2),isNaN(parseInt(a[0]))?isNaN(parseInt(a[1]))?"0":a[1].toString():a[0].toString())}function o(e){var t,i,r,o,s,a=0;try{t=window._mNRequire(["dfpmanager"])[0]}catch(l){return}for(i=t.getAllDFPSlotsInfo(),r=i.length-1,o=0;r>=o;r--)s=parseInt(n(i[r].elementId),10),s>a&&(a=s);return a+=1,e>=a?e:a}function s(e){return""}function a(){return/.*forbes\/welcome.*/i.test(t.getPublisherUrl())}function l(){return!1}function c(i){var r=t.getPublisherUrl().toLowerCase(),n=/.\/*search\/.*/;if("search-header-leaderboard"==i&&n.test(r)){var o=e.queryDOM(".search-layout"),s=e.queryDOM(".search-header");if(o&&s&&o[0]&&s[0]){var a=s[0].clientHeight||s[0].innerHeight;o[0].style.marginTop=a+"px"}}}function u(){e.isStringSet(r.getCookie("dailyWelcomeCookie"))||r.setCookie("dailyWelcomeCookie","true",1,"/",".forbes.com"),e.isStringSet(r.getCookie("welcomeAd"))||r.setCookie("welcomeAd","true",null,"/",".forbes.com")}function d(){r.setCookie(m,"1",1,"/",".forbes.com")}function f(){if(l()&&(d(),u(),a())){var t,i=e.queryDOM("#navigation");i&&(t=i.getElementsByTagName("a"),t.length>0&&e.eventLib.addEvent(t[0],"click",u)),e.isStringSet(window.medianet_requrl)&&(window.location.href=window.medianet_requrl)}}function g(t,i,r,n){return e.isSet(i.slotsLike)&&new RegExp(i.slotsLike).test(n)===!0?!0:e.isSet(i.dfpDivIds)&&e.checkItemExists(i.dfpDivIds,n+",")?!0:i.ng!==!0&&e.isSet(i.custTargs)&&t(r,i.custTargs)?!0:!1}var m="mnetabp";return{parseSlotID:n,updatePageNo:o,setData:s,executeAntiAdBlockCustomCode:f,isAntiAdBlockEnabled:l,execAfterSlotRender:c,isValidSlotCodeCheckByBidder:g}});_mNDefine("adaptermanager",["util","config","_mNRP","bid","mnetHbConsole","storagemanager","bidmanager","thirdpartymanager","entitymanager","abtestmanager"],function(e,t,r,o,i,n,a,s,d,l){"use strict";function m(e){var t;if(D[e])return D[e];try{t=window._mNRequire([e+"-adapter"])[0],D[e]=t}catch(r){return null}return t}function c(t,r){e.isStringSet(t)&&"object"==typeof r&&(D[t]=r)}function u(o,i){var n,s=t&&t.cbInfo&&t.cbInfo.cacheDisabled||!1,l=t&&t.hbInfo&&t.hbInfo.hbDisabled||i||!1,c={},u=[],p=[],g=!1,E=!1;i&&(g=!0),d.isHdHome()&&(s=!0,l=!0,g=!0,E=!0),e.each(o,function(t){var o;n=m(t.bidderCode),n&&e.isFunction(n.getBidsStatus)&&(o=r.execSafe(n.getBidsStatus,t,s)),e.isSet(o)&&e.each(o,function(t,r){e.each(t,function(e,t){c[t]=c[t]||e})})}),g||e.triggerEvent("getThirdPartyBiddersFromApi","global"),E||e.triggerEvent("getDefaultBiddersFromApi","global"),e.each(c,function(e,t){return s||!e&&!l?void(l||u.push(t)):p.push(t)}),!s&&p.length>0&&e.triggerEvent("getBidsFromCache","global",!1,p),!l&&u.length>0?e.triggerEvent("getBidsFromApi","global",!1,u):a.shutDown(),e.triggerEventWithBeforeAfter("apiCallsSent","global")}function p(){var e="<!DOCTYPE html><html><head></head><body><div></div></body></html>";return e}function g(e){var t=p();try{e.document.open(),e.document.write(t),e.document.close()}catch(r){}}function E(t,r){var n;if(r){n=r.get(o.Properties.ADCODE);try{if(n)return i.event("Ad rendered for "+r.get(o.Properties.PLACEMENT_ID)),!d.isSandboxEnabled()||e.isDocumentWritable?d.isAmpRequest()&&!window.advBidxc.isCalledFromAMP?(window.advBidxc.isCalledFromAMP=!1,t.document.write(n)):(t.document.open(),t.document.write(n),t.document.close()):(t.hbContent="<!DOCTYPE html><html><head></head><body>"+n+"</body></html>",t.location.replace('javascript:window["hbContent"];')),!0}catch(a){return!1}}return!1}function f(e){var t=e.provider(),r=m(t);return null!==r?r:m(e.name())}function h(e,t,r){var o,i,n;o=window._mNRequire(["dfpmanager"])[0],o.clearTargeting(e,t),r||(i=o.findSlot(e,!1),n=window._mNRequire(["gptmanager"])[0],n.refreshAd(i))}function b(t,n,l,c,u){try{u=e.isSet(u)?u:"0","facebookbidder"===n&&null===m(n)&&(n="facebookv2bidder");var p,g,f=!1,A=s.getBidForPlacementIdAndBidder(l,u,n);if(void 0===A)return void r.pushError({message:"bidderName - "+n+", placementId - "+l+", pageId - "+u+", customParams = "+c,name:"NO_WINNING_BID_ERROR"});if(d.isAdxPostBidToBeDoneForExternalProvider(l,n)){if(e.isSet(A.get(o.Properties.SIZE))){var D=d.getRequireModule("mnetadxcontroller");return D.postBid(t,A,b,Array.prototype.slice.call(arguments)),void d.setTestDataForPlacement(l,"thirdParty=1")}r.pushError({message:"placementId - "+l+", pageId - "+u+"bidderID - "+A.get(o.Properties.BIDDER_ID)+"cpm"+A.get(o.Properties.CPM),name:"EXTERNAL_WINNING_BID_NOT_VALID_ERROR"})}if(A.setCustom(o.CustomProperties.RENDER_TRY_STATUS,!0),i.log(A,"finalWinner"),d.isSandboxEnabled()&&"facebookbidder"!==A.get(o.Properties.BIDDER_NAME)&&"facebookv2bidder"!==A.get(o.Properties.BIDDER_NAME)&&(t.frameElement.sandbox="allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock allow-popups-to-escape-sandbox"),p=m(n),f=p&&p.renderExternal?p.renderExternal.apply(null,Array.prototype.slice.call(arguments)):E(t,A),A){"amazonbidder"===A.name()&&(A.set(o.Properties.CPM,c),A.set(o.Properties.CUSTOMER_BID_PRICE,c));try{var P=t.frameElement.height||0,v=t.frameElement.width||0;A.set(o.Properties.SIZE,v+"x"+P)}catch(C){}try{g=window._mNRequire(["customutil"])[0],e.isSet(g)&&e.isFunction(g.setData)&&A.setCustom(o.CustomProperties.TEST_DATA,g.setData(t))}catch(C){}}e.isSet(A)&&e.isFunction(A.provider)&&"AMAZON"!==A.provider()&&e.triggerEvent("afterRenderExternal",l,{winningBid:A,secondBid:a.getWinningBidByCode(l,u)});try{h(A.get(o.Properties.PLACEMENT_ID),u,!0)}catch(C){}}catch(T){r.pushError(T)}}function A(t,i,a,s){e.consoleLog(i);var m,c,u=i.name(),p=i.provider(),g=i.get(o.Properties.PLACEMENT_ID),b=i.getCustom(o.CustomProperties.PROVIDER_REQUEST_ID),A=!1;i.getCustom(o.CustomProperties.BID_LOG_STATUS)===!0&&r.pushError({message:["provider: ",i.provider()," name: ",i.name()," code: ",g].join(""),name:"LogError"}),e.consoleLog(u),e.consoleLog(i.id()),e.consoleLog(i.get(o.Properties.PLACEMENT_ID));var D;if(u){i.setCustom(o.CustomProperties.RENDER_TRY_STATUS,!0),m=f(i),d.isSandboxEnabled()&&(t.frameElement.sandbox="allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock allow-popups-to-escape-sandbox"),A=e.isSet(m)&&e.isFunction(m.renderAd)?m.renderAd(t,i):r.execSafe(E,t,i),"boolean"==typeof A&&i.setCustom(o.CustomProperties.RENDER_STATUS,A);try{c=window._mNRequire(["customutil"])[0],e.isSet(c)&&e.isFunction(c.setData)&&(D=i.getCustom(o.CustomProperties.TEST_DATA)||"",i.setCustom(o.CustomProperties.TEST_DATA,D+"|"+c.setData(t)))}catch(P){}try{var v=t.frameElement.height||0,C=t.frameElement.width||0;i.set(o.Properties.SIZE,C+"x"+v)}catch(P){}e.isSet(s)&&e.isSet(s.td)&&(D=i.getCustom(o.CustomProperties.TEST_DATA)||"",i.setCustom(o.CustomProperties.TEST_DATA,D+"|"+s.td)),"videoadsbidder"!==i.get(o.Properties.BIDDER_NAME)&&e.triggerEvent("afterRender",g,i);try{h(g,a,!1)}catch(P){}l.isABTestEnabled("BID_NOT_WON")&&n.removeWonBid(p,g,b,d.getHeaderBiddingUrl(u))}}var D={};return{renderAd:A,registerAdapter:c,renderExternal:b,getBidsRevamped:u,renderEmptyAd:g,getAdapterFromCode:m}});_mNDefine("storagemanager",["util","config","_mNRP","bid","entitymanager","logmanager"],function(e,r,t,n,i,o){"use strict";function a(e,r,t,i){var o,a;for(e[j]=L,e[r]=e[r]||{},e[r][t]=e[r][t]||[],o=e[r][t],a=0;a<o.length;a++)for(var u in o[a])if(o[a].hasOwnProperty(u)&&o[a][u][n.CustomProperties.REFERRING_VISIT_ID]===i)return o[a];var s={};return o.push(s),s}function u(r,t){var i,o=n.CustomProperties.TIMESTAMP;for(var a in t)if(t.hasOwnProperty(a)){var u=t[a].serialize(),s=u[n.Properties.PLACEMENT_ID];e.isStringSet(s)&&(r[s]=u,i=u[o])}r[o]=e.getCurrentTime()}function s(e,r,t){var i;for(var o in r)if(r.hasOwnProperty(o)){i=r[o].getCustom(n.CustomProperties.REFERRING_VISIT_ID);break}var s=a(x,e,t,i);u(s,r)}function f(r,t){var i={};x=N()||{},S(r),e.each(t,function(r){if(e.isSet(r.get(n.Properties.CPM))&&parseFloat(r.get(n.Properties.CPM))>0){var t=r.getCustom(n.CustomProperties.PROVIDER_NAME);if(!e.isStringSet(t))return;i[t]=i[t]||[],i[t].push(r)}}),e.each(i,function(e,t){s(r,e,t)}),h(x)}function c(e){return k&&void 0!==J&&J.getItem(e)}function p(e){return k&&void 0!==J&&J.removeItem(e)}function v(e,r){return k&&void 0!==J&&J.setItem(e,r)}function P(){try{z=z||window._mNRequire(["lzstring"])[0],V=V||window._mNRequire(["abtestmanager"])[0]}catch(r){}return e.isSet(V)&&V.isABTestEnabled("LZ_COMPRESS")&&e.isSet(z)}function l(){return e.isSet(c(G))}function d(){if(l()){if(P())return z.decompressFromUTF16(c(G));setTimeout(e.getProxy(p,[G]),0)}return c(q)}function g(){var e=d();try{var r=JSON.parse(e);return r}catch(t){h({})}return{}}function S(e){U=e}function m(){q=G}function h(e){var r=JSON.stringify(e);P()&&(m(),r=z.compressToUTF16(r)),t.execSafe(v,q,r)}function I(e){return e&&e.get(n.Properties.STATUS)===n.Status.SUCCESS&&e.get(n.Properties.CPM)?!0:!1}function C(e){return e===j}function w(){var e=i.getDeviceType();return 2===e||3===e?r.cbInfo.bidCapM||3:r.cbInfo.bidCap||5}function M(r,t){var a=r[t],u={},s=w();if(a&&e.isArray(a)&&a.length>0){e.each(a,function(r,t){e.each(r,function(e,a){if("ts"!==a){if(i.isTimeStampExpired(e[n.CustomProperties.TIMESTAMP],e[n.CustomProperties.PROVIDER_NAME])){var s=(new n).deserialize(e);return I(s)&&o.expiredBids.addNew(s),void delete r[a]}u[a]=u[a]||[],u[a].push([t,e])}})}),e.each(u,function(r,t){var i=r.sort(function(e,r){var t=parseFloat(e[1][n.Properties.CPM]),i=parseFloat(r[1][n.Properties.CPM]);return t===i?r[1][n.CustomProperties.TIMESTAMP]-e[1][n.CustomProperties.TIMESTAMP]:i-t}).splice(s);0!==i.length&&e.each(i,function(e,r){delete a[e[0]][t]})});for(var f=0;f<a.length;)y(a[f])?a.splice(f,1):f++;0===a.length&&delete r[t]}else delete r[t]}function T(r,t){var n=!0,i=r[t];for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];a&&e.isArray(a)&&a.length>0&&(n=!1)}n&&delete r[t]}function E(){var e=N();if(e){for(var r in e)if(!C(r)&&e.hasOwnProperty(r)){var t=e[r];for(var n in t)t.hasOwnProperty(n)&&M(t,n);T(e,r)}h(e)}}function y(e){for(var r in e)if(e.hasOwnProperty(r)&&"ts"!==r)return!1;return!0}function R(e,r,t){return e&&e[r]&&e[r][t]&&e[r][t].length>0}function _(r){var t,n,o=N();return e.isEmptyObject(o)?!1:(n=i.getPrefetchUrl(),t=e.any(o[n],function(t,n){var i;return e.isArray(t)&&t.length>0&&(i=e.any(t,function(e){return r in e?!0:void 0}),i===!0)?!0:void 0}))}function O(r,t,a){if(!B())return null;E();var u=N();if(R(u,r,t)){var s={},f=[],c=!1,p={},v={};return e.each(u[r][t],function(r,u){var s=r[n.CustomProperties.TIMESTAMP]||0;return i.isTimeStampExpired(s,t)?void e.each(r,function(e){var r=(new n).deserialize(e);I(r)&&o.expiredBids.addNew(r)}):void e.each(a,function(t){var i;t in r&&(i=(new n).deserialize(r[t])),I(i)&&i.get(n.Properties.CPM)>0&&(!e.isSet(p[t])||i.get(n.Properties.CPM)>p[t].get(n.Properties.CPM))&&(p[t]=i,v[t]=u)})}),e.each(a,function(n){if(e.isSet(p[n])){var i=v[n];c=!0,delete u[r][t][i][n],s[n]=p[n],y(u[r][t][i])&&f.unshift(i)}}),f.sort(function(e,r){return r-e}),e.each(f,function(e){u[r][t].splice(e,1)}),h(u),s||null}}function A(r,t,i,o){if(B()){var a=N();R(a,o,r)&&(e.each(a[o][r],function(e,r){e[t]&&e[t][n.CustomProperties.PROVIDER_REQUEST_ID]===i&&delete e[t]}),h(a))}}function N(){var e=g();return e}function D(){var e="mntest";try{if("localStorage"in window&&null!==window.localStorage)return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(r){return!1}return!1}function B(){return t.execSafe(D)===!0&&e.isJSONSupported()===!0}function b(e){return c(e)||""}function F(e,r){return k&&v(e,r)}var x,U,z,V,J,q="BIDS_MAP",G="COM_BIDS_MAP",L="1",j="v",k=B();return k&&(J=window.localStorage),{setPageUrl:S,setBid:h,isBidPresentForPlacement:_,getBid:N,getBids:O,getInfo:b,setInfo:F,removeWonBid:A,setInStorage:f,supportStorage:B}});_mNDefine("abtestmanager",["util","config","storagemanager","entitymanager"],function(n,t,e,r){"use strict";function a(t,e){n.isArray(t)||(t=[t]),e=e||"";var r=n.any(t,function(t){return"object"==typeof S[t]&&n.isSet(S[t])?S[t][e]||null:S[t]||null});return r||!1}function i(t){var r,a=I[t];n.isSet(a)&&(r=JSON.stringify({val:a,ts:(new Date).getTime()}),e.setInfo(g,r),f(t,a))}function o(){var t,r=e.getInfo(g);if(!n.isStringSet(r))return null;try{t=JSON.parse(r)}catch(a){return null}return n.isStringSet(t.val)&&n.isStringSet(t.ts)?t:null}function u(){var r,a,i=o();return null===i?!1:(a=parseInt(i.val,10),a===l?(new Date).getTime()-i.ts<v?(f("DISABLE_AB",a),!0):(e.setInfo(g,"{}"),!1):(r=n.any(I,function(n,t){return n===a?t:void 0}),n.isStringSet(r)?t.abInfo&&t.abInfo[r]&&t.abInfo[r].abTimeout&&(new Date).getTime()-i.ts<60*t.abInfo[r].abTimeout*1e3?(f(r,a),!0):(e.setInfo(g,"{}"),!1):!1))}function f(e,a){return r.enabledABTests(a),t.abInfo&&t.abInfo[e]&&t.abInfo[e].code&&!n.isEmptyObject(t.abInfo[e].code)?void(S[e]=t.abInfo[e].code):void(S[e]=!0)}function s(){var e,r,a=[],o=[],u=0;return n.each(I,function(e,r){if(t.abInfo&&t.abInfo[r]&&n.isStringSet(t.abInfo[r].abFreq)){var i=u+1/parseFloat(t.abInfo[r].abFreq);a.push(i),u=i,o.push(r)}}),0!==a.length?(e=Math.random(),r=n.any(a,function(n,t){return n>=e?t:void 0}),n.isSet(r)?void i(o[r]):void i("DISABLE_AB")):void 0}function c(){var t=n.getParamValueFromUrlAsArray(r.getPublisherUrl()),e=t.force_abtest;return n.isStringSet(e)&&e in I?(f(e,I[e]),!0):!1}function b(){n.each(I,function(n,t){S[t]=!1}),!e.supportStorage()||c()||u()||s()}var S={},l=0,I={DISABLE_AB:l,BID_NOT_WON:3,LZ_COMPRESS:4,DISABLE_DUPLICATE:8,STREAM:9,GPT_DELAY:10},g="abtest",v=864e5;return b(),{isABTestEnabled:a}});_mNDefine("mnetcookiesyncmanager",["config","util","entitymanager","storagemanager"],function(e,n,i,r){"use strict";function c(){r.setInfo(l.OPENX.cookieLsKey,(new Date).getTime()/1e3)}function t(){var e=r.getInfo(l.OPENX.cookieLsKey);return n.isSet(i.getVisitorId())&&n.isSet(e)?e:""}function o(){var e=r.getInfo(l.OPENX.cookieLsKey);return n.isSet(e)&&(new Date).getTime()/1e3-e<=l.OPENX.cookieExpiry}function s(){u(x.ox.iframeId,null,x.ox.iframeBody,c)}function y(e){if(e.length>0){var i=x.mnsync.iframeSrc+n.encodeParam(e.join(","))+"&rtime="+n.clock.diff();u(x.mnsync.iframeId,i,null)}}function d(e){return n.filter(e,function(e){return"OPENX"===e?!o():!i.isCookieSyncDisabled(e)&&l.hasOwnProperty(e)})}function a(){var i=[];return n.each(e.bidder,function(e){n.isArray(e.bids)&&0!==e.bids.length&&n.each(e.bids,function(e){var r=e.bidder;if(P.hasOwnProperty(r))if("rtbsbidder"===r||"rtbsdefaultbidder"===r){if(!n.isArray(e.cbidders)||0===e.cbidders.length)return;n.each(e.cbidders,function(e){l.hasOwnProperty(e)&&!n.checkItemExistsInArray(i,e)&&i.push(e)})}else n.checkItemExistsInArray(i,P[r])||i.push(P[r])})}),i}function p(){var e=a();return d(e)}function I(e){var i=[];if(0!==e.length){var r;n.each(e,function(e){switch(r=l[e].syncType){case"ox":s();break;case"mnsync":i.push(e)}}),y(i)}}function f(){var e=p();I(e)}function u(e,i,r,c){var t={};n.isStringSet(i)&&(t.src=i),n.createNonBlockingFrame(e,r,document.body,t,c)}function T(e){return l.hasOwnProperty(e)?"OPENX"===e?t():E(O,l[e].cookieIndex):""}function m(i,r){return 0===r?"1"===e._apnCk:!n.isSet(r)||n.isStringSet(i.split("|")[r])}function E(e,i){if(!n.isSet(i))return"";var r=m(e,i)?e.split("|")[i]:"";return n.isStringSet(r)?r.split("*")[0]:""}var P={openxbidder:"OPENX",rtbsbidder:"",rtbsdefaultbidder:"",rubiconprivatebidder:"RUBICON_PRIVATE",tripleliftprivatebidder:"TRIPLELIFT_PRIVATE",sonobiprivatebidder:"SONOBI",appnexusprivatebidder:"APPNEXUS"},O=e._dataCk,S=e.linfo.clper||0,k=e.hbInfo.fcsync||"0",x={ox:{iframeId:"_oX_cksync_0",iframeBody:i.resolveMacros('<!DOCTYPE html><html><head></head><body><script type="text/javascript">if (!window.OX_ads) { OX_ads = []; }OX_ads.push({ "auid" : "1234567" });<\/script><script type="text/javascript" src = "%%PROTOCOL%%://us-ads.openx.net/w/1.0/jstag"><\/script></body></html>')},mnsync:{iframeId:"_mN_cksync_0",iframeSrc:i.resolveMacros(["%%PROTOCOL%%","://contextual.media.net/checksync.php?","&cv=25","&cid=","%%CID%%","&vsSync=","1","&force=",k,"&%%HTTPS_FLAG%%","&vid=","%%VISIT_ID%%","&vsid=","%%VISITOR_ID%%","&sd=","%%SESSION_DEPTH%%","&cc=","%%COUNTRY_CODE%%","&ugd=","%%DEVICE_TYPE%%","&dn=","%%PUBLISHER_HOST%%","&lper=",S,"&prv="].join(""))}},l={OPENX:{syncType:"ox",cookieLsKey:"oxcsync",cookieExpiry:604800,cookieIndex:6,priority:6},APPNEXUS:{syncType:"mnsync",cookieIndex:0,priority:1},CASALE:{syncType:"mnsync",cookieIndex:2,priority:2},PULSEPOINT:{syncType:"mnsync",cookieIndex:4,priority:3},RUBICON_PRIVATE:{syncType:"mnsync",cookieIndex:3,priority:4},SONOBI:{syncType:"mnsync",cookieIndex:5,priority:5},SONOBI_PRIVATE:{syncType:"mnsync",cookieIndex:5,priority:5},CPXI:{syncType:"mnsync",cookieIndex:0,priority:1},DISTRICTM_DIRECT:{syncType:"mnsync",cookieIndex:0,priority:1},DISTRICTM_MNET:{syncType:"mnsync",cookieIndex:0,priority:1},APPNEXUS_PRIVATE:{syncType:"mnsync",cookieIndex:0,priority:1},ADREADY:{syncType:"mnsync",cookieIndex:0,priority:1},OPENXS2S:{syncType:"mnsync",cookieIndex:6,priority:6},OPENXS2S_MNET:{syncType:"mnsync",cookieIndex:6,priority:6},TRIPLELIFT_PRIVATE:{syncType:"mnsync",cookieIndex:7,priority:7}};return{initiateCookieSync:f,getCookieData:T}});_mNDefine("gptmanager",[window,"_mNRP","config","util","bidmanager","dfpmanager","abtestmanager","entitymanager","logmanager","storagemanager","bid"],function(e,t,n,o,i,r,a,g,d,s,l){"use strict";function u(){function e(){var e=n.abInfo.GPT_DELAY.lo,t=n.abInfo.GPT_DELAY.hi,i=n.abInfo.GPT_DELAY.incr,r=(t-e)/i;return e+o.getRandom(0,r)*i}a.isABTestEnabled("GPT_DELAY")&&(H=n.hbInfo.degpt=n.hbInfo.mdegpt=n.hbInfo.gdTime=n.hbInfo.deDp=n.hbInfo.mdeDp=e())}function c(e){e=e||1;var t=g.getDeviceType();return 1===e?2===t||3===t?n.hbInfo.mdeDp||n.hbInfo.deDp:n.hbInfo.deDp:2===t||3===t?n.hbInfo.mdegpt||n.hbInfo.degpt:n.hbInfo.degpt}function f(e){var t=n.bidder,i=e.getSlotElementId();return o.any(t,function(t){return t.ng===!0&&r.isValidSlotCodeCheckByBidder(t,e,i)?t:void 0})}function m(e){return 1===J[e]}function p(e){var t=n.bidder,i=e.getSlotElementId();return o.any(t,function(t){return r.isValidSlotCodeCheckByBidder(t,e,i)?t:void 0})}function v(e){var t=p(e);return t?t.code:""}function h(e){var t=f(e),n=e.getSlotElementId();return o.isSet(t)&&!o.isSet(Z[n])?t:null}function I(e){var t=[];if(o.isArray(e)&&e.length>0)return o.each(e,function(e){var n=h(e);null!==n&&t.push(n.code)}),t}function y(e,t){o.isArray(e)&&e.length>0&&o.each(e,function(e){Z[e]=t})}function S(e){o.isArray(K[e])&&K[e].length>0&&(t.execSafe(r.setTargetingForAdUnitsGPTAsync),X[e]=!0,o.each(K[e],function(e){e()}))}function b(t){return o.any(e.googletag.pubads().getSlots(),function(e){return e.getSlotElementId()===t?e:void 0})}function A(t){O=void 0,e.advBidxc.getBidsForSlots(Q[t])}function T(e){e?A(q):O=setTimeout(o.getProxy(A,[q]),j),setTimeout(o.getProxy(S,[q]),H)}function E(n,i,a){var g,d,s=[],l=!a&&te===!0;if(l?(g=e.googletag.pubads().getSlots(),g=o.filter(g,function(e){var t=e.getSlotElementId();return 1!==J[t]?(s.push(t),!0):void 0})):g=[b(i)],d=I(g),o.isArray(d)&&0===d.length)if(o.isSet(Z[i])&&X[Z[i]]===!1){var u=Z[i];K[u]=K[u]||[],K[u].push(n)}else t.execSafe(r.setTargetingForAdUnitsGPTAsync),n();else(l||void 0===O)&&(q++,X[q]=!1),K[q]=K[q]||[],K[q].push(n),Q[q]=Q[q]||[],Array.prototype.push.apply(Q[q],d),(l||void 0===O)&&T(l),l?y(s,q):y(d,q)}function P(e,n){o.isSet(ne[n.getSlotElementId()])||(ne[n.getSlotElementId()]=1,t.execSafe(r.setTargetingForAdUnitsGPTAsync),e())}function D(e,n,a){var g=!1,d=!1,s=!1;return o.each(n,function(t){var n=p(t);if(o.isSet(n)&&n.ng!==!0&&1!==J[t.getSlotElementId()]&&(g=!0),!s&&o.isSet(n)&&n.ng!==!0&&o.isSet(c(2))&&!i.isAuctionClosedForAdUnitCode(n.code,"0")){var r=o.getProxy(P,[e,t]);setTimeout(r,c(2)),o.addToEventQueue("auctionEnd","global",r),s=!0}o.isSet(n)&&n.ng&&(d=!0)}),s!==!0?g===!0&&s===!1?(t.execSafe(r.setTargetingForAdUnitsGPTAsync),void e()):void(d?E(e,n[0].getSlotElementId(),a):e()):void 0}function x(){W||(clearTimeout(z),z=void 0,W=!0,o.each(V,function(e){e()}))}function B(){var t,n=e.googletag.display,r=function(){try{var e=Array.prototype.slice.call(arguments),t=e[0],i=o.getProxy(n,e,this);if(!o.isArray(e)||!o.isStringSet(e[0]))return;if(ee===!0)return void i();E(i,t)}catch(r){}};return o.isSet(c(1))?(t=function(){var e=Array.prototype.slice.call(arguments);return i.checkAllAuctionsDone("0")||W?r.apply(this,e):(o.isSet(z)||(z=setTimeout(x,c(1)),o.addToEventQueue("auctionEnd","global",x)),void V.push(o.getProxy(r,e,this)))},void(e.googletag.display=t)):void(e.googletag.display=r)}function _(t,n){if(0===n.length){try{e.advBidxc.refresh()}catch(i){}return!0}var r,a=[],g=n[0];if(o.each(g,function(e){if(o.isSet(e)){var t=v(e);r=e.getSlotElementId(),o.isSet(t)&&1===J[r]&&a.push(t)}}),a.length>0){try{e.advBidxc.refresh(a)}catch(i){}return!0}return ee===!0?(o.isSet(c(2))?D(t,g,!0):E(t,r,!0),!1):!0}function C(){var t=e.googletag.pubads().refresh;e.googletag.pubads().refresh=function(){var e=Array.prototype.slice.call(arguments);o.isArray(e[0])&&(e[0]=o.filter(e[0],function(e){return o.isSet(e)}));var n=o.getProxy(t,e,this),i=_(n,e);return i?t.apply(this,e):void 0}}function G(){var t=e.googletag.pubads().enableSingleRequest;e.googletag.pubads().enableSingleRequest=function(){return ee===!1&&(te=!0),t.apply(this,Array.prototype.slice.call(arguments))}}function L(){if(e.google_DisableInitialLoad===!0)return ee=!0,void(te=!1);var t=e.googletag.pubads().disableInitialLoad;e.googletag.pubads().disableInitialLoad=function(){return ee=!0,te=!1,t.apply(this,Array.prototype.slice.call(arguments))}}function R(){if(e.googletag&&e.googletag.cmd||(e.googletag=e.googletag||{},e.googletag.cmd=e.googletag.cmd||[]),n.hbInfo&&n.hbInfo.ovGptFun){var t=function(){e.googletag.pubads().addEventListener("slotRenderEnded",function(e){var t=e.slot.getSlotElementId();o.isSet(v(e.slot))&&o.isSet(t)&&(J[t]=1)}),L(),G(),B(),C(),e.advBidxc.setTargetingForAdUnitsGPTAsync=function(){}};o.isArray(e.googletag.cmd)?e.googletag.cmd.unshift(t):($=!0,e.googletag.cmd.push(t))}}function F(t,n){s.isBidPresentForPlacement(n)===!0&&e.googletag.pubads().refresh([t])}function N(e){var t=v(e);if(o.isSet(t)){var n=g.getAutoRefreshTimeout(t);null!==n&&setTimeout(o.getProxy(F,[e,t]),n)}}function M(e){var t=e.slot,r=t.getTargetingMap()||{},a=v(t),g=t.getResponseInformation()||{},s=r[n.bidderExTargetParams.PLACEMENT_ID]&&r[n.bidderExTargetParams.PLACEMENT_ID][0]||a,u=r[n.defaultExTargetParams.PAGE_ID]&&r[n.defaultExTargetParams.PAGE_ID][0]||i.getCurrentPage(),c=i.getWinningBidByCode(s,u,!1)||{};r.advertiserId=g.advertiserId||"",r.campaignId=g.campaignId||"",r.creativeId=g.creativeId||"",r.labelIds=g.labelIds||[],r.lineItemId=g.lineItemId||"",r.slotElementId=t.getSlotElementId(),r.dfpDivSize=o.isArray(e.size)?e.size.join("x"):"",r.originalBidPrice=c&&c.getCustom&&c.getCustom(l.CustomProperties.ORIGINAL_CPM)||"",d.dfpAdDataLog.addDFPSlotData(r)}function U(e){var r=function(){var t=e.slot.getTargetingMap(),r=t[n.bidderExTargetParams.PLACEMENT_ID],a=t[n.defaultExTargetParams.PAGE_ID];o.isArray(a)&&o.isArray(r)&&o.isStringSet(a[0])&&o.isStringSet(r[0])&&i.storeBidIfNotRendered(r[0],a[0])};setTimeout(function(){setTimeout(function(){t.execSafe(r)},500)},500)}function k(){e.googletag.cmd.push(function(){e.googletag.pubads&&e.googletag.pubads().addEventListener("slotRenderEnded",function(e){e&&e.slot&&o.isFunction(e.slot.getTargetingMap)&&(M(e),a.isABTestEnabled("BID_NOT_WON")&&U(e),r.setSlotRenderTime(e.slot.getSlotElementId(),o.clock.getTime("init")))})})}function Y(){Z={}}function w(){u(),R(),k(),o.addToEventQueue("resetAw","command",Y)}var z,O,Q={},q=0,V=[],W=!1,j=n.hbInfo.gbTime||30,H=n.hbInfo.gdTime||300,J={},K={},X={},Z={},$=!1,ee=!1,te=!1,ne={};return{isSlotRendered:m,refreshAd:N,init:w}});_mNDefine("bidmanager",["util","config","bid","entitymanager","thirdpartymanager","storagemanager","abtestmanager","mnetHbConsole","logmanager"],function(e,t,i,n,r,o,u,s,d){"use strict";function a(e,t){return re[e]&&re[e][t]?re[e][t]:null}function c(t,i){e.clock.tick(t+i+"auctionTime")}function l(t,i){var n;if(n=a(i,t),null!==n){q(n);var r=n.bids.slice(1,2);T(t,i,r)}e.clock.time(t+i+"auctionTime")||e.clock.tock(t+i+"auctionTime")}function g(t,i){return e.clock.time(t+i+"auctionTime")||0}function p(t,i){return e.clock.getTime(t+i+"auctionTime")}function f(e,t){var i=n.getAuctionTimeForMnetBidderRequest(),r=p(e,t);return-1!==r&&r>i}function m(e){ae.status=e}function C(){return ae.status}function P(i){var n=e.any(t.bidder,function(e){return e.code===i?e.mnet_id:void 0});return n||0}function A(){var t=[],i={};return e.each(re,function(n,r){e.each(n,function(e,n){i[n]!==!0&&(t.push(n),i[n]=!0)})}),t}function v(t,r){var o,u,s;o=a(r,t),u=q(o),null===u||e.isSet(ue[t])||(s=u.getCustom(i.CustomProperties.RENDER_START_STATUS),s!==!0&&E(n.getPrefetchUrl(),[u]),ue[t]=s||!1)}function E(e,t){for(var r,u,s=[],d=0;d<t.length;d++)u=t[d].serialize(),u[i.CustomProperties.TIMESTAMP]=u[i.CustomProperties.TIMESTAMP]||(new Date).getTime(),u[i.CustomProperties.BID_REUSED_FLAG]=1,u[i.Properties.STATUS]=i.Status.SUCCESS,u[i.CustomProperties.REFERRING_VISIT_ID]=n.resolveMacros("%%VISIT_ID%%"),r=(new i).deserialize(u),s.push(r);o.setInStorage(e,s)}function T(t,i,r){oe[t]=oe[t]||{},oe[t][i]=oe[t][i]||!1,oe[t][i]===!1&&r&&e.isArray(r)&&(oe[t][i]=!0,E(n.getPrefetchUrl(),r))}function I(t,o,u){o=e.isSet(o)?o:"0",e.consoleLog("adding response ",u.serialize());var d=a(o,t);null!==d&&d.auctionClosed||t!==u.get(i.Properties.PLACEMENT_ID)||(d.bidsReceivedCount++,ae.received++,u.getAny("THIRD_PARTY_TARGETS")||u.getAny("THIRD_PARTY_TARGETS_GLOBAL")?r.addBidResponse(t,o,u):(d.bids.push(u),N(u)),y(t,o)&&(d.auctionClosed=!0,l(t,o),s.event("Auc end for "+t),s.log(e.clock.time(t+o+"auctionTime"),"auctionTime","",t),e.triggerEvent("auctionEnd",t,{winner:q(d)}),n.isMnetBidderRequest()&&S(t),h(o)&&(e.triggerEvent("auctionEnd","global"),_())))}function S(t,i){var n={},r=g(t,"0"),o=O(t,"0",!0);e.extend(n,{auctionTime:r,winningBid:null===o[0]?Q("0",t):o[0],secondWinner:o[1],minimal:null===o[0],tp:i||{}}),d.auctionDecisions.addNew(n)}function _(){if(n.isMnetBidderRequest()){var t=n.getMnetBidderCallback();e.isSet(t)&&e.isFunction(window[t])&&window[t].apply(window,[B()]),window.advBidxc.isMnetAdapterLoaded||(window.advBidxc.isMnetAdapterLoaded=!0)}}function b(e){var t={};return t.bid="0.00",t.no_bid=!0,t.adcode=R(e),t.size=n.getSizeForPlacementId(e),t.pcid=e,t.deal_type="",t.deal_id="",t}function R(e){var t='<script language="javascript">window.top.advBidxc.renderAdUnit(window, "'+e+'"); <\/script>';return t}function M(e){var t={};return t.bid="0.00",t.no_bid=!0,t.adcode=R(e),t.size=n.getSizeForPlacementId(e),t.pcid=e,t.deal_type="",t.deal_id="",t.pvid="",t.bid_type="",[t]}function w(e,t){if(null===e)return M(t);var n={};return n.bid=e.get(i.Properties.CPM),n.bid_type="std",n.pvid=e.get(i.Properties.BIDDER_ID),n.no_bid=!1,n.adcode=R(t),n.size=e.get(i.Properties.SIZE),n.pcid=e.get(i.Properties.CREATIVE_ID),n.deal_type=e.getCustom(i.CustomProperties.DEAL_TYPE)||"O",n.deal_id=e.getCustom(i.CustomProperties.DEAL_ID)||"",[n]}function D(e,t){if(2.5===n.getMnetAdapterVersion())return w(e,t);if(null===e)return b(t);var r={};return r.bid=e.get(i.Properties.CPM),r.no_bid=!1,r.adcode=R(t),r.size=e.get(i.Properties.SIZE),r.pcid=e.get(i.Properties.CREATIVE_ID),r.deal_type=e.getCustom(i.CustomProperties.DEAL_TYPE)||"O",r.deal_id=e.getCustom(i.CustomProperties.DEAL_ID)||"",r}function B(){var t,i={};return t=window.advBidxc.isMnetAdapterLoaded===!0?n.getConfigsForPlacementsForMnetAdapterRefresh():n.getConfigForAllPlacements(),e.isArray(t)&&t.length>0&&e.each(t,function(e){var t=e.mnet_id;i[t]=i[t]||{};var n=e.code,r=O(n,"0",!1,!1);i[t]=D(r,t)}),i}function h(e){if(re.hasOwnProperty(e))for(var t in re[e])if(re[e].hasOwnProperty(t)&&re[e][t].auctionClosed===!1)return!1;return!0}function y(e,t){var i=a(t,e);return null!==i&&(Y(i)||n.isMnetBidderRequest()&&f(e,t))}function L(e){return{bidsReceivedCount:0,auctionClosed:!1,bids:[],bidsExpected:e.expectedBids||0,startTime:0,endTime:0,bidders:e.bidders,pageId:e.pageId}}function N(){}function F(){return{bids:[],allBidsAvailable:!1,bidsReceivedCount:0}}function x(t,i){if(!e.isStringSet(i)||!e.isStringSet(t))return[];var n=a(i,t);return null!==n?n.bids:F()}function O(e,t,i,r){var o,u=a(t,e);return o=null!==u&&u.auctionClosed?q(u,i,r):i?[null,null]:null,n.isMnetAdxEnabled(e)&&ee()&&(o=ne.manipulateWinningBid(o,e,t)),o}function U(t,n){var r=O(t,n,!0);return null===r[1]||0===r[1].getCustom(i.CustomProperties.ORIGINAL_CPM)?-1:r[0].getCustom(i.CustomProperties.ORIGINAL_CPM)===r[1].getCustom(i.CustomProperties.ORIGINAL_CPM)?r[0].getCustom(i.CustomProperties.ORIGINAL_CPM):e.decimalLimit(r[1].getCustom(i.CustomProperties.ORIGINAL_CPM)+se)}function k(e){return!!(e&&e.get(i.Properties.CPM)&&e.get(i.Properties.CPM)>0&&e.get(i.Properties.BIDDER_NAME))}function G(e,t){var i=[];return k(e[0])?k(e[1])?i.push(e[0],e[1]):i.push(e[0],null):i.push(null,null),t?i:i[0]}function z(e){e&&e.bids&&!e.winnerDecided&&(e.winnerDecided=!0,e.bids.sort(function(e,t){var n=0,r=0;if(t.get(i.Properties.CPM))try{n=parseFloat(t.get(i.Properties.CPM))}catch(o){}if(e.get(i.Properties.CPM))try{r=parseFloat(e.get(i.Properties.CPM))}catch(o){}return n-r}))}function V(t){if(t&&t.length>0)for(var r=0,o=t.length;o>r&&t[r];)if(k(t[r])&&e.isSet(t[r].getCustom(i.CustomProperties.TIMESTAMP))&&!n.isTimeStampExpired(t[r].getCustom(i.CustomProperties.TIMESTAMP),t[r].getCustom(i.CustomProperties.PROVIDER_NAME)))r++;else{var u=t.splice(r,1);k(u[0])&&e.isSet(u[0].getCustom(i.CustomProperties.TIMESTAMP))&&d.expiredBids.addNew(u[0])}}function q(e,t,i){var n=e.bids;return i!==!0&&V(e.bids),0===n.length?(e.winnerDecided=!0,t?[null,null]:null):e.winnerDecided?G(n,t):(z(e),G(n,t))}function W(e,t){var i=a(t,e);return null!==i&&i.auctionClosed?!0:!1}function Y(e){return e.bidsReceivedCount===e.bidsExpected}function H(t){var i=t.pageId;e.consoleLog(t),s.event("Auc for "+t.adunitCode+" regd"),re[i]=re[i]||{},re[i][t.adunitCode]=L(t),c(t.adunitCode,i),ae.count+=t.expectedBids}function Z(t,i){var n=a(i,t);null===n||n.auctionClosed||(n.auctionClosed=!0,l(t,i),s.event("Auc end for "+t),s.log(e.clock.time(t+i+"auctionTime"),"auctionTime","",t),e.triggerEvent("auctionEnd",t,{winner:q(n)}))}function j(t,i){if(e.isStringSet(t)){if(e.isStringSet(i))Z(i,t);else for(var n in re[t])re[t].hasOwnProperty(n)&&Z(n,t);h(t)&&e.triggerEvent("auctionEnd","global")}}function Q(t,n){var r=a(t,n);if(e.isSet(r)&&e.isArray(r.bids)&&r.bids.length>0)return r.bids[0];var o=P(n);return(new i).setCustom(i.CustomProperties.PAGE_ID,t).set(i.Properties.PLACEMENT_ID,n).set(i.Properties.CREATIVE_ID,o)}function J(){de+=1;var t;try{t=window._mNRequire(["customutil"])[0]}catch(i){}if(e.isSet(t)&&e.isFunction(t.updatePageNo)){var n=parseInt(t.updatePageNo(de),10);n>0&&!re[n]&&K(n)}}function K(e){de=e}function X(){return de.toString()}function $(){ae={count:0,status:0,received:0}}function ee(){try{ne=ne||window._mNRequire(["mnetadxcontroller"])[0]}catch(e){}return ne}function te(t,i){var n=a(i,t);return e.isSet(n)&&e.isSet(n.bidsReceivedCount)?n.bidsReceivedCount>0:!1}function ie(t,i){var n=a(i,t);if(e.isSet(n)&&e.isSet(n.bids))for(var r=0;r<n.bids.length;r++)if(k(n.bids[r]))return!0;return!1}var ne,re={},oe={},ue={},se=.01,de=0,ae={count:0,status:0,received:0};return e.addToEventQueue("all:reset","command",$),{setStatus:m,getStatus:C,addBidResponse:I,registerAuction:H,getAllAdUnitCodesArray:A,createEmptyResponseForAdunit:F,auctionStatus:y,getAllBidsByAdUnit:x,getWinningBid:q,getAnyBid:Q,shutDown:j,getWinningBidByCode:O,isAuctionClosedForAdUnitCode:W,getAuctionTime:g,getSecondPriceByCode:U,newAuction:J,refresh:$,checkAllAuctionsDone:h,getCurrentPage:X,storeBidsForReuse:E,storeBidIfNotRendered:v,isAnyBidReceivedForAdUnit:te,isAnyBidInForAdUnit:ie,getAuctionTimeFromStart:p,callAuctionDecision:S}});_mNDefine("init",["util","_mNRP","config","entitymanager","bidmanager","adaptermanager","dfpmanager","storagemanager","thirdpartymanager","gptmanager","bid","mnetcookiesyncmanager"],function(e,i,t,n,r,d,o,a,s,c,u,g){"use strict";function l(i){var t,n;for(t=0,n=i.length;n>t;t++)e.isFunction(i[t])&&i[t].call(null)}function f(){void 0!==window.advBidxc&&window.advBidxc.exec?(e.isArray(window.advBidxc.exec)&&l(window.advBidxc.exec),window.advBidxc.exec=ee):(window.advBidxc=window.advBidxc||{},window.advBidxc.exec=ee)}function m(i){if(void 0===i)return!0;var t="";return t=n.isAmpRequest()?"ampproject.net":e.getHostname(n.getPublisherUrl()),e.checkItemExistsInArray(i,t)}function p(){for(var e=t.bidder.length;e--;)m(t.bidder[e].dn)||t.bidder.splice(e,1)}function v(){var i=[];return e.each(t.bidder,function(e){e.ng!==!0&&i.push(e.code)}),i}function b(i){var t={};return e.each(i,function(e){t[e]=!0}),t}function A(t,o,a,s){a=e.isSet(a)?a:"0",i.execSafe(function(t,o){e.consoleLog("rendering");var c;if(t&&o){if(c=r.getWinningBidByCode(o,a,!1,!0)){if(c.setCustom(u.CustomProperties.RENDER_START_STATUS,!0),e.consoleLog(c.name()),n.isAdxPostBidToBeDone(o)){if(e.isSet(c.get(u.Properties.SIZE))){var g=X();return void g.postBid(t,c,A,Array.prototype.slice.call(arguments))}i.pushError({message:"placementId - "+o+", pageId - "+a+"bidderID - "+c.get(u.Properties.BIDDER_ID)+"cpm"+c.get(u.Properties.CPM),name:"WINNING_BID_NOT_VALID_ERROR"})}return d.renderAd(t,c,a,s)}i.pushError({message:"placementId - "+o+", pageId - "+a,name:"NO_WINNING_BID_ERROR"}),n.isMnetBidderRequest()&&d.renderEmptyAd(t),e.consoleLog("no winning bid found")}},t,o)}function w(e){i.execSafe(o.setTargetingForAdUnitsGPTAsync,!!e)}function B(i,t){for(var d,o,a,s=i.bids,c=i.code,u=i.sizes,g=n.isTestMode(),l={},f=0,m=0,p=s.length;p>m;m++)d=s[m],("undefined"==typeof d.test||1===d.test&&g)&&(d.code=c,d.sizes=u,d.params.pageId=r.getCurrentPage(),i.ng===!0&&(d.params.ng=i.ng),t===!0&&n.setTestDataForPlacement(c,"m=ref"),o=$[d.bidder],l[d.bidder]=1,void 0===o&&(o={bidderCode:d.bidder,bids:[]},$[o.bidderCode]=o),o.bids.push(d),"ybncabidder"===d.bidder?(e.isArray(d.cbidders)||(d.cbidders=[]),e.isSet(d.params.auto)&&e.getRandom(0,100)<d.params.auto&&e.isSet(d.params["YBNCA-AUTO"])?(a="YBNCA-AUTO",delete d.params.YBNCA):void 0!==d.params.YBNCA&&(a="YBNCA",delete d.params["YBNCA-AUTO"]),e.insertOrReplaceIntoArray(d.cbidders,"YBNCA",a)):"rtbsbidder"===d.bidder&&(e.isArray(d.cbidders)||(d.cbidders=["APPNEXUS","CASALE"],d.params.APPNEXUS={cid:d.params.cid,size:d.params.size},d.params.CASALE={cid:d.params.cid,size:d.params.size})),f+=e.isArray(d.cbidders)?d.cbidders.length:1);return[l,f]}function E(i,t){var n=[];for(var r in $)$.hasOwnProperty(r)&&n.push($[r]);e.isFunction(i)&&n.sort(i),d.getBidsRevamped(n,t)}function I(i,n){var d,o;$={};for(var a=0,s=t.bidder.length;s>a;a++)d=t.bidder[a],i[d.code]===!0&&(o=B(d,n),r.registerAuction({adunitCode:d.code,expectedBids:o[1],timeout:d.timeout,pageId:r.getCurrentPage(),bidders:o[0]}),e.addToEventQueue("auctionEnd",d.code,P));E(t.sort,n)}function h(e){for(var i=!0,n=0,d=t.bidder.length;d>n;n++){var o=t.bidder[n].code;if(i=r.isAuctionClosedForAdUnitCode(e,o),!i)break}return i}function P(i,t){if(n.isAmpRequest())return void Z.triggerAMPDFP(i.src);var d=h(r.getCurrentPage());e.consoleLog("Auction Ends for ",i.src,t),e.consoleLog("All Auction closed :"+d),d&&C()}function R(i){return e.isArray(i)&&0!==i.length}function x(){o.triggerDFP()}function C(){if(K.cDFP&&!n.isMnetBidderRequest())x();else{var i;try{i=window._mNRequire(["customutil"])[0]}catch(t){}e.isSet(i)&&e.isFunction(i.triggerDFP)&&i.triggerDFP()}}function S(){e.addToEventQueue("auctionEnd","global",C),K.timeout&&(e.isFunction(window.advBidxc.loadGPT)||clearTimeout(window.advBidxc.loadGPT),setTimeout(C,K.timeout))}function T(){return n.isDisableUrlRegex()||-1!==n.getPublisherUrl().indexOf("force_hbnobid=1")}function D(){return e.fromIE()&&parseInt(e.ua.split("msie")[1],10)<=9}function y(){var i=n.getRequireModule("customutil");return e.isSet(i)&&e.isFunction(i.isCompletelyDisabled)?i.isCompletelyDisabled():!1}function N(){return K.disable===!0||T()||e.isMobile()&&!a.supportStorage()||K.frlen===!0&&D()||y()}function F(){if(t&&t.antiAdBlock){var i=n.getRequireModule("antiadblock");e.isSet(i)&&i.init()}}function _(){if(t&&t.inImageProd){var i=n.getRequireModule("inimagemanager");e.isSet(i)&&i.init()}}function M(){n.doPrefetchOnWindowLoad()?e.eventLib.addEvent(window,"load",function(){V()}):e.DOMLoadObserver.getInstance().onDOMLoad(function(){V()})}function L(){if(Z=n.getRequireModule("ampdfpmanager"),N()||!R(t.bidder))return void r.setStatus(K.status.FAILED);p();var e=v(),i=b(e);I(i),M()}function q(){if(N()||!R(t.bidder))return C(),void r.setStatus(K.status.FAILED);n.isMnetBidderRequest()||c.init(),p();var i=v(),d=b(i);e.addToEventQueue("idleTime","global",e.getProxy(g.initiateCookieSync,[])),S(),I(d),M(),_(),F(),e.eventLib.addEvent(window,"message",O)}function O(t){var r=e.getPostmessageData(t);if(r&&1==r.isMnetHB&&!n.isAmpRequest()){var d=r.placement||"",o=r.pageID||"";i.pushError({message:"Could not access window.parent at placement: "+d+", pageId: "+o+", customerId: "+n.getCustomerId(),name:"HB_CREATIVE_RENDERED_IN_SOURCEFUL_IFRAME"})}}function U(){if(n.isHeatmapEnabled()){var i=n.getRequireModule("hmManager");e.isSet(i)&&i.init()}}function k(){n.incrementSessionDepth(),e.clock.tick("init"),n.isAmpRequest()?L():q(),f(),U()}function H(){if(r.newAuction(),e.resetEvents(),e.triggerEvent("resetAw","command",!0),!N()&&R(t.bidder)){var i=v(),n=b(i);I(n),Q(!0)}}function Y(i){var t=r.getCurrentPage();e.resetEvents(),i=i||v(),e.each(i,function(e){o.clearSlotsTargetedMap(t,e),o.clearTargeting(e,t,!0)}),e.triggerEvent("all:reset","command",!0,{placements:i,pageId:t});var n=b(i);I(n,!0),w(!0),Q(!1,!0)}function z(i){e.isArray(i)&&i.length>0&&I(b(i))}function G(i){var t=[];e.isArray(i)&&0!==i.length||(t=v()),e.each(i,function(i){var r=n.getSlotNameForCrid(i);e.isSet(r)&&t.push(r)}),n.setPlacementsForMnetAdapterRefresh(t),e.triggerEvent("all:reset","command",!0,{placements:t,pageId:r.getCurrentPage()}),I(b(t)),Q(!1,!0)}function W(e){return t&&t.cbInfo?parseInt(e&&(t.cbInfo.refPrefTime||100)||t.cbInfo.prefTime||0):0}function Q(i,n){var r,d=!!(t&&t.cbInfo&&t.cbInfo.cacheDisabled);if(a.supportStorage()&&!d){if(r=W(n),!i&&r>0)return void setTimeout(function(){Q(!0)},r);e.triggerEventWithBeforeAfter("prefetch","global"),e.triggerEvent("afterAuction","global")}}function V(){e.triggerEvent("idleTime","global"),n.isHdHome()&&n.isPrefetchDisabledForHomePage()||Q()}function X(){try{J=J||window._mNRequire(["mnetadxcontroller"])[0]}catch(e){}return J}function j(i,t){var r=n.getSlotNameForCrid(t);e.isSet(r)&&A(i,r,"0")}var Z,J,K=t.headerBidder,$={},ee={};return ee.push=function(i){e.isFunction(i)&&i.call(null)},window.advBidxc.renderExternal=d.renderExternal,window.advBidxc.renderAd=A,window.advBidxc.setTargetingForAdUnitsGPTAsync=w,window.advBidxc.next=H,window.advBidxc.refresh=Y,window.advBidxc.getBidsForSlots=z,window.advBidxc.refreshMnetBids=G,window.advBidxc.renderAdUnit=j,{init:k}}),window._mNRequire(["init","util","mnetHbConsole","_mNRP"],function(e,i,t,n){"use strict";n.setType("HB"),i.clock.start(),e.init(),t.bootstrap()});} catch (err) {
    var errObj = {};
    var errStacktrace = '';
    var userAgent = encodeURIComponent(window.navigator.userAgent);
    if (err.stack) {errStacktrace = err.stack;}
    else if (err.s) {errStacktrace = err.s;}
    else if (err.stacktrace) {errStacktrace = err.stacktrace;}
    else errStacktrace = 'No StackTrace';
    var objTrace = '';
    for ( var x in err) {
        if (err.hasOwnProperty && err.hasOwnProperty(x)) {
            objTrace += x + " : '" + err[x] + "',";
        }
    }
    errObj.logLevel = 3;
    errObj.errorVal = {};
    errObj.errorVal.name = "bidExchange";
    errObj.errorVal.type = "HB";
    errObj.errorVal.message = "bidExchange encountered an error";
    errObj.errorVal.stack = errStacktrace;
    errObj.errorVal.objTrace = objTrace;
    var errorString = '';
    if (typeof JSON === "object" && typeof JSON.stringify !== "undefined") {
            errorString = JSON.stringify(errObj);
    } else {
        errorString = errObj.errorVal.name + '@#@' + errObj.errorVal.type + '@#@' + errStacktrace + '@#@' + objTrace;
    }
    errorString = encodeURIComponent("[" + errorString + "]");
    var urlSrc = 'http://qsearch.media.net/nerrping.php?userAgent=' + userAgent + '&requrl=' + encodeURIComponent(window.location.href) + '&cid=8CUX956JU&img=logo.gif&d=' + errorString;
    var imgx  = new Image();
    imgx.src = urlSrc;
};